2025-05-18 15:56:56,642 - __main__ - INFO - Loaded configuration from config1.ini
2025-05-18 15:56:56,642 - __main__ - INFO - Added missing option 'data_dir = ./Data/' to section [PATHS] from defaults.
2025-05-18 15:56:56,642 - __main__ - INFO - Added missing option 'sqlite_db_path = :memory:' to section [PATHS] from defaults.
2025-05-18 15:56:56,642 - __main__ - INFO - Added missing option 'sambanova_model = Meta-Llama-3.3-70B-Instruct' to section [MODELS] from defaults.
2025-05-18 15:56:56,642 - __main__ - INFO - Added missing option 'sambanova_base_url = https://api.sambanova.ai/v1' to section [MODELS] from defaults.
2025-05-18 15:56:56,642 - __main__ - INFO - Added missing option 'top_p = 0.1' to section [PARAMETERS] from defaults.
2025-05-18 15:56:56,642 - __main__ - INFO - Added missing option 'max_context_tokens = 6000' to section [PARAMETERS] from defaults.
2025-05-18 15:56:56,642 - __main__ - INFO - Added missing option 'max_output_tokens_sambanova = 1024' to section [PARAMETERS] from defaults.
2025-05-18 15:56:56,642 - __main__ - INFO - Added missing option 'max_chars_per_element = 1200' to section [PARAMETERS] from defaults.
2025-05-18 15:56:56,642 - __main__ - INFO - Added missing option 'pptx_merge_threshold_words = 50' to section [PARAMETERS] from defaults.
2025-05-18 15:56:56,642 - __main__ - INFO - Added missing option 'dataframe_query_confidence_threshold = 0.70' to section [PARAMETERS] from defaults.
2025-05-18 15:56:56,642 - __main__ - INFO - Added missing option 'max_chat_history_turns = 5' to section [PARAMETERS] from defaults.
2025-05-18 15:56:56,642 - __main__ - INFO - Added missing section [SUPPORTED_EXTENSIONS] from defaults.
2025-05-18 15:56:56,642 - __main__ - INFO - Added missing option 'extensions = .pdf, .xlsx, .csv, .pptx' to section [SUPPORTED_EXTENSIONS] from defaults.
2025-05-18 15:56:56,642 - __main__ - INFO - Added missing section [API_KEYS] from defaults.
2025-05-18 15:56:56,642 - __main__ - INFO - Added missing option 'sambanova_api_key_config = ' to section [API_KEYS] from defaults.
2025-05-18 15:56:56,651 - __main__ - INFO - Initializing RAG system (SambaNova Version). Device: cpu, Supported files: ('.pdf', '.xlsx', '.csv', '.pptx')
2025-05-18 15:56:56,654 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-05-18 15:56:56,654 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-05-18 15:56:59,742 - __main__ - INFO - Local embedding model loaded successfully
2025-05-18 15:56:59,744 - __main__ - INFO - Connected to SQLite database at ':memory:'
2025-05-18 15:57:06,060 - __main__ - INFO - Clearing existing tables from in-memory database...
2025-05-18 15:57:06,060 - __main__ - INFO - Dropped 0 tables.
2025-05-18 15:57:06,061 - __main__ - INFO - Processing 15 supported files from ./Data/
2025-05-18 15:57:06,061 - __main__ - INFO - --- Processing (1/15): BASF Technical proposal (2).pdf ---
2025-05-18 15:57:06,070 - __main__ - INFO - Loaded 55 text chunks from ./Faiss_index/BASF_Technical_proposal__2_.json
2025-05-18 15:57:06,071 - __main__ - INFO - Loaded FAISS index for BASF Technical proposal (2).pdf (55 vectors)
2025-05-18 15:57:06,071 - __main__ - INFO - Verified existing text index for BASF Technical proposal (2).pdf
2025-05-18 15:57:06,071 - __main__ - INFO - --- Processing (2/15): Chola MS Sparta Maps proposal_V1.pdf ---
2025-05-18 15:57:06,072 - __main__ - INFO - Loaded 23 text chunks from ./Faiss_index/Chola_MS_Sparta_Maps_proposal_V1.json
2025-05-18 15:57:06,073 - __main__ - INFO - Loaded FAISS index for Chola MS Sparta Maps proposal_V1.pdf (23 vectors)
2025-05-18 15:57:06,073 - __main__ - INFO - Verified existing text index for Chola MS Sparta Maps proposal_V1.pdf
2025-05-18 15:57:06,073 - __main__ - INFO - --- Processing (3/15): Gebana_EUDR_SatSure.pdf ---
2025-05-18 15:57:06,074 - __main__ - INFO - Loaded 31 text chunks from ./Faiss_index/Gebana_EUDR_SatSure.json
2025-05-18 15:57:06,075 - __main__ - INFO - Loaded FAISS index for Gebana_EUDR_SatSure.pdf (31 vectors)
2025-05-18 15:57:06,075 - __main__ - INFO - Verified existing text index for Gebana_EUDR_SatSure.pdf
2025-05-18 15:57:06,075 - __main__ - INFO - --- Processing (4/15): ITC paperboard Proposal.pdf ---
2025-05-18 15:57:06,076 - __main__ - INFO - Loaded 45 text chunks from ./Faiss_index/ITC_paperboard_Proposal.json
2025-05-18 15:57:06,077 - __main__ - INFO - Loaded FAISS index for ITC paperboard Proposal.pdf (45 vectors)
2025-05-18 15:57:06,077 - __main__ - INFO - Verified existing text index for ITC paperboard Proposal.pdf
2025-05-18 15:57:06,077 - __main__ - INFO - --- Processing (5/15): JB boda_SatSure.pdf ---
2025-05-18 15:57:06,077 - __main__ - INFO - Loaded 17 text chunks from ./Faiss_index/JB_boda_SatSure.json
2025-05-18 15:57:06,078 - __main__ - INFO - Loaded FAISS index for JB boda_SatSure.pdf (17 vectors)
2025-05-18 15:57:06,078 - __main__ - INFO - Verified existing text index for JB boda_SatSure.pdf
2025-05-18 15:57:06,078 - __main__ - INFO - --- Processing (6/15): JICA_Proposal_SatSure.pdf ---
2025-05-18 15:57:06,079 - __main__ - INFO - Loaded 38 text chunks from ./Faiss_index/JICA_Proposal_SatSure.json
2025-05-18 15:57:06,080 - __main__ - INFO - Loaded FAISS index for JICA_Proposal_SatSure.pdf (38 vectors)
2025-05-18 15:57:06,080 - __main__ - INFO - Verified existing text index for JICA_Proposal_SatSure.pdf
2025-05-18 15:57:06,080 - __main__ - INFO - --- Processing (7/15): Market Potential and demand estimation usecase.docx.pdf ---
2025-05-18 15:57:06,080 - __main__ - INFO - Loaded 10 text chunks from ./Faiss_index/Market_Potential_and_demand_estimation_usecase.docx.json
2025-05-18 15:57:06,081 - __main__ - INFO - Loaded FAISS index for Market Potential and demand estimation usecase.docx.pdf (10 vectors)
2025-05-18 15:57:06,081 - __main__ - INFO - Verified existing text index for Market Potential and demand estimation usecase.docx.pdf
2025-05-18 15:57:06,081 - __main__ - INFO - --- Processing (8/15): Munichre_Satsure.pdf ---
2025-05-18 15:57:06,082 - __main__ - INFO - Loaded 46 text chunks from ./Faiss_index/Munichre_Satsure.json
2025-05-18 15:57:06,083 - __main__ - INFO - Loaded FAISS index for Munichre_Satsure.pdf (46 vectors)
2025-05-18 15:57:06,083 - __main__ - INFO - Verified existing text index for Munichre_Satsure.pdf
2025-05-18 15:57:06,083 - __main__ - INFO - --- Processing (9/15): Punjab Proposal_SatSure.pdf ---
2025-05-18 15:57:06,084 - __main__ - INFO - Loaded 21 text chunks from ./Faiss_index/Punjab_Proposal_SatSure.json
2025-05-18 15:57:06,085 - __main__ - INFO - Loaded FAISS index for Punjab Proposal_SatSure.pdf (21 vectors)
2025-05-18 15:57:06,085 - __main__ - INFO - Verified existing text index for Punjab Proposal_SatSure.pdf
2025-05-18 15:57:06,085 - __main__ - INFO - --- Processing (10/15): Raizen (1).pdf ---
2025-05-18 15:57:06,085 - __main__ - INFO - Loaded 58 text chunks from ./Faiss_index/Raizen__1_.json
2025-05-18 15:57:06,087 - __main__ - INFO - Loaded FAISS index for Raizen (1).pdf (58 vectors)
2025-05-18 15:57:06,087 - __main__ - INFO - Verified existing text index for Raizen (1).pdf
2025-05-18 15:57:06,087 - __main__ - INFO - --- Processing (11/15): SS Alliance-Roadmap for Africa expansion_SatSure (1).pdf ---
2025-05-18 15:57:06,088 - __main__ - INFO - Loaded 43 text chunks from ./Faiss_index/SS_Alliance-Roadmap_for_Africa_expansion_SatSure__1_.json
2025-05-18 15:57:06,089 - __main__ - INFO - Loaded FAISS index for SS Alliance-Roadmap for Africa expansion_SatSure (1).pdf (43 vectors)
2025-05-18 15:57:06,089 - __main__ - INFO - Verified existing text index for SS Alliance-Roadmap for Africa expansion_SatSure (1).pdf
2025-05-18 15:57:06,089 - __main__ - INFO - --- Processing (12/15): SatSure_Sugarcane (1).pdf ---
2025-05-18 15:57:06,090 - __main__ - INFO - Loaded 70 text chunks from ./Faiss_index/SatSure_Sugarcane__1_.json
2025-05-18 15:57:06,092 - __main__ - INFO - Loaded FAISS index for SatSure_Sugarcane (1).pdf (70 vectors)
2025-05-18 15:57:06,092 - __main__ - INFO - Verified existing text index for SatSure_Sugarcane (1).pdf
2025-05-18 15:57:06,092 - __main__ - INFO - --- Processing (13/15): Satsure_IFAD_Proposal.pdf ---
2025-05-18 15:57:06,093 - __main__ - INFO - Loaded 84 text chunks from ./Faiss_index/Satsure_IFAD_Proposal.json
2025-05-18 15:57:06,094 - __main__ - INFO - Loaded FAISS index for Satsure_IFAD_Proposal.pdf (84 vectors)
2025-05-18 15:57:06,094 - __main__ - INFO - Verified existing text index for Satsure_IFAD_Proposal.pdf
2025-05-18 15:57:06,094 - __main__ - INFO - --- Processing (14/15): Villgro_SatSure.pdf ---
2025-05-18 15:57:06,095 - __main__ - INFO - Loaded 31 text chunks from ./Faiss_index/Villgro_SatSure.json
2025-05-18 15:57:06,096 - __main__ - INFO - Loaded FAISS index for Villgro_SatSure.pdf (31 vectors)
2025-05-18 15:57:06,096 - __main__ - INFO - Verified existing text index for Villgro_SatSure.pdf
2025-05-18 15:57:06,096 - __main__ - INFO - --- Processing (15/15): Yara_ SatSure.pdf ---
2025-05-18 15:57:06,097 - __main__ - INFO - Loaded 25 text chunks from ./Faiss_index/Yara__SatSure.json
2025-05-18 15:57:06,098 - __main__ - INFO - Loaded FAISS index for Yara_ SatSure.pdf (25 vectors)
2025-05-18 15:57:06,098 - __main__ - INFO - Verified existing text index for Yara_ SatSure.pdf
2025-05-18 15:57:06,098 - __main__ - INFO - --- Processing Complete. Processed 15 files. ---
2025-05-18 15:57:21,262 - __main__ - INFO - --- Starting SambaNova query: 'Tell me about the BASF proposal...' ---
2025-05-18 15:57:21,386 - __main__ - INFO - SambaNova OpenAI client initialized (Model: Meta-Llama-3.3-70B-Instruct, Base URL: https://api.sambanova.ai/v1)
2025-05-18 15:57:21,386 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-18 15:57:22,949 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-18 15:57:22,965 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Simple Retrieval", "confidence": 0.95}...'
2025-05-18 15:57:22,966 - __main__ - INFO - Query classified as 'Simple Retrieval' with confidence 0.95
2025-05-18 15:57:22,967 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-18 15:57:22,968 - __main__ - INFO - Querying SambaNova model Meta-Llama-3.3-70B-Instruct with text context and history...
2025-05-18 15:57:24,512 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-18 15:57:24,519 - __main__ - INFO - SambaNova response received. Length: 1139
2025-05-18 15:57:24,520 - __main__ - INFO - --- SambaNova query finished. Source: Text RAG (SambaNova) --- Status: Completed Successfully ---
2025-05-18 16:15:57,685 - __main__ - INFO - --- Starting SambaNova query: 'What is BASF...' ---
2025-05-18 16:15:57,689 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query refinement...
2025-05-18 16:15:59,152 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-18 16:15:59,154 - __main__ - INFO - SambaNova response for query refinement: 'What is BASF, a chemical company, and its relevance to the agricultural industry, particularly in relation to satellite intelligence and digital solut...'
2025-05-18 16:15:59,154 - __main__ - INFO - Query refined by SambaNova to: 'What is BASF, a chemical company, and its relevance to the agricultural industry, particularly in re...'
2025-05-18 16:15:59,191 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-18 16:15:59,925 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-18 16:15:59,928 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Complex/Reasoning (Text)", "confidence": 0.92}...'
2025-05-18 16:15:59,928 - __main__ - INFO - Query classified as 'Complex/Reasoning (Text)' with confidence 0.92
2025-05-18 16:15:59,929 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-18 16:15:59,931 - __main__ - INFO - Querying SambaNova model Meta-Llama-3.3-70B-Instruct with text context and history...
2025-05-18 16:16:01,391 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-18 16:16:01,392 - __main__ - INFO - SambaNova response received. Length: 1194
2025-05-18 16:16:01,393 - __main__ - INFO - --- SambaNova query finished. Source: Text RAG (SambaNova) --- Status: Completed Successfully ---
2025-05-19 11:03:50,642 - __main__ - INFO - Loaded configuration from config1.ini
2025-05-19 11:03:50,642 - __main__ - INFO - Added missing option 'data_dir = ./Data/' to section [PATHS] from defaults.
2025-05-19 11:03:50,642 - __main__ - INFO - Added missing option 'sqlite_db_path = :memory:' to section [PATHS] from defaults.
2025-05-19 11:03:50,642 - __main__ - INFO - Added missing option 'sambanova_model = Meta-Llama-3.3-70B-Instruct' to section [MODELS] from defaults.
2025-05-19 11:03:50,642 - __main__ - INFO - Added missing option 'sambanova_base_url = https://api.sambanova.ai/v1' to section [MODELS] from defaults.
2025-05-19 11:03:50,642 - __main__ - INFO - Added missing option 'top_p = 0.1' to section [PARAMETERS] from defaults.
2025-05-19 11:03:50,642 - __main__ - INFO - Added missing option 'max_context_tokens = 6000' to section [PARAMETERS] from defaults.
2025-05-19 11:03:50,643 - __main__ - INFO - Added missing option 'max_output_tokens_sambanova = 1024' to section [PARAMETERS] from defaults.
2025-05-19 11:03:50,643 - __main__ - INFO - Added missing option 'max_chars_per_element = 1200' to section [PARAMETERS] from defaults.
2025-05-19 11:03:50,643 - __main__ - INFO - Added missing option 'pptx_merge_threshold_words = 50' to section [PARAMETERS] from defaults.
2025-05-19 11:03:50,643 - __main__ - INFO - Added missing option 'dataframe_query_confidence_threshold = 0.70' to section [PARAMETERS] from defaults.
2025-05-19 11:03:50,643 - __main__ - INFO - Added missing option 'max_chat_history_turns = 5' to section [PARAMETERS] from defaults.
2025-05-19 11:03:50,643 - __main__ - INFO - Added missing section [SUPPORTED_EXTENSIONS] from defaults.
2025-05-19 11:03:50,643 - __main__ - INFO - Added missing option 'extensions = .pdf, .xlsx, .csv, .pptx' to section [SUPPORTED_EXTENSIONS] from defaults.
2025-05-19 11:03:50,643 - __main__ - INFO - Added missing section [API_KEYS] from defaults.
2025-05-19 11:03:50,643 - __main__ - INFO - Added missing option 'sambanova_api_key_config = ' to section [API_KEYS] from defaults.
2025-05-19 11:03:50,652 - __main__ - INFO - Initializing RAG system (SambaNova Version). Device: cuda, Supported files: ('.pdf', '.xlsx', '.csv', '.pptx')
2025-05-19 11:03:50,655 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda
2025-05-19 11:03:50,655 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-05-19 11:03:56,136 - __main__ - INFO - Local embedding model loaded successfully
2025-05-19 11:03:56,136 - __main__ - INFO - Connected to SQLite database at ':memory:'
2025-05-19 11:11:49,965 - __main__ - INFO - Clearing existing tables from in-memory database...
2025-05-19 11:11:49,965 - __main__ - INFO - Dropped 0 tables.
2025-05-19 11:11:49,968 - __main__ - INFO - Processing 1 supported files from ./Data/
2025-05-19 11:11:49,969 - __main__ - INFO - --- Processing (1/1): Smart_Farming_Crop_Yield_2024.csv ---
2025-05-19 11:11:49,970 - __main__ - INFO - Processing CSV: Smart_Farming_Crop_Yield_2024.csv
2025-05-19 11:11:50,004 - __main__ - INFO - Read CSV Smart_Farming_Crop_Yield_2024.csv using encoding: utf-8. (Rows: 500, Cols: 22)
2025-05-19 11:11:50,081 - __main__ - INFO - SambaNova OpenAI client initialized (Model: Meta-Llama-3.3-70B-Instruct, Base URL: https://api.sambanova.ai/v1)
2025-05-19 11:11:50,089 - __main__ - INFO - Requesting column metadata from SambaNova for Smart_Farming_Crop_Yield_2024.csv...
2025-05-19 11:11:53,422 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-19 11:11:53,429 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 87 (char 88). Raw response: {
  "farm_id": { "description": "Unique identifier for each farm.", "sql_type": "TEXT" },
  "region": { "description": "Geographical region where the farm is located.", "sql_type": "TEXT" },
  "crop_type": { "description": "Type of crop being cultivated.", "sql_type": "TEXT" },
  "soil_moisture": { "description": "Soil moisture level measured in percentage.", "sql_type": "REAL" },
  "soil_pH": { "description": "Soil pH level, a measure of its acidity or alkalinity.", "sql_type": "REAL" },
  "temperature_C": { "description": "Temperature in degrees Celsius.", "sql_type": "REAL" },
  "rainfall_mm": { "description": "Total rainfall measured in millimeters.", "sql_type": "REAL" },
  "humidity": { "description": "Relative humidity measured in percentage.", "sql_type": "REAL" },
  "sunlight_hours": { "description": "Number of hours of sunlight per day.", "sql_type": "REAL" },
  "irrigation_type": { "description": "Method or system used for irrigation.", "sql_type": "TEXT" },
  "fertilizer_type": { "description": "Type of fertilizer used.", "sql_type": "TEXT" },
  "pesticide_usage_ml": { "description": "Amount of pesticide used measured in milliliters.", "sql_type": "REAL" },
  "sowing_date": { "description": "Date when the crop was sown.", "sql_type": "TEXT" },
  "harvest_date": { "description": "Date when the crop was harvested.", "sql_type": "TEXT" },
  "total_days": { "description": "Total number of days from sowing to harvest.", "sql_type": "INTEGER" },
  "yield_kg_per_hectare": { "description": "Crop yield measured in kilograms per hectare.", "sql_type": "REAL" },
  "sensor_id": { "description": "Unique identifier for the sensor used.", "sql_type": "TEXT" },
  "timestamp": { "description": "Timestamp for when the data was recorded or updated.", "sql_type": "TEXT" },
  "latitude": { "description": "Geographical latitude of the farm location.", "sql_type": "REAL" },
  "longitude": { "description": "Geographical longitude of the farm location.", "sql_type": "REAL" },
  "NDVI_index": { "description": "Normalized Difference Vegetation Index, a measure of vegetation health.", "sql_type": "REAL" },
  "crop_disease_status": { "description": "Status or severity of disease affecting the crop.", "sql_type": "TEXT" }
}
2025-05-19 11:11:53,430 - __main__ - WARNING - Failed to get column metadata for CSV via SambaNova. Proceeding without descriptions.
2025-05-19 11:11:53,472 - __main__ - INFO - Loading DataFrame into SQL table 'smart_farming_crop_yield_2024'...
2025-05-19 11:11:53,514 - __main__ - INFO - DataFrame loaded into table 'smart_farming_crop_yield_2024' (500 rows).
2025-05-19 11:11:53,514 - __main__ - INFO - Successfully loaded CSV Smart_Farming_Crop_Yield_2024.csv into SQL table 'smart_farming_crop_yield_2024'
2025-05-19 11:11:53,515 - __main__ - INFO - --- Processing Complete. Processed 1 files. ---
2025-05-19 11:12:12,041 - __main__ - INFO - --- Starting SambaNova query: 'What is the most used fertilizer type in South USA and how mnay times?...' ---
2025-05-19 11:12:12,043 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-19 11:12:13,798 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-19 11:12:13,801 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Structured Query (SQL)", "confidence": 0.95}...'
2025-05-19 11:12:13,801 - __main__ - INFO - Query classified as 'Structured Query (SQL)' with confidence 0.95
2025-05-19 11:12:13,803 - __main__ - INFO - Attempting SQL path with SambaNova assistance.
2025-05-19 11:12:13,804 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: SQL target table identification...
2025-05-19 11:12:14,579 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-19 11:12:14,580 - __main__ - INFO - SambaNova response for SQL target table identification: 'smart_farming_crop_yield_2024...'
2025-05-19 11:12:14,580 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: SQL query generation for smart_farming_crop_yield_2024...
2025-05-19 11:12:15,436 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-19 11:12:15,438 - __main__ - INFO - SambaNova response for SQL query generation for smart_farming_crop_yield_2024: '```sql
SELECT "fertilizer_type", COUNT("fertilizer_type") as count
FROM smart_farming_crop_yield_2024
WHERE "region" = 'South USA'
GROUP BY "fertilize...'
2025-05-19 11:12:15,439 - __main__ - INFO - Generated SQL for 'smart_farming_crop_yield_2024': SELECT "fertilizer_type", COUNT("fertilizer_type") as count
FROM smart_farming_crop_yield_2024
WHERE "region" = 'South USA'
GROUP BY "fertilizer_type"
ORDER BY count DESC
LIMIT 1
2025-05-19 11:12:15,439 - __main__ - INFO - Executing SQL: SELECT "fertilizer_type", COUNT("fertilizer_type") as count
FROM smart_farming_crop_yield_2024
WHERE "region" = 'South USA'
GROUP BY "fertilizer_type"
ORDER BY count DESC
LIMIT 1
2025-05-19 11:12:15,444 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: SQL result synthesis...
2025-05-19 11:12:16,153 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-19 11:12:16,155 - __main__ - INFO - SambaNova response for SQL result synthesis: 'The most used fertilizer type in South USA is Organic, used 37 times....'
2025-05-19 11:12:16,159 - __main__ - INFO - --- SambaNova query finished. Source: SQL Query (SambaNova assisted) --- Status: Completed Successfully ---
2025-05-19 11:14:33,731 - __main__ - INFO - --- Starting SambaNova query: 'What is the most used type?...' ---
2025-05-19 11:14:33,733 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query refinement...
2025-05-19 11:14:35,088 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-19 11:14:35,093 - __main__ - INFO - SambaNova response for query refinement: 'What is the most used fertilizer type in the Southern United States?...'
2025-05-19 11:14:35,094 - __main__ - INFO - Query refined by SambaNova to: 'What is the most used fertilizer type in the Southern United States?...'
2025-05-19 11:14:35,096 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-19 11:14:35,890 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-19 11:14:35,893 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Structured Query (SQL)", "confidence": 0.95}...'
2025-05-19 11:14:35,894 - __main__ - INFO - Query classified as 'Structured Query (SQL)' with confidence 0.95
2025-05-19 11:14:35,895 - __main__ - INFO - Attempting SQL path with SambaNova assistance.
2025-05-19 11:14:35,895 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: SQL target table identification...
2025-05-19 11:14:36,849 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-19 11:14:36,851 - __main__ - INFO - SambaNova response for SQL target table identification: 'smart_farming_crop_yield_2024...'
2025-05-19 11:14:36,855 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: SQL query generation for smart_farming_crop_yield_2024...
2025-05-19 11:14:38,383 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-19 11:14:38,385 - __main__ - INFO - SambaNova response for SQL query generation for smart_farming_crop_yield_2024: '```sql
SELECT "fertilizer_type" 
FROM smart_farming_crop_yield_2024 
WHERE "region" = 'Southern United States' 
GROUP BY "fertilizer_type" 
ORDER BY C...'
2025-05-19 11:14:38,386 - __main__ - INFO - Generated SQL for 'smart_farming_crop_yield_2024': SELECT "fertilizer_type" 
FROM smart_farming_crop_yield_2024 
WHERE "region" = 'Southern United States' 
GROUP BY "fertilizer_type" 
ORDER BY COUNT("fertilizer_type") DESC 
LIMIT 1
2025-05-19 11:14:38,386 - __main__ - INFO - Executing SQL: SELECT "fertilizer_type" 
FROM smart_farming_crop_yield_2024 
WHERE "region" = 'Southern United States' 
GROUP BY "fertilizer_type" 
ORDER BY COUNT("fertilizer_type") DESC 
LIMIT 1
2025-05-19 11:14:38,390 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: SQL result synthesis...
2025-05-19 11:14:39,621 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-19 11:14:39,624 - __main__ - INFO - SambaNova response for SQL result synthesis: 'I looked in the data but couldn't find any information about the most used fertilizer type in the Southern United States....'
2025-05-19 11:14:39,625 - __main__ - INFO - --- SambaNova query finished. Source: SQL Query (SambaNova assisted) --- Status: Completed Successfully ---
2025-05-19 11:16:14,959 - __main__ - INFO - --- Starting SambaNova query: 'Give me an analysis of the entire document uploaded to you...' ---
2025-05-19 11:16:14,962 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query refinement...
2025-05-19 11:16:16,695 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-19 11:16:16,697 - __main__ - INFO - SambaNova response for query refinement: 'Analyze the entire document that was previously uploaded, providing a comprehensive overview of its content, structure, and key findings....'
2025-05-19 11:16:16,698 - __main__ - INFO - Query refined by SambaNova to: 'Analyze the entire document that was previously uploaded, providing a comprehensive overview of its ...'
2025-05-19 11:16:16,701 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-19 11:16:17,617 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-19 11:16:17,620 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Complex/Reasoning (Text)", "confidence": 0.95}...'
2025-05-19 11:16:17,620 - __main__ - INFO - Query classified as 'Complex/Reasoning (Text)' with confidence 0.95
2025-05-19 11:16:17,621 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-21 10:32:45,340 - __main__ - INFO - Loaded configuration from config1.ini
2025-05-21 10:32:45,340 - __main__ - INFO - Added missing option 'data_dir = ./Data/' to section [PATHS] from defaults.
2025-05-21 10:32:45,341 - __main__ - INFO - Added missing option 'sqlite_db_path = :memory:' to section [PATHS] from defaults.
2025-05-21 10:32:45,341 - __main__ - INFO - Added missing option 'sambanova_model = Meta-Llama-3.3-70B-Instruct' to section [MODELS] from defaults.
2025-05-21 10:32:45,341 - __main__ - INFO - Added missing option 'sambanova_base_url = https://api.sambanova.ai/v1' to section [MODELS] from defaults.
2025-05-21 10:32:45,341 - __main__ - INFO - Added missing option 'top_p = 0.1' to section [PARAMETERS] from defaults.
2025-05-21 10:32:45,341 - __main__ - INFO - Added missing option 'max_context_tokens = 6000' to section [PARAMETERS] from defaults.
2025-05-21 10:32:45,341 - __main__ - INFO - Added missing option 'max_output_tokens_sambanova = 1024' to section [PARAMETERS] from defaults.
2025-05-21 10:32:45,341 - __main__ - INFO - Added missing option 'max_chars_per_element = 1200' to section [PARAMETERS] from defaults.
2025-05-21 10:32:45,341 - __main__ - INFO - Added missing option 'pptx_merge_threshold_words = 50' to section [PARAMETERS] from defaults.
2025-05-21 10:32:45,341 - __main__ - INFO - Added missing option 'dataframe_query_confidence_threshold = 0.70' to section [PARAMETERS] from defaults.
2025-05-21 10:32:45,341 - __main__ - INFO - Added missing option 'max_chat_history_turns = 5' to section [PARAMETERS] from defaults.
2025-05-21 10:32:45,341 - __main__ - INFO - Added missing section [SUPPORTED_EXTENSIONS] from defaults.
2025-05-21 10:32:45,341 - __main__ - INFO - Added missing option 'extensions = .pdf, .xlsx, .csv, .pptx' to section [SUPPORTED_EXTENSIONS] from defaults.
2025-05-21 10:32:45,341 - __main__ - INFO - Added missing section [API_KEYS] from defaults.
2025-05-21 10:32:45,341 - __main__ - INFO - Added missing option 'sambanova_api_key_config = ' to section [API_KEYS] from defaults.
2025-05-21 10:32:45,358 - __main__ - INFO - Initializing RAG system (SambaNova Version). Device: cpu, Supported files: ('.pdf', '.xlsx', '.csv', '.pptx')
2025-05-21 10:32:45,362 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-05-21 10:32:45,362 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-05-21 10:32:49,315 - __main__ - INFO - Local embedding model loaded successfully
2025-05-21 10:32:49,317 - __main__ - INFO - Connected to SQLite database at ':memory:'
2025-05-21 10:37:35,569 - __main__ - INFO - Clearing existing tables from in-memory database...
2025-05-21 10:37:35,569 - __main__ - INFO - Dropped 0 tables.
2025-05-21 10:37:35,569 - __main__ - INFO - Processing 3 supported files from ./Data/
2025-05-21 10:37:35,569 - __main__ - INFO - --- Processing (1/3): Data Processing Levels.xlsx ---
2025-05-21 10:37:35,677 - __main__ - INFO - Processing XLSX: Data Processing Levels.xlsx (Sheets: 2)
2025-05-21 10:37:35,677 - __main__ - INFO - Processing sheet 'Data Processing Levels' (1/2) in Data Processing Levels.xlsx
2025-05-21 10:37:35,695 - __main__ - INFO - Loaded DataFrame from sheet 'Data Processing Levels' (Rows: 13, Cols: 4)
2025-05-21 10:37:35,743 - __main__ - INFO - SambaNova OpenAI client initialized (Model: Meta-Llama-3.3-70B-Instruct, Base URL: https://api.sambanova.ai/v1)
2025-05-21 10:37:35,744 - __main__ - INFO - Requesting column metadata from SambaNova for Data Processing Levels.xlsx/Data Processing Levels...
2025-05-21 10:37:37,267 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 10:37:37,274 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 86 (char 87). Raw response: {
  "Level": { "description": "Data processing level identifier.", "sql_type": "TEXT" },
  "Description": { "description": "Detailed description of the data processing level.", "sql_type": "TEXT" },
  "Example___Satellite_derived": { "description": "Example of satellite-derived data for the corresponding level.", "sql_type": "TEXT" },
  "Example___Non_satellite_derived": { "description": "Example of non-satellite-derived data for the corresponding level.", "sql_type": "TEXT" }
}
2025-05-21 10:37:37,274 - __main__ - WARNING - Failed to get column metadata for sheet 'Data Processing Levels' via SambaNova. Proceeding without descriptions.
2025-05-21 10:37:37,280 - __main__ - INFO - Loading DataFrame into SQL table 'data_processing_levels_data_processing_levels'...
2025-05-21 10:37:37,288 - __main__ - INFO - DataFrame loaded into table 'data_processing_levels_data_processing_levels' (13 rows).
2025-05-21 10:37:37,288 - __main__ - INFO - Successfully loaded sheet 'Data Processing Levels' into SQL table 'data_processing_levels_data_processing_levels'
2025-05-21 10:37:37,289 - __main__ - INFO - Processing sheet 'Data Product Nomenclature' (2/2) in Data Processing Levels.xlsx
2025-05-21 10:37:37,294 - __main__ - WARNING - Sheet 'Data Product Nomenclature' in Data Processing Levels.xlsx is empty. Skipping.
2025-05-21 10:37:37,295 - __main__ - INFO - Finished processing XLSX Data Processing Levels.xlsx. Sheets Loaded: 1/2, Metadata OK: 0, SQL OK: 1
2025-05-21 10:37:37,295 - __main__ - INFO - --- Processing (2/3): Soil Indicators and Feasibility USIng RS & GIS.xlsx ---
2025-05-21 10:37:37,306 - __main__ - INFO - Processing XLSX: Soil Indicators and Feasibility USIng RS & GIS.xlsx (Sheets: 1)
2025-05-21 10:37:37,306 - __main__ - INFO - Processing sheet 'Soil_Parameters' (1/1) in Soil Indicators and Feasibility USIng RS & GIS.xlsx
2025-05-21 10:37:37,311 - __main__ - INFO - Loaded DataFrame from sheet 'Soil_Parameters' (Rows: 11, Cols: 3)
2025-05-21 10:37:37,313 - __main__ - INFO - Requesting column metadata from SambaNova for Soil Indicators and Feasibility USIng RS & GIS.xlsx/Soil_Parameters...
2025-05-21 10:37:38,184 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 10:37:38,187 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 112 (char 113). Raw response: {
  "Indicator": { "description": "Name of the soil indicator being measured or monitored.", "sql_type": "TEXT" },
  "RS_GIS_Feasibility": { "description": "Description of the feasibility of using Remote Sensing and GIS for the indicator.", "sql_type": "TEXT" },
  "Notes": { "description": "Additional notes or comments related to the indicator and its measurement.", "sql_type": "TEXT" }
}
2025-05-21 10:37:38,188 - __main__ - WARNING - Failed to get column metadata for sheet 'Soil_Parameters' via SambaNova. Proceeding without descriptions.
2025-05-21 10:37:38,193 - __main__ - INFO - Loading DataFrame into SQL table 'soil_indicators_and_feasibility_using_rs___gis_soil_paramete'...
2025-05-21 10:37:38,198 - __main__ - INFO - DataFrame loaded into table 'soil_indicators_and_feasibility_using_rs___gis_soil_paramete' (11 rows).
2025-05-21 10:37:38,198 - __main__ - INFO - Successfully loaded sheet 'Soil_Parameters' into SQL table 'soil_indicators_and_feasibility_using_rs___gis_soil_paramete'
2025-05-21 10:37:38,199 - __main__ - INFO - Finished processing XLSX Soil Indicators and Feasibility USIng RS & GIS.xlsx. Sheets Loaded: 1/1, Metadata OK: 0, SQL OK: 1
2025-05-21 10:37:38,199 - __main__ - INFO - --- Processing (3/3): SpaceUp Competition.xlsx ---
2025-05-21 10:37:38,221 - __main__ - INFO - Processing XLSX: SpaceUp Competition.xlsx (Sheets: 6)
2025-05-21 10:37:38,221 - __main__ - INFO - Processing sheet 'Overview' (1/6) in SpaceUp Competition.xlsx
2025-05-21 10:37:38,231 - __main__ - INFO - Loaded DataFrame from sheet 'Overview' (Rows: 37, Cols: 2)
2025-05-21 10:37:38,232 - __main__ - INFO - Requesting column metadata from SambaNova for SpaceUp Competition.xlsx/Overview...
2025-05-21 10:37:39,091 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 10:37:39,095 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 132 (char 133). Raw response: {
  "SpaceUp_Competition": { "description": "Name or description of the SpaceUp competition or its organizers.", "sql_type": "TEXT" },
  "Unnamed__1": { "description": "Department or organization related to the SpaceUp competition.", "sql_type": "TEXT" }
}
2025-05-21 10:37:39,095 - __main__ - WARNING - Failed to get column metadata for sheet 'Overview' via SambaNova. Proceeding without descriptions.
2025-05-21 10:37:39,098 - __main__ - INFO - Loading DataFrame into SQL table 'spaceup_competition_overview'...
2025-05-21 10:37:39,099 - __main__ - INFO - DataFrame loaded into table 'spaceup_competition_overview' (37 rows).
2025-05-21 10:37:39,099 - __main__ - INFO - Successfully loaded sheet 'Overview' into SQL table 'spaceup_competition_overview'
2025-05-21 10:37:39,100 - __main__ - INFO - Processing sheet 'Challenge 1' (2/6) in SpaceUp Competition.xlsx
2025-05-21 10:37:39,108 - __main__ - INFO - Loaded DataFrame from sheet 'Challenge 1' (Rows: 28, Cols: 2)
2025-05-21 10:37:39,110 - __main__ - INFO - Requesting column metadata from SambaNova for SpaceUp Competition.xlsx/Challenge 1...
2025-05-21 10:37:40,068 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 10:37:40,070 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 93 (char 94). Raw response: {
  "Challenge_Name": { "description": "Name or title of the challenge.", "sql_type": "TEXT" },
  "Greening_Saudi_Arabia": { "description": "Value associated with the challenge, possibly a monetary amount.", "sql_type": "TEXT" }
}
2025-05-21 10:37:40,071 - __main__ - WARNING - Failed to get column metadata for sheet 'Challenge 1' via SambaNova. Proceeding without descriptions.
2025-05-21 10:37:40,074 - __main__ - INFO - Loading DataFrame into SQL table 'spaceup_competition_challenge_1'...
2025-05-21 10:37:40,079 - __main__ - INFO - DataFrame loaded into table 'spaceup_competition_challenge_1' (28 rows).
2025-05-21 10:37:40,079 - __main__ - INFO - Successfully loaded sheet 'Challenge 1' into SQL table 'spaceup_competition_challenge_1'
2025-05-21 10:37:40,080 - __main__ - INFO - Processing sheet 'Challenge 2' (3/6) in SpaceUp Competition.xlsx
2025-05-21 10:37:40,084 - __main__ - INFO - Loaded DataFrame from sheet 'Challenge 2' (Rows: 28, Cols: 2)
2025-05-21 10:37:40,086 - __main__ - INFO - Requesting column metadata from SambaNova for SpaceUp Competition.xlsx/Challenge 2...
2025-05-21 10:37:41,021 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 10:37:41,026 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 95 (char 96). Raw response: {
  "Challenge_Name": { "description": "The name or title of a challenge.", "sql_type": "TEXT" },
  "Mapping_of_Urban_Trees": { "description": "A value representing the mapping or impact of urban trees, possibly including currency symbols and units.", "sql_type": "TEXT" }
}
2025-05-21 10:37:41,027 - __main__ - WARNING - Failed to get column metadata for sheet 'Challenge 2' via SambaNova. Proceeding without descriptions.
2025-05-21 10:37:41,030 - __main__ - INFO - Loading DataFrame into SQL table 'spaceup_competition_challenge_2'...
2025-05-21 10:37:41,031 - __main__ - INFO - DataFrame loaded into table 'spaceup_competition_challenge_2' (28 rows).
2025-05-21 10:37:41,032 - __main__ - INFO - Successfully loaded sheet 'Challenge 2' into SQL table 'spaceup_competition_challenge_2'
2025-05-21 10:37:41,032 - __main__ - INFO - Processing sheet 'Challenge 3' (4/6) in SpaceUp Competition.xlsx
2025-05-21 10:37:41,041 - __main__ - INFO - Loaded DataFrame from sheet 'Challenge 3' (Rows: 34, Cols: 2)
2025-05-21 10:37:41,042 - __main__ - INFO - Requesting column metadata from SambaNova for SpaceUp Competition.xlsx/Challenge 3...
2025-05-21 10:37:41,973 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 10:37:41,975 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 88 (char 89). Raw response: {
  "Challenge_Name": { "description": "The name of the challenge.", "sql_type": "TEXT" },
  "Improving_City_Livability_by_Monitoring_Urban_Heat_Islands": { "description": "The value associated with the challenge, possibly a monetary value or a description.", "sql_type": "TEXT" }
}
2025-05-21 10:37:41,976 - __main__ - WARNING - Failed to get column metadata for sheet 'Challenge 3' via SambaNova. Proceeding without descriptions.
2025-05-21 10:37:41,980 - __main__ - INFO - Loading DataFrame into SQL table 'spaceup_competition_challenge_3'...
2025-05-21 10:37:41,985 - __main__ - INFO - DataFrame loaded into table 'spaceup_competition_challenge_3' (34 rows).
2025-05-21 10:37:41,986 - __main__ - INFO - Successfully loaded sheet 'Challenge 3' into SQL table 'spaceup_competition_challenge_3'
2025-05-21 10:37:41,986 - __main__ - INFO - Processing sheet 'Challenge 4' (5/6) in SpaceUp Competition.xlsx
2025-05-21 10:37:41,991 - __main__ - INFO - Loaded DataFrame from sheet 'Challenge 4' (Rows: 28, Cols: 2)
2025-05-21 10:37:41,992 - __main__ - INFO - Requesting column metadata from SambaNova for SpaceUp Competition.xlsx/Challenge 4...
2025-05-21 10:37:42,793 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 10:37:42,795 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 88 (char 89). Raw response: {
  "Challenge_Name": { "description": "The name of the challenge.", "sql_type": "TEXT" },
  "Monitoring_Date_Palms_Pest_and_Disease": { "description": "The date for monitoring palms pest and disease.", "sql_type": "TEXT" }
}
2025-05-21 10:37:42,796 - __main__ - WARNING - Failed to get column metadata for sheet 'Challenge 4' via SambaNova. Proceeding without descriptions.
2025-05-21 10:37:42,797 - __main__ - INFO - Loading DataFrame into SQL table 'spaceup_competition_challenge_4'...
2025-05-21 10:37:42,799 - __main__ - INFO - DataFrame loaded into table 'spaceup_competition_challenge_4' (28 rows).
2025-05-21 10:37:42,799 - __main__ - INFO - Successfully loaded sheet 'Challenge 4' into SQL table 'spaceup_competition_challenge_4'
2025-05-21 10:37:42,799 - __main__ - INFO - Processing sheet 'Sheet6' (6/6) in SpaceUp Competition.xlsx
2025-05-21 10:37:42,802 - __main__ - INFO - Loaded DataFrame from sheet 'Sheet6' (Rows: 9, Cols: 4)
2025-05-21 10:37:42,803 - __main__ - INFO - Requesting column metadata from SambaNova for SpaceUp Competition.xlsx/Sheet6...
2025-05-21 10:37:43,666 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 10:37:43,674 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 93 (char 94). Raw response: {
  "Phase": { "description": "The phase of the project or competition.", "sql_type": "TEXT" },
  "Timeline": { "description": "The timeline or duration of the project phase.", "sql_type": "TEXT" },
  "Tools___Features": { "description": "The tools and features used or developed during the project phase.", "sql_type": "TEXT" },
  "Outcome": { "description": "The outcome or result of the project phase.", "sql_type": "TEXT" }
}
2025-05-21 10:37:43,674 - __main__ - WARNING - Failed to get column metadata for sheet 'Sheet6' via SambaNova. Proceeding without descriptions.
2025-05-21 10:37:43,681 - __main__ - INFO - Loading DataFrame into SQL table 'spaceup_competition_sheet6'...
2025-05-21 10:37:43,686 - __main__ - INFO - DataFrame loaded into table 'spaceup_competition_sheet6' (9 rows).
2025-05-21 10:37:43,686 - __main__ - INFO - Successfully loaded sheet 'Sheet6' into SQL table 'spaceup_competition_sheet6'
2025-05-21 10:37:43,687 - __main__ - INFO - Finished processing XLSX SpaceUp Competition.xlsx. Sheets Loaded: 6/6, Metadata OK: 0, SQL OK: 6
2025-05-21 10:37:43,687 - __main__ - INFO - --- Processing Complete. Processed 3 files. ---
2025-05-21 10:39:14,100 - __main__ - INFO - --- Starting SambaNova query: 'Who were the sponsors of SpaceUp competetion?...' ---
2025-05-21 10:39:14,101 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-21 10:39:15,463 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 10:39:15,466 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Simple Retrieval", "confidence": 0.95}...'
2025-05-21 10:39:15,467 - __main__ - INFO - Query classified as 'Simple Retrieval' with confidence 0.95
2025-05-21 10:39:15,468 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-21 10:43:45,466 - __main__ - INFO - --- Starting SambaNova query: 'Who were the organizers of the SpaceUp competition...' ---
2025-05-21 10:43:45,467 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query refinement...
2025-05-21 10:43:46,695 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 10:43:46,697 - __main__ - INFO - SambaNova response for query refinement: 'What were the names of the organizations or entities that organized the SpaceUp competition?...'
2025-05-21 10:43:46,698 - __main__ - INFO - Query refined by SambaNova to: 'What were the names of the organizations or entities that organized the SpaceUp competition?...'
2025-05-21 10:43:46,701 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-21 10:43:47,439 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 10:43:47,441 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Simple Retrieval", "confidence": 0.95}...'
2025-05-21 10:43:47,442 - __main__ - INFO - Query classified as 'Simple Retrieval' with confidence 0.95
2025-05-21 10:43:47,443 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-21 10:45:28,534 - __main__ - INFO - Clearing existing tables from in-memory database...
2025-05-21 10:45:28,535 - __main__ - INFO - Dropped 8 tables.
2025-05-21 10:45:28,535 - __main__ - INFO - Processing 4 supported files from ./Data/
2025-05-21 10:45:28,535 - __main__ - INFO - --- Processing (1/4): Data Processing Levels.xlsx ---
2025-05-21 10:45:28,545 - __main__ - INFO - Processing XLSX: Data Processing Levels.xlsx (Sheets: 2)
2025-05-21 10:45:28,545 - __main__ - INFO - Processing sheet 'Data Processing Levels' (1/2) in Data Processing Levels.xlsx
2025-05-21 10:45:28,561 - __main__ - INFO - Loaded DataFrame from sheet 'Data Processing Levels' (Rows: 13, Cols: 4)
2025-05-21 10:45:28,562 - __main__ - INFO - Requesting column metadata from SambaNova for Data Processing Levels.xlsx/Data Processing Levels...
2025-05-21 10:45:30,474 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 10:45:30,476 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 86 (char 87). Raw response: {
  "Level": { "description": "Data processing level identifier.", "sql_type": "TEXT" },
  "Description": { "description": "Detailed description of the data processing level.", "sql_type": "TEXT" },
  "Example___Satellite_derived": { "description": "Example of satellite-derived data for the corresponding level.", "sql_type": "TEXT" },
  "Example___Non_satellite_derived": { "description": "Example of non-satellite-derived data for the corresponding level.", "sql_type": "TEXT" }
}
2025-05-21 10:45:30,476 - __main__ - WARNING - Failed to get column metadata for sheet 'Data Processing Levels' via SambaNova. Proceeding without descriptions.
2025-05-21 10:45:30,483 - __main__ - INFO - Loading DataFrame into SQL table 'data_processing_levels_data_processing_levels'...
2025-05-21 10:45:30,491 - __main__ - INFO - DataFrame loaded into table 'data_processing_levels_data_processing_levels' (13 rows).
2025-05-21 10:45:30,491 - __main__ - INFO - Successfully loaded sheet 'Data Processing Levels' into SQL table 'data_processing_levels_data_processing_levels'
2025-05-21 10:45:30,492 - __main__ - INFO - Processing sheet 'Data Product Nomenclature' (2/2) in Data Processing Levels.xlsx
2025-05-21 10:45:30,498 - __main__ - WARNING - Sheet 'Data Product Nomenclature' in Data Processing Levels.xlsx is empty. Skipping.
2025-05-21 10:45:30,499 - __main__ - INFO - Finished processing XLSX Data Processing Levels.xlsx. Sheets Loaded: 1/2, Metadata OK: 0, SQL OK: 1
2025-05-21 10:45:30,499 - __main__ - INFO - --- Processing (2/4): Soil Indicators and Feasibility USIng RS & GIS.xlsx ---
2025-05-21 10:45:30,509 - __main__ - INFO - Processing XLSX: Soil Indicators and Feasibility USIng RS & GIS.xlsx (Sheets: 1)
2025-05-21 10:45:30,509 - __main__ - INFO - Processing sheet 'Soil_Parameters' (1/1) in Soil Indicators and Feasibility USIng RS & GIS.xlsx
2025-05-21 10:45:30,513 - __main__ - INFO - Loaded DataFrame from sheet 'Soil_Parameters' (Rows: 11, Cols: 3)
2025-05-21 10:45:30,515 - __main__ - INFO - Requesting column metadata from SambaNova for Soil Indicators and Feasibility USIng RS & GIS.xlsx/Soil_Parameters...
2025-05-21 10:45:31,452 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 10:45:31,455 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 112 (char 113). Raw response: {
  "Indicator": { "description": "Name of the soil indicator being measured or monitored.", "sql_type": "TEXT" },
  "RS_GIS_Feasibility": { "description": "Description of the feasibility of using Remote Sensing and GIS for the indicator.", "sql_type": "TEXT" },
  "Notes": { "description": "Additional notes or comments related to the indicator and its measurement.", "sql_type": "TEXT" }
}
2025-05-21 10:45:31,455 - __main__ - WARNING - Failed to get column metadata for sheet 'Soil_Parameters' via SambaNova. Proceeding without descriptions.
2025-05-21 10:45:31,458 - __main__ - INFO - Loading DataFrame into SQL table 'soil_indicators_and_feasibility_using_rs___gis_soil_paramete'...
2025-05-21 10:45:31,464 - __main__ - INFO - DataFrame loaded into table 'soil_indicators_and_feasibility_using_rs___gis_soil_paramete' (11 rows).
2025-05-21 10:45:31,464 - __main__ - INFO - Successfully loaded sheet 'Soil_Parameters' into SQL table 'soil_indicators_and_feasibility_using_rs___gis_soil_paramete'
2025-05-21 10:45:31,464 - __main__ - INFO - Finished processing XLSX Soil Indicators and Feasibility USIng RS & GIS.xlsx. Sheets Loaded: 1/1, Metadata OK: 0, SQL OK: 1
2025-05-21 10:45:31,465 - __main__ - INFO - --- Processing (3/4): SpaceUp Competition - Overview.pdf ---
2025-05-21 10:45:31,476 - pdfminer.pdfpage - WARNING - CropBox missing from /Page, defaulting to MediaBox
2025-05-21 10:45:31,477 - pdfminer.pdfpage - WARNING - CropBox missing from /Page, defaulting to MediaBox
2025-05-21 10:45:31,477 - __main__ - INFO - Extracting text/tables from PDF: SpaceUp Competition - Overview.pdf (2 pages) - Applying structural heuristics.
2025-05-21 10:45:31,556 - pdfminer.pdfpage - WARNING - CropBox missing from /Page, defaulting to MediaBox
2025-05-21 10:45:31,556 - pdfminer.pdfpage - WARNING - CropBox missing from /Page, defaulting to MediaBox
2025-05-21 10:45:31,557 - __main__ - INFO - Extracted 4 text/table content blocks from PDF: SpaceUp Competition - Overview.pdf with structural tagging.
2025-05-21 10:45:31,557 - __main__ - INFO - Created 6 text chunks from 4 content blocks.
2025-05-21 10:45:31,557 - __main__ - INFO - Saved 6 text chunks to ./Faiss_index/SpaceUp_Competition_-_Overview.json
2025-05-21 10:45:31,835 - __main__ - INFO - Generated and saved text index for SpaceUp Competition - Overview.pdf (6 vectors)
2025-05-21 10:45:31,835 - __main__ - INFO - --- Processing (4/4): SpaceUp Competition.xlsx ---
2025-05-21 10:45:31,854 - __main__ - INFO - Processing XLSX: SpaceUp Competition.xlsx (Sheets: 6)
2025-05-21 10:45:31,855 - __main__ - INFO - Processing sheet 'Overview' (1/6) in SpaceUp Competition.xlsx
2025-05-21 10:45:31,867 - __main__ - INFO - Loaded DataFrame from sheet 'Overview' (Rows: 37, Cols: 2)
2025-05-21 10:45:31,868 - __main__ - INFO - Requesting column metadata from SambaNova for SpaceUp Competition.xlsx/Overview...
2025-05-21 10:45:32,768 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 10:45:32,771 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 132 (char 133). Raw response: {
  "SpaceUp_Competition": { "description": "Name or description of the SpaceUp competition or its organizers.", "sql_type": "TEXT" },
  "Unnamed__1": { "description": "Department or organization related to the SpaceUp competition.", "sql_type": "TEXT" }
}
2025-05-21 10:45:32,771 - __main__ - WARNING - Failed to get column metadata for sheet 'Overview' via SambaNova. Proceeding without descriptions.
2025-05-21 10:45:32,776 - __main__ - INFO - Loading DataFrame into SQL table 'spaceup_competition_overview'...
2025-05-21 10:45:32,781 - __main__ - INFO - DataFrame loaded into table 'spaceup_competition_overview' (37 rows).
2025-05-21 10:45:32,782 - __main__ - INFO - Successfully loaded sheet 'Overview' into SQL table 'spaceup_competition_overview'
2025-05-21 10:45:32,782 - __main__ - INFO - Processing sheet 'Challenge 1' (2/6) in SpaceUp Competition.xlsx
2025-05-21 10:45:32,801 - __main__ - INFO - Loaded DataFrame from sheet 'Challenge 1' (Rows: 28, Cols: 2)
2025-05-21 10:45:32,803 - __main__ - INFO - Requesting column metadata from SambaNova for SpaceUp Competition.xlsx/Challenge 1...
2025-05-21 10:45:33,736 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 10:45:33,737 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 93 (char 94). Raw response: {
  "Challenge_Name": { "description": "Name or title of the challenge.", "sql_type": "TEXT" },
  "Greening_Saudi_Arabia": { "description": "Value associated with the challenge, possibly a monetary amount.", "sql_type": "TEXT" }
}
2025-05-21 10:45:33,737 - __main__ - WARNING - Failed to get column metadata for sheet 'Challenge 1' via SambaNova. Proceeding without descriptions.
2025-05-21 10:45:33,738 - __main__ - INFO - Loading DataFrame into SQL table 'spaceup_competition_challenge_1'...
2025-05-21 10:45:33,739 - __main__ - INFO - DataFrame loaded into table 'spaceup_competition_challenge_1' (28 rows).
2025-05-21 10:45:33,739 - __main__ - INFO - Successfully loaded sheet 'Challenge 1' into SQL table 'spaceup_competition_challenge_1'
2025-05-21 10:45:33,740 - __main__ - INFO - Processing sheet 'Challenge 2' (3/6) in SpaceUp Competition.xlsx
2025-05-21 10:45:33,743 - __main__ - INFO - Loaded DataFrame from sheet 'Challenge 2' (Rows: 28, Cols: 2)
2025-05-21 10:45:33,745 - __main__ - INFO - Requesting column metadata from SambaNova for SpaceUp Competition.xlsx/Challenge 2...
2025-05-21 10:45:34,663 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 10:45:34,667 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 95 (char 96). Raw response: {
  "Challenge_Name": { "description": "The name or title of a challenge.", "sql_type": "TEXT" },
  "Mapping_of_Urban_Trees": { "description": "A value representing the mapping or impact of urban trees, possibly including currency symbols and units.", "sql_type": "TEXT" }
}
2025-05-21 10:45:34,667 - __main__ - WARNING - Failed to get column metadata for sheet 'Challenge 2' via SambaNova. Proceeding without descriptions.
2025-05-21 10:45:34,671 - __main__ - INFO - Loading DataFrame into SQL table 'spaceup_competition_challenge_2'...
2025-05-21 10:45:34,676 - __main__ - INFO - DataFrame loaded into table 'spaceup_competition_challenge_2' (28 rows).
2025-05-21 10:45:34,676 - __main__ - INFO - Successfully loaded sheet 'Challenge 2' into SQL table 'spaceup_competition_challenge_2'
2025-05-21 10:45:34,677 - __main__ - INFO - Processing sheet 'Challenge 3' (4/6) in SpaceUp Competition.xlsx
2025-05-21 10:45:34,711 - __main__ - INFO - Loaded DataFrame from sheet 'Challenge 3' (Rows: 34, Cols: 2)
2025-05-21 10:45:34,713 - __main__ - INFO - Requesting column metadata from SambaNova for SpaceUp Competition.xlsx/Challenge 3...
2025-05-21 10:45:35,681 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 10:45:35,683 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 88 (char 89). Raw response: {
  "Challenge_Name": { "description": "The name of the challenge.", "sql_type": "TEXT" },
  "Improving_City_Livability_by_Monitoring_Urban_Heat_Islands": { "description": "The value associated with the challenge, possibly a monetary value or a description.", "sql_type": "TEXT" }
}
2025-05-21 10:45:35,683 - __main__ - WARNING - Failed to get column metadata for sheet 'Challenge 3' via SambaNova. Proceeding without descriptions.
2025-05-21 10:45:35,687 - __main__ - INFO - Loading DataFrame into SQL table 'spaceup_competition_challenge_3'...
2025-05-21 10:45:35,693 - __main__ - INFO - DataFrame loaded into table 'spaceup_competition_challenge_3' (34 rows).
2025-05-21 10:45:35,693 - __main__ - INFO - Successfully loaded sheet 'Challenge 3' into SQL table 'spaceup_competition_challenge_3'
2025-05-21 10:45:35,694 - __main__ - INFO - Processing sheet 'Challenge 4' (5/6) in SpaceUp Competition.xlsx
2025-05-21 10:45:35,704 - __main__ - INFO - Loaded DataFrame from sheet 'Challenge 4' (Rows: 28, Cols: 2)
2025-05-21 10:45:35,709 - __main__ - INFO - Requesting column metadata from SambaNova for SpaceUp Competition.xlsx/Challenge 4...
2025-05-21 10:45:36,501 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 10:45:36,504 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 88 (char 89). Raw response: {
  "Challenge_Name": { "description": "The name of the challenge.", "sql_type": "TEXT" },
  "Monitoring_Date_Palms_Pest_and_Disease": { "description": "The date for monitoring palms pest and disease.", "sql_type": "TEXT" }
}
2025-05-21 10:45:36,504 - __main__ - WARNING - Failed to get column metadata for sheet 'Challenge 4' via SambaNova. Proceeding without descriptions.
2025-05-21 10:45:36,508 - __main__ - INFO - Loading DataFrame into SQL table 'spaceup_competition_challenge_4'...
2025-05-21 10:45:36,514 - __main__ - INFO - DataFrame loaded into table 'spaceup_competition_challenge_4' (28 rows).
2025-05-21 10:45:36,514 - __main__ - INFO - Successfully loaded sheet 'Challenge 4' into SQL table 'spaceup_competition_challenge_4'
2025-05-21 10:45:36,515 - __main__ - INFO - Processing sheet 'Sheet6' (6/6) in SpaceUp Competition.xlsx
2025-05-21 10:45:36,526 - __main__ - INFO - Loaded DataFrame from sheet 'Sheet6' (Rows: 9, Cols: 4)
2025-05-21 10:45:36,531 - __main__ - INFO - Requesting column metadata from SambaNova for SpaceUp Competition.xlsx/Sheet6...
2025-05-21 10:45:37,524 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 10:45:37,528 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 93 (char 94). Raw response: {
  "Phase": { "description": "The phase of the project or competition.", "sql_type": "TEXT" },
  "Timeline": { "description": "The timeline or duration of the project phase.", "sql_type": "TEXT" },
  "Tools___Features": { "description": "The tools and features used or developed during the project phase.", "sql_type": "TEXT" },
  "Outcome": { "description": "The outcome or result of the project phase.", "sql_type": "TEXT" }
}
2025-05-21 10:45:37,528 - __main__ - WARNING - Failed to get column metadata for sheet 'Sheet6' via SambaNova. Proceeding without descriptions.
2025-05-21 10:45:37,534 - __main__ - INFO - Loading DataFrame into SQL table 'spaceup_competition_sheet6'...
2025-05-21 10:45:37,542 - __main__ - INFO - DataFrame loaded into table 'spaceup_competition_sheet6' (9 rows).
2025-05-21 10:45:37,542 - __main__ - INFO - Successfully loaded sheet 'Sheet6' into SQL table 'spaceup_competition_sheet6'
2025-05-21 10:45:37,544 - __main__ - INFO - Finished processing XLSX SpaceUp Competition.xlsx. Sheets Loaded: 6/6, Metadata OK: 0, SQL OK: 6
2025-05-21 10:45:37,544 - __main__ - INFO - --- Processing Complete. Processed 4 files. ---
2025-05-21 10:45:48,772 - __main__ - INFO - --- Starting SambaNova query: 'Who were the sponsors of SpaceUp competetion?...' ---
2025-05-21 10:45:48,774 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query refinement...
2025-05-21 10:45:49,931 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 10:45:49,936 - __main__ - INFO - SambaNova response for query refinement: 'What were the names of the organizations or companies that sponsored the SpaceUp competition?...'
2025-05-21 10:45:49,936 - __main__ - INFO - Query refined by SambaNova to: 'What were the names of the organizations or companies that sponsored the SpaceUp competition?...'
2025-05-21 10:45:49,973 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-21 10:45:50,696 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 10:45:50,700 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Simple Retrieval", "confidence": 0.95}...'
2025-05-21 10:45:50,701 - __main__ - INFO - Query classified as 'Simple Retrieval' with confidence 0.95
2025-05-21 10:45:50,702 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-21 10:45:50,704 - __main__ - INFO - Querying SambaNova model Meta-Llama-3.3-70B-Instruct with text context and history...
2025-05-21 10:45:51,860 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 10:45:51,863 - __main__ - INFO - SambaNova response received. Length: 368
2025-05-21 10:45:51,864 - __main__ - INFO - --- SambaNova query finished. Source: Text RAG (SambaNova) --- Status: Completed Successfully ---
2025-05-21 10:59:20,347 - __main__ - INFO - --- Starting SambaNova query: 'What was it's objective?...' ---
2025-05-21 10:59:20,348 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query refinement...
2025-05-21 10:59:21,582 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 10:59:21,585 - __main__ - INFO - SambaNova response for query refinement: 'What was the objective of the SpaceUp competition?...'
2025-05-21 10:59:21,585 - __main__ - INFO - Query refined by SambaNova to: 'What was the objective of the SpaceUp competition?...'
2025-05-21 10:59:21,622 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-21 10:59:22,337 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 10:59:22,342 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Simple Retrieval", "confidence": 0.98}...'
2025-05-21 10:59:22,343 - __main__ - INFO - Query classified as 'Simple Retrieval' with confidence 0.98
2025-05-21 10:59:22,344 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-21 10:59:22,346 - __main__ - INFO - Querying SambaNova model Meta-Llama-3.3-70B-Instruct with text context and history...
2025-05-21 10:59:23,267 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 10:59:23,269 - __main__ - INFO - SambaNova response received. Length: 292
2025-05-21 10:59:23,270 - __main__ - INFO - --- SambaNova query finished. Source: Text RAG (SambaNova) --- Status: Completed Successfully ---
2025-05-21 11:51:11,789 - __main__ - INFO - Loaded configuration from config1.ini
2025-05-21 11:51:11,789 - __main__ - INFO - Added missing option 'data_dir = ./Data/' to section [PATHS] from defaults.
2025-05-21 11:51:11,790 - __main__ - INFO - Added missing option 'sqlite_db_path = :memory:' to section [PATHS] from defaults.
2025-05-21 11:51:11,790 - __main__ - INFO - Added missing option 'sambanova_model = Meta-Llama-3.3-70B-Instruct' to section [MODELS] from defaults.
2025-05-21 11:51:11,790 - __main__ - INFO - Added missing option 'sambanova_base_url = https://api.sambanova.ai/v1' to section [MODELS] from defaults.
2025-05-21 11:51:11,790 - __main__ - INFO - Added missing option 'top_p = 0.1' to section [PARAMETERS] from defaults.
2025-05-21 11:51:11,790 - __main__ - INFO - Added missing option 'max_context_tokens = 6000' to section [PARAMETERS] from defaults.
2025-05-21 11:51:11,790 - __main__ - INFO - Added missing option 'max_chars_per_element = 1200' to section [PARAMETERS] from defaults.
2025-05-21 11:51:11,790 - __main__ - INFO - Added missing option 'pptx_merge_threshold_words = 50' to section [PARAMETERS] from defaults.
2025-05-21 11:51:11,790 - __main__ - INFO - Added missing option 'dataframe_query_confidence_threshold = 0.70' to section [PARAMETERS] from defaults.
2025-05-21 11:51:11,790 - __main__ - INFO - Added missing option 'max_chat_history_turns = 5' to section [PARAMETERS] from defaults.
2025-05-21 11:51:11,790 - __main__ - INFO - Added missing section [SUPPORTED_EXTENSIONS] from defaults.
2025-05-21 11:51:11,790 - __main__ - INFO - Added missing option 'extensions = .pdf, .xlsx, .csv, .pptx' to section [SUPPORTED_EXTENSIONS] from defaults.
2025-05-21 11:51:11,790 - __main__ - INFO - Added missing section [API_KEYS] from defaults.
2025-05-21 11:51:11,790 - __main__ - INFO - Added missing option 'sambanova_api_key_config = ' to section [API_KEYS] from defaults.
2025-05-21 11:51:11,797 - __main__ - INFO - Initializing RAG system (SambaNova Version). Device: cpu, Supported files: ('.pdf', '.xlsx', '.csv', '.pptx')
2025-05-21 11:51:11,800 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-05-21 11:51:11,800 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-05-21 11:51:16,313 - __main__ - INFO - Local embedding model loaded successfully
2025-05-21 11:51:16,314 - __main__ - INFO - Connected to SQLite database at ':memory:'
2025-05-21 12:05:51,443 - __main__ - INFO - Clearing existing tables from in-memory database...
2025-05-21 12:05:51,443 - __main__ - INFO - Dropped 0 tables.
2025-05-21 12:05:51,443 - __main__ - INFO - Processing 21 supported files from ./Data/
2025-05-21 12:05:51,444 - __main__ - INFO - --- Processing (1/21): BASF Technical proposal (2).pdf ---
2025-05-21 12:05:51,453 - __main__ - INFO - Loaded 55 text chunks from ./Faiss_index/BASF_Technical_proposal__2_.json
2025-05-21 12:05:51,455 - __main__ - INFO - Loaded FAISS index for BASF Technical proposal (2).pdf (55 vectors)
2025-05-21 12:05:51,455 - __main__ - INFO - Verified existing text index for BASF Technical proposal (2).pdf
2025-05-21 12:05:51,456 - __main__ - INFO - --- Processing (2/21): Chola MS Sparta Maps proposal_V1.pdf ---
2025-05-21 12:05:51,456 - __main__ - INFO - Loaded 23 text chunks from ./Faiss_index/Chola_MS_Sparta_Maps_proposal_V1.json
2025-05-21 12:05:51,457 - __main__ - INFO - Loaded FAISS index for Chola MS Sparta Maps proposal_V1.pdf (23 vectors)
2025-05-21 12:05:51,457 - __main__ - INFO - Verified existing text index for Chola MS Sparta Maps proposal_V1.pdf
2025-05-21 12:05:51,457 - __main__ - INFO - --- Processing (3/21): Data Processing Levels.xlsx ---
2025-05-21 12:05:51,535 - __main__ - INFO - Processing XLSX: Data Processing Levels.xlsx (Sheets: 2)
2025-05-21 12:05:51,535 - __main__ - INFO - Processing sheet 'Data Processing Levels' (1/2) in Data Processing Levels.xlsx
2025-05-21 12:05:51,552 - __main__ - INFO - Loaded DataFrame from sheet 'Data Processing Levels' (Rows: 13, Cols: 4)
2025-05-21 12:05:51,607 - __main__ - INFO - SambaNova OpenAI client initialized (Model: Meta-Llama-3.3-70B-Instruct, Base URL: https://api.sambanova.ai/v1)
2025-05-21 12:05:51,608 - __main__ - INFO - Requesting column metadata from SambaNova for Data Processing Levels.xlsx/Data Processing Levels...
2025-05-21 12:05:53,535 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 12:05:53,607 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 86 (char 87). Raw response: {
  "Level": { "description": "Data processing level identifier.", "sql_type": "TEXT" },
  "Description": { "description": "Detailed description of the data processing level.", "sql_type": "TEXT" },
  "Example___Satellite_derived": { "description": "Example of satellite-derived data for the corresponding level.", "sql_type": "TEXT" },
  "Example___Non_satellite_derived": { "description": "Example of non-satellite-derived data for the corresponding level.", "sql_type": "TEXT" }
}
2025-05-21 12:05:53,607 - __main__ - WARNING - Failed to get column metadata for sheet 'Data Processing Levels' via SambaNova. Proceeding without descriptions.
2025-05-21 12:05:53,615 - __main__ - INFO - Loading DataFrame into SQL table 'data_processing_levels_data_processing_levels'...
2025-05-21 12:05:53,623 - __main__ - INFO - DataFrame loaded into table 'data_processing_levels_data_processing_levels' (13 rows).
2025-05-21 12:05:53,624 - __main__ - INFO - Successfully loaded sheet 'Data Processing Levels' into SQL table 'data_processing_levels_data_processing_levels'
2025-05-21 12:05:53,625 - __main__ - INFO - Processing sheet 'Data Product Nomenclature' (2/2) in Data Processing Levels.xlsx
2025-05-21 12:05:53,631 - __main__ - WARNING - Sheet 'Data Product Nomenclature' in Data Processing Levels.xlsx is empty. Skipping.
2025-05-21 12:05:53,631 - __main__ - INFO - Finished processing XLSX Data Processing Levels.xlsx. Sheets Loaded: 1/2, Metadata OK: 0, SQL OK: 1
2025-05-21 12:05:53,632 - __main__ - INFO - --- Processing (4/21): Gebana_EUDR_SatSure.pdf ---
2025-05-21 12:05:53,641 - __main__ - INFO - Loaded 31 text chunks from ./Faiss_index/Gebana_EUDR_SatSure.json
2025-05-21 12:05:53,643 - __main__ - INFO - Loaded FAISS index for Gebana_EUDR_SatSure.pdf (31 vectors)
2025-05-21 12:05:53,643 - __main__ - INFO - Verified existing text index for Gebana_EUDR_SatSure.pdf
2025-05-21 12:05:53,643 - __main__ - INFO - --- Processing (5/21): ITC paperboard Proposal.pdf ---
2025-05-21 12:05:53,644 - __main__ - INFO - Loaded 45 text chunks from ./Faiss_index/ITC_paperboard_Proposal.json
2025-05-21 12:05:53,646 - __main__ - INFO - Loaded FAISS index for ITC paperboard Proposal.pdf (45 vectors)
2025-05-21 12:05:53,646 - __main__ - INFO - Verified existing text index for ITC paperboard Proposal.pdf
2025-05-21 12:05:53,646 - __main__ - INFO - --- Processing (6/21): JB boda_SatSure.pdf ---
2025-05-21 12:05:53,647 - __main__ - INFO - Loaded 17 text chunks from ./Faiss_index/JB_boda_SatSure.json
2025-05-21 12:05:53,648 - __main__ - INFO - Loaded FAISS index for JB boda_SatSure.pdf (17 vectors)
2025-05-21 12:05:53,648 - __main__ - INFO - Verified existing text index for JB boda_SatSure.pdf
2025-05-21 12:05:53,648 - __main__ - INFO - --- Processing (7/21): JICA_Proposal_SatSure.pdf ---
2025-05-21 12:05:53,649 - __main__ - INFO - Loaded 38 text chunks from ./Faiss_index/JICA_Proposal_SatSure.json
2025-05-21 12:05:53,650 - __main__ - INFO - Loaded FAISS index for JICA_Proposal_SatSure.pdf (38 vectors)
2025-05-21 12:05:53,650 - __main__ - INFO - Verified existing text index for JICA_Proposal_SatSure.pdf
2025-05-21 12:05:53,650 - __main__ - INFO - --- Processing (8/21): Market Potential and demand estimation usecase.docx.pdf ---
2025-05-21 12:05:53,650 - __main__ - INFO - Loaded 10 text chunks from ./Faiss_index/Market_Potential_and_demand_estimation_usecase.docx.json
2025-05-21 12:05:53,651 - __main__ - INFO - Loaded FAISS index for Market Potential and demand estimation usecase.docx.pdf (10 vectors)
2025-05-21 12:05:53,651 - __main__ - INFO - Verified existing text index for Market Potential and demand estimation usecase.docx.pdf
2025-05-21 12:05:53,651 - __main__ - INFO - --- Processing (9/21): Munichre_Satsure.pdf ---
2025-05-21 12:05:53,652 - __main__ - INFO - Loaded 46 text chunks from ./Faiss_index/Munichre_Satsure.json
2025-05-21 12:05:53,653 - __main__ - INFO - Loaded FAISS index for Munichre_Satsure.pdf (46 vectors)
2025-05-21 12:05:53,653 - __main__ - INFO - Verified existing text index for Munichre_Satsure.pdf
2025-05-21 12:05:53,653 - __main__ - INFO - --- Processing (10/21): Punjab Proposal_SatSure.pdf ---
2025-05-21 12:05:53,654 - __main__ - INFO - Loaded 21 text chunks from ./Faiss_index/Punjab_Proposal_SatSure.json
2025-05-21 12:05:53,655 - __main__ - INFO - Loaded FAISS index for Punjab Proposal_SatSure.pdf (21 vectors)
2025-05-21 12:05:53,655 - __main__ - INFO - Verified existing text index for Punjab Proposal_SatSure.pdf
2025-05-21 12:05:53,655 - __main__ - INFO - --- Processing (11/21): Raizen (1).pdf ---
2025-05-21 12:05:53,656 - __main__ - INFO - Loaded 58 text chunks from ./Faiss_index/Raizen__1_.json
2025-05-21 12:05:53,658 - __main__ - INFO - Loaded FAISS index for Raizen (1).pdf (58 vectors)
2025-05-21 12:05:53,658 - __main__ - INFO - Verified existing text index for Raizen (1).pdf
2025-05-21 12:05:53,658 - __main__ - INFO - --- Processing (12/21): SS Alliance-Roadmap for Africa expansion_SatSure (1).pdf ---
2025-05-21 12:05:53,660 - __main__ - INFO - Loaded 43 text chunks from ./Faiss_index/SS_Alliance-Roadmap_for_Africa_expansion_SatSure__1_.json
2025-05-21 12:05:53,662 - __main__ - INFO - Loaded FAISS index for SS Alliance-Roadmap for Africa expansion_SatSure (1).pdf (43 vectors)
2025-05-21 12:05:53,662 - __main__ - INFO - Verified existing text index for SS Alliance-Roadmap for Africa expansion_SatSure (1).pdf
2025-05-21 12:05:53,662 - __main__ - INFO - --- Processing (13/21): SatSure Forest Stack - Andhra Pradesh (Oct 2024).pptx ---
2025-05-21 12:05:53,663 - __main__ - INFO - Loaded 33 text chunks from ./Faiss_index/SatSure_Forest_Stack_-_Andhra_Pradesh__Oct_2024_.json
2025-05-21 12:05:53,664 - __main__ - INFO - Loaded FAISS index for SatSure Forest Stack - Andhra Pradesh (Oct 2024).pptx (33 vectors)
2025-05-21 12:05:53,665 - __main__ - INFO - Verified existing text index for SatSure Forest Stack - Andhra Pradesh (Oct 2024).pptx
2025-05-21 12:05:53,665 - __main__ - INFO - --- Processing (14/21): SatSure_Sugarcane (1).pdf ---
2025-05-21 12:05:53,665 - __main__ - INFO - Loaded 70 text chunks from ./Faiss_index/SatSure_Sugarcane__1_.json
2025-05-21 12:05:53,667 - __main__ - INFO - Loaded FAISS index for SatSure_Sugarcane (1).pdf (70 vectors)
2025-05-21 12:05:53,667 - __main__ - INFO - Verified existing text index for SatSure_Sugarcane (1).pdf
2025-05-21 12:05:53,667 - __main__ - INFO - --- Processing (15/21): Satsure_IFAD_Proposal.pdf ---
2025-05-21 12:05:53,668 - __main__ - INFO - Loaded 84 text chunks from ./Faiss_index/Satsure_IFAD_Proposal.json
2025-05-21 12:05:53,670 - __main__ - INFO - Loaded FAISS index for Satsure_IFAD_Proposal.pdf (84 vectors)
2025-05-21 12:05:53,670 - __main__ - INFO - Verified existing text index for Satsure_IFAD_Proposal.pdf
2025-05-21 12:05:53,670 - __main__ - INFO - --- Processing (16/21): Soil Indicators and Feasibility USIng RS & GIS.xlsx ---
2025-05-21 12:05:53,676 - __main__ - INFO - Processing XLSX: Soil Indicators and Feasibility USIng RS & GIS.xlsx (Sheets: 1)
2025-05-21 12:05:53,676 - __main__ - INFO - Processing sheet 'Soil_Parameters' (1/1) in Soil Indicators and Feasibility USIng RS & GIS.xlsx
2025-05-21 12:05:53,679 - __main__ - INFO - Loaded DataFrame from sheet 'Soil_Parameters' (Rows: 11, Cols: 3)
2025-05-21 12:05:53,680 - __main__ - INFO - Requesting column metadata from SambaNova for Soil Indicators and Feasibility USIng RS & GIS.xlsx/Soil_Parameters...
2025-05-21 12:05:55,005 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 12:05:55,009 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 112 (char 113). Raw response: {
  "Indicator": { "description": "Name of the soil indicator being measured or monitored.", "sql_type": "TEXT" },
  "RS_GIS_Feasibility": { "description": "Description of the feasibility of using Remote Sensing and GIS for the indicator.", "sql_type": "TEXT" },
  "Notes": { "description": "Additional notes or comments related to the indicator and its measurement.", "sql_type": "TEXT" }
}
2025-05-21 12:05:55,009 - __main__ - WARNING - Failed to get column metadata for sheet 'Soil_Parameters' via SambaNova. Proceeding without descriptions.
2025-05-21 12:05:55,014 - __main__ - INFO - Loading DataFrame into SQL table 'soil_indicators_and_feasibility_using_rs___gis_soil_paramete'...
2025-05-21 12:05:55,023 - __main__ - INFO - DataFrame loaded into table 'soil_indicators_and_feasibility_using_rs___gis_soil_paramete' (11 rows).
2025-05-21 12:05:55,023 - __main__ - INFO - Successfully loaded sheet 'Soil_Parameters' into SQL table 'soil_indicators_and_feasibility_using_rs___gis_soil_paramete'
2025-05-21 12:05:55,023 - __main__ - INFO - Finished processing XLSX Soil Indicators and Feasibility USIng RS & GIS.xlsx. Sheets Loaded: 1/1, Metadata OK: 0, SQL OK: 1
2025-05-21 12:05:55,024 - __main__ - INFO - --- Processing (17/21): SpaceUp Competition - Overview.pdf ---
2025-05-21 12:05:55,027 - __main__ - INFO - Loaded 6 text chunks from ./Faiss_index/SpaceUp_Competition_-_Overview.json
2025-05-21 12:05:55,029 - __main__ - INFO - Loaded FAISS index for SpaceUp Competition - Overview.pdf (6 vectors)
2025-05-21 12:05:55,029 - __main__ - INFO - Verified existing text index for SpaceUp Competition - Overview.pdf
2025-05-21 12:05:55,029 - __main__ - INFO - --- Processing (18/21): SpaceUp Competition.xlsx ---
2025-05-21 12:05:55,070 - __main__ - INFO - Processing XLSX: SpaceUp Competition.xlsx (Sheets: 6)
2025-05-21 12:05:55,070 - __main__ - INFO - Processing sheet 'Overview' (1/6) in SpaceUp Competition.xlsx
2025-05-21 12:05:55,081 - __main__ - INFO - Loaded DataFrame from sheet 'Overview' (Rows: 37, Cols: 2)
2025-05-21 12:05:55,083 - __main__ - INFO - Requesting column metadata from SambaNova for SpaceUp Competition.xlsx/Overview...
2025-05-21 12:05:56,258 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 12:05:56,262 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 132 (char 133). Raw response: {
  "SpaceUp_Competition": { "description": "Name or description of the SpaceUp competition or its organizers.", "sql_type": "TEXT" },
  "Unnamed__1": { "description": "Department or organization related to the SpaceUp competition.", "sql_type": "TEXT" }
}
2025-05-21 12:05:56,262 - __main__ - WARNING - Failed to get column metadata for sheet 'Overview' via SambaNova. Proceeding without descriptions.
2025-05-21 12:05:56,266 - __main__ - INFO - Loading DataFrame into SQL table 'spaceup_competition_overview'...
2025-05-21 12:05:56,271 - __main__ - INFO - DataFrame loaded into table 'spaceup_competition_overview' (37 rows).
2025-05-21 12:05:56,272 - __main__ - INFO - Successfully loaded sheet 'Overview' into SQL table 'spaceup_competition_overview'
2025-05-21 12:05:56,272 - __main__ - INFO - Processing sheet 'Challenge 1' (2/6) in SpaceUp Competition.xlsx
2025-05-21 12:05:56,304 - __main__ - INFO - Loaded DataFrame from sheet 'Challenge 1' (Rows: 28, Cols: 2)
2025-05-21 12:05:56,306 - __main__ - INFO - Requesting column metadata from SambaNova for SpaceUp Competition.xlsx/Challenge 1...
2025-05-21 12:05:57,385 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 12:05:57,389 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 84 (char 85). Raw response: {
  "Challenge_Name": { "description": "Name of the challenge.", "sql_type": "TEXT" },
  "Greening_Saudi_Arabia": { "description": "Value associated with the challenge in USD.", "sql_type": "TEXT" }
}
2025-05-21 12:05:57,389 - __main__ - WARNING - Failed to get column metadata for sheet 'Challenge 1' via SambaNova. Proceeding without descriptions.
2025-05-21 12:05:57,393 - __main__ - INFO - Loading DataFrame into SQL table 'spaceup_competition_challenge_1'...
2025-05-21 12:05:57,400 - __main__ - INFO - DataFrame loaded into table 'spaceup_competition_challenge_1' (28 rows).
2025-05-21 12:05:57,400 - __main__ - INFO - Successfully loaded sheet 'Challenge 1' into SQL table 'spaceup_competition_challenge_1'
2025-05-21 12:05:57,401 - __main__ - INFO - Processing sheet 'Challenge 2' (3/6) in SpaceUp Competition.xlsx
2025-05-21 12:05:57,411 - __main__ - INFO - Loaded DataFrame from sheet 'Challenge 2' (Rows: 28, Cols: 2)
2025-05-21 12:05:57,415 - __main__ - INFO - Requesting column metadata from SambaNova for SpaceUp Competition.xlsx/Challenge 2...
2025-05-21 12:05:58,619 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 12:05:58,621 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 95 (char 96). Raw response: {
  "Challenge_Name": { "description": "The name or title of a challenge.", "sql_type": "TEXT" },
  "Mapping_of_Urban_Trees": { "description": "A value or metric related to the mapping of urban trees, possibly including currency symbols and units.", "sql_type": "TEXT" }
}
2025-05-21 12:05:58,621 - __main__ - WARNING - Failed to get column metadata for sheet 'Challenge 2' via SambaNova. Proceeding without descriptions.
2025-05-21 12:05:58,626 - __main__ - INFO - Loading DataFrame into SQL table 'spaceup_competition_challenge_2'...
2025-05-21 12:05:58,631 - __main__ - INFO - DataFrame loaded into table 'spaceup_competition_challenge_2' (28 rows).
2025-05-21 12:05:58,631 - __main__ - INFO - Successfully loaded sheet 'Challenge 2' into SQL table 'spaceup_competition_challenge_2'
2025-05-21 12:05:58,632 - __main__ - INFO - Processing sheet 'Challenge 3' (4/6) in SpaceUp Competition.xlsx
2025-05-21 12:05:58,666 - __main__ - INFO - Loaded DataFrame from sheet 'Challenge 3' (Rows: 34, Cols: 2)
2025-05-21 12:05:58,668 - __main__ - INFO - Requesting column metadata from SambaNova for SpaceUp Competition.xlsx/Challenge 3...
2025-05-21 12:06:00,432 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 12:06:00,434 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 88 (char 89). Raw response: {
  "Challenge_Name": { "description": "The name of the challenge.", "sql_type": "TEXT" },
  "Improving_City_Livability_by_Monitoring_Urban_Heat_Islands": { "description": "The value associated with the challenge, possibly a monetary value or a description.", "sql_type": "TEXT" }
}
2025-05-21 12:06:00,435 - __main__ - WARNING - Failed to get column metadata for sheet 'Challenge 3' via SambaNova. Proceeding without descriptions.
2025-05-21 12:06:00,439 - __main__ - INFO - Loading DataFrame into SQL table 'spaceup_competition_challenge_3'...
2025-05-21 12:06:00,444 - __main__ - INFO - DataFrame loaded into table 'spaceup_competition_challenge_3' (34 rows).
2025-05-21 12:06:00,444 - __main__ - INFO - Successfully loaded sheet 'Challenge 3' into SQL table 'spaceup_competition_challenge_3'
2025-05-21 12:06:00,445 - __main__ - INFO - Processing sheet 'Challenge 4' (5/6) in SpaceUp Competition.xlsx
2025-05-21 12:06:00,455 - __main__ - INFO - Loaded DataFrame from sheet 'Challenge 4' (Rows: 28, Cols: 2)
2025-05-21 12:06:00,460 - __main__ - INFO - Requesting column metadata from SambaNova for SpaceUp Competition.xlsx/Challenge 4...
2025-05-21 12:06:01,565 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 12:06:01,567 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 88 (char 89). Raw response: {
  "Challenge_Name": { "description": "The name of the challenge.", "sql_type": "TEXT" },
  "Monitoring_Date_Palms_Pest_and_Disease": { "description": "The date for monitoring palms pest and disease.", "sql_type": "TEXT" }
}
2025-05-21 12:06:01,567 - __main__ - WARNING - Failed to get column metadata for sheet 'Challenge 4' via SambaNova. Proceeding without descriptions.
2025-05-21 12:06:01,571 - __main__ - INFO - Loading DataFrame into SQL table 'spaceup_competition_challenge_4'...
2025-05-21 12:06:01,576 - __main__ - INFO - DataFrame loaded into table 'spaceup_competition_challenge_4' (28 rows).
2025-05-21 12:06:01,577 - __main__ - INFO - Successfully loaded sheet 'Challenge 4' into SQL table 'spaceup_competition_challenge_4'
2025-05-21 12:06:01,577 - __main__ - INFO - Processing sheet 'Sheet6' (6/6) in SpaceUp Competition.xlsx
2025-05-21 12:06:01,588 - __main__ - INFO - Loaded DataFrame from sheet 'Sheet6' (Rows: 9, Cols: 4)
2025-05-21 12:06:01,594 - __main__ - INFO - Requesting column metadata from SambaNova for SpaceUp Competition.xlsx/Sheet6...
2025-05-21 12:06:02,994 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 12:06:02,997 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 93 (char 94). Raw response: {
  "Phase": { "description": "The phase of the project or competition.", "sql_type": "TEXT" },
  "Timeline": { "description": "The timeline or duration of the project phase.", "sql_type": "TEXT" },
  "Tools___Features": { "description": "The tools and features used or developed during the project phase.", "sql_type": "TEXT" },
  "Outcome": { "description": "The outcome or result of the project phase.", "sql_type": "TEXT" }
}
2025-05-21 12:06:02,997 - __main__ - WARNING - Failed to get column metadata for sheet 'Sheet6' via SambaNova. Proceeding without descriptions.
2025-05-21 12:06:02,999 - __main__ - INFO - Loading DataFrame into SQL table 'spaceup_competition_sheet6'...
2025-05-21 12:06:03,001 - __main__ - INFO - DataFrame loaded into table 'spaceup_competition_sheet6' (9 rows).
2025-05-21 12:06:03,001 - __main__ - INFO - Successfully loaded sheet 'Sheet6' into SQL table 'spaceup_competition_sheet6'
2025-05-21 12:06:03,001 - __main__ - INFO - Finished processing XLSX SpaceUp Competition.xlsx. Sheets Loaded: 6/6, Metadata OK: 0, SQL OK: 6
2025-05-21 12:06:03,001 - __main__ - INFO - --- Processing (19/21): Villgro_SatSure.pdf ---
2025-05-21 12:06:03,010 - __main__ - INFO - Loaded 31 text chunks from ./Faiss_index/Villgro_SatSure.json
2025-05-21 12:06:03,011 - __main__ - INFO - Loaded FAISS index for Villgro_SatSure.pdf (31 vectors)
2025-05-21 12:06:03,011 - __main__ - INFO - Verified existing text index for Villgro_SatSure.pdf
2025-05-21 12:06:03,011 - __main__ - INFO - --- Processing (20/21): Yara_ SatSure.pdf ---
2025-05-21 12:06:03,012 - __main__ - INFO - Loaded 25 text chunks from ./Faiss_index/Yara__SatSure.json
2025-05-21 12:06:03,013 - __main__ - INFO - Loaded FAISS index for Yara_ SatSure.pdf (25 vectors)
2025-05-21 12:06:03,013 - __main__ - INFO - Verified existing text index for Yara_ SatSure.pdf
2025-05-21 12:06:03,013 - __main__ - INFO - --- Processing (21/21): proposal.pdf ---
2025-05-21 12:06:03,015 - __main__ - INFO - Loaded 234 text chunks from ./Faiss_index/proposal.json
2025-05-21 12:06:03,016 - __main__ - INFO - Loaded FAISS index for proposal.pdf (234 vectors)
2025-05-21 12:06:03,016 - __main__ - INFO - Verified existing text index for proposal.pdf
2025-05-21 12:06:03,016 - __main__ - INFO - --- Processing Complete. Processed 21 files. ---
2025-05-21 12:06:26,281 - __main__ - INFO - --- Starting SambaNova query: 'what is chola project...' ---
2025-05-21 12:06:26,299 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-21 12:06:28,184 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 12:06:28,187 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Simple Retrieval", "confidence": 0.98}...'
2025-05-21 12:06:28,188 - __main__ - INFO - Query classified as 'Simple Retrieval' with confidence 0.98
2025-05-21 12:06:28,189 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-21 12:06:28,191 - __main__ - INFO - Querying SambaNova model Meta-Llama-3.3-70B-Instruct with text context and history...
2025-05-21 12:06:29,311 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 12:06:29,313 - __main__ - INFO - SambaNova response received. Length: 78
2025-05-21 12:06:29,314 - __main__ - INFO - --- SambaNova query finished. Source: Text RAG (SambaNova) --- Status: Completed Successfully ---
2025-05-21 12:07:41,639 - __main__ - INFO - --- Starting SambaNova query: 'what is Digitizing farm level monitoring...' ---
2025-05-21 12:07:41,641 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query refinement...
2025-05-21 12:07:43,758 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 12:07:43,760 - __main__ - INFO - SambaNova response for query refinement: 'What is the process and significance of digitizing farm-level monitoring in agriculture, and how does it enhance crop yield and farming practices?...'
2025-05-21 12:07:43,760 - __main__ - INFO - Query refined by SambaNova to: 'What is the process and significance of digitizing farm-level monitoring in agriculture, and how doe...'
2025-05-21 12:07:43,785 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-21 12:07:44,992 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 12:07:44,994 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Complex/Reasoning (Text)", "confidence": 0.92}...'
2025-05-21 12:07:44,994 - __main__ - INFO - Query classified as 'Complex/Reasoning (Text)' with confidence 0.92
2025-05-21 12:07:44,996 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-21 12:07:44,998 - __main__ - INFO - Querying SambaNova model Meta-Llama-3.3-70B-Instruct with text context and history...
2025-05-21 12:07:46,526 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 12:07:46,652 - __main__ - INFO - SambaNova response received. Length: 1273
2025-05-21 12:07:46,653 - __main__ - INFO - --- SambaNova query finished. Source: Text RAG (SambaNova) --- Status: Completed Successfully ---
2025-05-21 12:09:19,153 - __main__ - INFO - Clearing existing tables from in-memory database...
2025-05-21 12:09:19,156 - __main__ - INFO - Dropped 8 tables.
2025-05-21 12:09:19,156 - __main__ - INFO - Processing 1 supported files from ./Data/
2025-05-21 12:09:19,157 - __main__ - INFO - --- Processing (1/1): Smart_Farming_Crop_Yield_2024.csv ---
2025-05-21 12:09:19,158 - __main__ - INFO - Processing CSV: Smart_Farming_Crop_Yield_2024.csv
2025-05-21 12:09:19,166 - __main__ - INFO - Read CSV Smart_Farming_Crop_Yield_2024.csv using encoding: utf-8. (Rows: 500, Cols: 22)
2025-05-21 12:09:19,173 - __main__ - INFO - Requesting column metadata from SambaNova for Smart_Farming_Crop_Yield_2024.csv...
2025-05-21 12:09:22,065 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 12:09:22,067 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 87 (char 88). Raw response: {
  "farm_id": { "description": "Unique identifier for each farm.", "sql_type": "TEXT" },
  "region": { "description": "Geographical region where the farm is located.", "sql_type": "TEXT" },
  "crop_type": { "description": "Type of crop being cultivated.", "sql_type": "TEXT" },
  "soil_moisture": { "description": "Soil moisture level measured in percentage.", "sql_type": "REAL" },
  "soil_pH": { "description": "Soil pH level, a measure of its acidity or alkalinity.", "sql_type": "REAL" },
  "temperature_C": { "description": "Temperature in degrees Celsius.", "sql_type": "REAL" },
  "rainfall_mm": { "description": "Amount of rainfall measured in millimeters.", "sql_type": "REAL" },
  "humidity": { "description": "Relative humidity level measured in percentage.", "sql_type": "REAL" },
  "sunlight_hours": { "description": "Number of hours of sunlight per day.", "sql_type": "REAL" },
  "irrigation_type": { "description": "Method or system used for irrigation.", "sql_type": "TEXT" },
  "fertilizer_type": { "description": "Type of fertilizer used.", "sql_type": "TEXT" },
  "pesticide_usage_ml": { "description": "Amount of pesticide used measured in milliliters.", "sql_type": "REAL" },
  "sowing_date": { "description": "Date when the crop was sown.", "sql_type": "TEXT" },
  "harvest_date": { "description": "Date when the crop was harvested.", "sql_type": "TEXT" },
  "total_days": { "description": "Total number of days from sowing to harvest.", "sql_type": "INTEGER" },
  "yield_kg_per_hectare": { "description": "Crop yield measured in kilograms per hectare.", "sql_type": "REAL" },
  "sensor_id": { "description": "Unique identifier for the sensor used.", "sql_type": "TEXT" },
  "timestamp": { "description": "Timestamp for when the data was recorded or updated.", "sql_type": "TEXT" },
  "latitude": { "description": "Geographical latitude of the farm location.", "sql_type": "REAL" },
  "longitude": { "description": "Geographical longitude of the farm location.", "sql_type": "REAL" },
  "NDVI_index": { "description": "Normalized Difference Vegetation Index, a measure of vegetation health.", "sql_type": "REAL" },
  "crop_disease_status": { "description": "Status or severity of disease affecting the crop.", "sql_type": "TEXT" }
}
2025-05-21 12:09:22,067 - __main__ - WARNING - Failed to get column metadata for CSV via SambaNova. Proceeding without descriptions.
2025-05-21 12:09:22,101 - __main__ - INFO - Loading DataFrame into SQL table 'smart_farming_crop_yield_2024'...
2025-05-21 12:09:22,114 - __main__ - INFO - DataFrame loaded into table 'smart_farming_crop_yield_2024' (500 rows).
2025-05-21 12:09:22,114 - __main__ - INFO - Successfully loaded CSV Smart_Farming_Crop_Yield_2024.csv into SQL table 'smart_farming_crop_yield_2024'
2025-05-21 12:09:22,115 - __main__ - INFO - --- Processing Complete. Processed 1 files. ---
2025-05-21 12:10:08,711 - __main__ - INFO - --- Starting SambaNova query: 'Can you prepare the table of region to crop to soil moisture %...' ---
2025-05-21 12:10:08,711 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query refinement...
2025-05-21 12:10:10,297 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 12:10:10,297 - __main__ - INFO - SambaNova response for query refinement: 'Create a table that maps regions to specific crops and their corresponding optimal soil moisture percentages for effective farming practices....'
2025-05-21 12:10:10,297 - __main__ - INFO - Query refined by SambaNova to: 'Create a table that maps regions to specific crops and their corresponding optimal soil moisture per...'
2025-05-21 12:10:10,298 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-21 12:10:11,419 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 12:10:11,421 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Structured Query (SQL)", "confidence": 0.95}...'
2025-05-21 12:10:11,421 - __main__ - INFO - Query classified as 'Structured Query (SQL)' with confidence 0.95
2025-05-21 12:10:11,422 - __main__ - INFO - Attempting SQL path with SambaNova assistance.
2025-05-21 12:10:11,423 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: SQL target table identification...
2025-05-21 12:10:12,453 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 12:10:12,455 - __main__ - INFO - SambaNova response for SQL target table identification: 'smart_farming_crop_yield_2024...'
2025-05-21 12:10:12,455 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: SQL query generation for smart_farming_crop_yield_2024...
2025-05-21 12:10:13,678 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 12:10:13,682 - __main__ - INFO - SambaNova response for SQL query generation for smart_farming_crop_yield_2024: '```sql
SELECT 
  "region", 
  "crop_type", 
  AVG("soil_moisture") AS "optimal_soil_moisture"
FROM 
  smart_farming_crop_yield_2024
GROUP BY 
  "regio...'
2025-05-21 12:10:13,683 - __main__ - INFO - Generated SQL for 'smart_farming_crop_yield_2024': SELECT 
  "region", 
  "crop_type", 
  AVG("soil_moisture") AS "optimal_soil_moisture"
FROM 
  smart_farming_crop_yield_2024
GROUP BY 
  "region", 
  "crop_type"
2025-05-21 12:10:13,683 - __main__ - INFO - Executing SQL: SELECT 
  "region", 
  "crop_type", 
  AVG("soil_moisture") AS "optimal_soil_moisture"
FROM 
  smart_farming_crop_yield_2024
GROUP BY 
  "region", 
  "crop_type"
2025-05-21 12:10:13,691 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: SQL result synthesis...
2025-05-21 12:10:15,397 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 12:10:15,401 - __main__ - INFO - SambaNova response for SQL result synthesis: 'Here's a table mapping regions to specific crops and their corresponding optimal soil moisture percentages for effective farming practices:

The optim...'
2025-05-21 12:10:15,402 - __main__ - INFO - --- SambaNova query finished. Source: SQL Query (SambaNova assisted) --- Status: Completed Successfully ---
2025-05-21 13:27:28,457 - __main__ - INFO - Clearing existing tables from in-memory database...
2025-05-21 13:27:28,462 - __main__ - INFO - Dropped 1 tables.
2025-05-21 13:27:28,462 - __main__ - INFO - Processing 17 supported files from ./Data/
2025-05-21 13:27:28,463 - __main__ - INFO - --- Processing (1/17): BASF Technical proposal (2).pdf ---
2025-05-21 13:27:28,466 - __main__ - INFO - Loaded 55 text chunks from ./Faiss_index/BASF_Technical_proposal__2_.json
2025-05-21 13:27:28,467 - __main__ - INFO - Loaded FAISS index for BASF Technical proposal (2).pdf (55 vectors)
2025-05-21 13:27:28,468 - __main__ - INFO - Verified existing text index for BASF Technical proposal (2).pdf
2025-05-21 13:27:28,468 - __main__ - INFO - --- Processing (2/17): Chola MS Sparta Maps proposal_V1.pdf ---
2025-05-21 13:27:28,470 - __main__ - INFO - Loaded 23 text chunks from ./Faiss_index/Chola_MS_Sparta_Maps_proposal_V1.json
2025-05-21 13:27:28,471 - __main__ - INFO - Loaded FAISS index for Chola MS Sparta Maps proposal_V1.pdf (23 vectors)
2025-05-21 13:27:28,471 - __main__ - INFO - Verified existing text index for Chola MS Sparta Maps proposal_V1.pdf
2025-05-21 13:27:28,471 - __main__ - INFO - --- Processing (3/17): Gebana_EUDR_SatSure.pdf ---
2025-05-21 13:27:28,473 - __main__ - INFO - Loaded 31 text chunks from ./Faiss_index/Gebana_EUDR_SatSure.json
2025-05-21 13:27:28,474 - __main__ - INFO - Loaded FAISS index for Gebana_EUDR_SatSure.pdf (31 vectors)
2025-05-21 13:27:28,475 - __main__ - INFO - Verified existing text index for Gebana_EUDR_SatSure.pdf
2025-05-21 13:27:28,475 - __main__ - INFO - --- Processing (4/17): ITC paperboard Proposal.pdf ---
2025-05-21 13:27:28,477 - __main__ - INFO - Loaded 45 text chunks from ./Faiss_index/ITC_paperboard_Proposal.json
2025-05-21 13:27:28,478 - __main__ - INFO - Loaded FAISS index for ITC paperboard Proposal.pdf (45 vectors)
2025-05-21 13:27:28,478 - __main__ - INFO - Verified existing text index for ITC paperboard Proposal.pdf
2025-05-21 13:27:28,478 - __main__ - INFO - --- Processing (5/17): JB boda_SatSure.pdf ---
2025-05-21 13:27:28,480 - __main__ - INFO - Loaded 17 text chunks from ./Faiss_index/JB_boda_SatSure.json
2025-05-21 13:27:28,481 - __main__ - INFO - Loaded FAISS index for JB boda_SatSure.pdf (17 vectors)
2025-05-21 13:27:28,481 - __main__ - INFO - Verified existing text index for JB boda_SatSure.pdf
2025-05-21 13:27:28,481 - __main__ - INFO - --- Processing (6/17): JICA_Proposal_SatSure.pdf ---
2025-05-21 13:27:28,483 - __main__ - INFO - Loaded 38 text chunks from ./Faiss_index/JICA_Proposal_SatSure.json
2025-05-21 13:27:28,485 - __main__ - INFO - Loaded FAISS index for JICA_Proposal_SatSure.pdf (38 vectors)
2025-05-21 13:27:28,485 - __main__ - INFO - Verified existing text index for JICA_Proposal_SatSure.pdf
2025-05-21 13:27:28,485 - __main__ - INFO - --- Processing (7/17): Market Potential and demand estimation usecase.docx.pdf ---
2025-05-21 13:27:28,487 - __main__ - INFO - Loaded 10 text chunks from ./Faiss_index/Market_Potential_and_demand_estimation_usecase.docx.json
2025-05-21 13:27:28,489 - __main__ - INFO - Loaded FAISS index for Market Potential and demand estimation usecase.docx.pdf (10 vectors)
2025-05-21 13:27:28,489 - __main__ - INFO - Verified existing text index for Market Potential and demand estimation usecase.docx.pdf
2025-05-21 13:27:28,489 - __main__ - INFO - --- Processing (8/17): Munichre_Satsure.pdf ---
2025-05-21 13:27:28,491 - __main__ - INFO - Loaded 46 text chunks from ./Faiss_index/Munichre_Satsure.json
2025-05-21 13:27:28,492 - __main__ - INFO - Loaded FAISS index for Munichre_Satsure.pdf (46 vectors)
2025-05-21 13:27:28,492 - __main__ - INFO - Verified existing text index for Munichre_Satsure.pdf
2025-05-21 13:27:28,492 - __main__ - INFO - --- Processing (9/17): Punjab Proposal_SatSure.pdf ---
2025-05-21 13:27:28,494 - __main__ - INFO - Loaded 21 text chunks from ./Faiss_index/Punjab_Proposal_SatSure.json
2025-05-21 13:27:28,495 - __main__ - INFO - Loaded FAISS index for Punjab Proposal_SatSure.pdf (21 vectors)
2025-05-21 13:27:28,495 - __main__ - INFO - Verified existing text index for Punjab Proposal_SatSure.pdf
2025-05-21 13:27:28,495 - __main__ - INFO - --- Processing (10/17): Raizen (1).pdf ---
2025-05-21 13:27:28,498 - __main__ - INFO - Loaded 58 text chunks from ./Faiss_index/Raizen__1_.json
2025-05-21 13:27:28,499 - __main__ - INFO - Loaded FAISS index for Raizen (1).pdf (58 vectors)
2025-05-21 13:27:28,499 - __main__ - INFO - Verified existing text index for Raizen (1).pdf
2025-05-21 13:27:28,500 - __main__ - INFO - --- Processing (11/17): SS Alliance-Roadmap for Africa expansion_SatSure (1).pdf ---
2025-05-21 13:27:28,502 - __main__ - INFO - Loaded 43 text chunks from ./Faiss_index/SS_Alliance-Roadmap_for_Africa_expansion_SatSure__1_.json
2025-05-21 13:27:28,503 - __main__ - INFO - Loaded FAISS index for SS Alliance-Roadmap for Africa expansion_SatSure (1).pdf (43 vectors)
2025-05-21 13:27:28,503 - __main__ - INFO - Verified existing text index for SS Alliance-Roadmap for Africa expansion_SatSure (1).pdf
2025-05-21 13:27:28,503 - __main__ - INFO - --- Processing (12/17): SatSure Forest Stack - Andhra Pradesh (Oct 2024).pptx ---
2025-05-21 13:27:28,505 - __main__ - INFO - Loaded 33 text chunks from ./Faiss_index/SatSure_Forest_Stack_-_Andhra_Pradesh__Oct_2024_.json
2025-05-21 13:27:28,506 - __main__ - INFO - Loaded FAISS index for SatSure Forest Stack - Andhra Pradesh (Oct 2024).pptx (33 vectors)
2025-05-21 13:27:28,506 - __main__ - INFO - Verified existing text index for SatSure Forest Stack - Andhra Pradesh (Oct 2024).pptx
2025-05-21 13:27:28,506 - __main__ - INFO - --- Processing (13/17): SatSure_Sugarcane (1).pdf ---
2025-05-21 13:27:28,508 - __main__ - INFO - Loaded 70 text chunks from ./Faiss_index/SatSure_Sugarcane__1_.json
2025-05-21 13:27:28,510 - __main__ - INFO - Loaded FAISS index for SatSure_Sugarcane (1).pdf (70 vectors)
2025-05-21 13:27:28,510 - __main__ - INFO - Verified existing text index for SatSure_Sugarcane (1).pdf
2025-05-21 13:27:28,510 - __main__ - INFO - --- Processing (14/17): Satsure_IFAD_Proposal.pdf ---
2025-05-21 13:27:28,513 - __main__ - INFO - Loaded 84 text chunks from ./Faiss_index/Satsure_IFAD_Proposal.json
2025-05-21 13:27:28,514 - __main__ - INFO - Loaded FAISS index for Satsure_IFAD_Proposal.pdf (84 vectors)
2025-05-21 13:27:28,514 - __main__ - INFO - Verified existing text index for Satsure_IFAD_Proposal.pdf
2025-05-21 13:27:28,515 - __main__ - INFO - --- Processing (15/17): Smart_Farming_Crop_Yield_2024.csv ---
2025-05-21 13:27:28,515 - __main__ - INFO - Processing CSV: Smart_Farming_Crop_Yield_2024.csv
2025-05-21 13:27:28,532 - __main__ - INFO - Read CSV Smart_Farming_Crop_Yield_2024.csv using encoding: utf-8. (Rows: 500, Cols: 22)
2025-05-21 13:27:28,551 - __main__ - INFO - Requesting column metadata from SambaNova for Smart_Farming_Crop_Yield_2024.csv...
2025-05-21 13:27:31,980 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 13:27:31,983 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 87 (char 88). Raw response: {
  "farm_id": { "description": "Unique identifier for each farm.", "sql_type": "TEXT" },
  "region": { "description": "Geographical region where the farm is located.", "sql_type": "TEXT" },
  "crop_type": { "description": "Type of crop being cultivated.", "sql_type": "TEXT" },
  "soil_moisture": { "description": "Soil moisture level measured in percentage.", "sql_type": "REAL" },
  "soil_pH": { "description": "Soil pH level, a measure of its acidity or alkalinity.", "sql_type": "REAL" },
  "temperature_C": { "description": "Temperature in degrees Celsius.", "sql_type": "REAL" },
  "rainfall_mm": { "description": "Amount of rainfall measured in millimeters.", "sql_type": "REAL" },
  "humidity": { "description": "Relative humidity level measured in percentage.", "sql_type": "REAL" },
  "sunlight_hours": { "description": "Number of hours of sunlight per day.", "sql_type": "REAL" },
  "irrigation_type": { "description": "Method or system used for irrigation.", "sql_type": "TEXT" },
  "fertilizer_type": { "description": "Type of fertilizer used.", "sql_type": "TEXT" },
  "pesticide_usage_ml": { "description": "Amount of pesticide used measured in milliliters.", "sql_type": "REAL" },
  "sowing_date": { "description": "Date when the crop was sown.", "sql_type": "TEXT" },
  "harvest_date": { "description": "Date when the crop was harvested.", "sql_type": "TEXT" },
  "total_days": { "description": "Total number of days from sowing to harvest.", "sql_type": "INTEGER" },
  "yield_kg_per_hectare": { "description": "Crop yield measured in kilograms per hectare.", "sql_type": "REAL" },
  "sensor_id": { "description": "Unique identifier for the sensor used.", "sql_type": "TEXT" },
  "timestamp": { "description": "Timestamp for when the data was recorded or updated.", "sql_type": "TEXT" },
  "latitude": { "description": "Geographical latitude of the farm location.", "sql_type": "REAL" },
  "longitude": { "description": "Geographical longitude of the farm location.", "sql_type": "REAL" },
  "NDVI_index": { "description": "Normalized Difference Vegetation Index, a measure of vegetation health.", "sql_type": "REAL" },
  "crop_disease_status": { "description": "Status or severity of disease affecting the crop.", "sql_type": "TEXT" }
}
2025-05-21 13:27:31,984 - __main__ - WARNING - Failed to get column metadata for CSV via SambaNova. Proceeding without descriptions.
2025-05-21 13:27:32,029 - __main__ - INFO - Loading DataFrame into SQL table 'smart_farming_crop_yield_2024'...
2025-05-21 13:27:32,068 - __main__ - INFO - DataFrame loaded into table 'smart_farming_crop_yield_2024' (500 rows).
2025-05-21 13:27:32,068 - __main__ - INFO - Successfully loaded CSV Smart_Farming_Crop_Yield_2024.csv into SQL table 'smart_farming_crop_yield_2024'
2025-05-21 13:27:32,069 - __main__ - INFO - --- Processing (16/17): Villgro_SatSure.pdf ---
2025-05-21 13:27:32,071 - __main__ - INFO - Loaded 31 text chunks from ./Faiss_index/Villgro_SatSure.json
2025-05-21 13:27:32,073 - __main__ - INFO - Loaded FAISS index for Villgro_SatSure.pdf (31 vectors)
2025-05-21 13:27:32,073 - __main__ - INFO - Verified existing text index for Villgro_SatSure.pdf
2025-05-21 13:27:32,073 - __main__ - INFO - --- Processing (17/17): Yara_ SatSure.pdf ---
2025-05-21 13:27:32,075 - __main__ - INFO - Loaded 25 text chunks from ./Faiss_index/Yara__SatSure.json
2025-05-21 13:27:32,076 - __main__ - INFO - Loaded FAISS index for Yara_ SatSure.pdf (25 vectors)
2025-05-21 13:27:32,076 - __main__ - INFO - Verified existing text index for Yara_ SatSure.pdf
2025-05-21 13:27:32,076 - __main__ - INFO - --- Processing Complete. Processed 17 files. ---
2025-05-21 13:28:17,229 - __main__ - INFO - --- Starting SambaNova query: 'Tell me about the Forest stack and also tell me what the most used crop type in South USA is...' ---
2025-05-21 13:28:17,230 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query refinement...
2025-05-21 13:28:18,940 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 13:28:18,956 - __main__ - INFO - SambaNova response for query refinement: 'What is the Forest stack and which crop type is most commonly used in the South USA region, considering factors such as climate, soil, and agricultura...'
2025-05-21 13:28:18,957 - __main__ - INFO - Query refined by SambaNova to: 'What is the Forest stack and which crop type is most commonly used in the South USA region, consider...'
2025-05-21 13:28:19,009 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-21 13:28:20,319 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 13:28:20,321 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Complex/Reasoning (Text)", "confidence": 0.92}...'
2025-05-21 13:28:20,322 - __main__ - INFO - Query classified as 'Complex/Reasoning (Text)' with confidence 0.92
2025-05-21 13:28:20,323 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-21 13:28:20,325 - __main__ - INFO - Querying SambaNova model Meta-Llama-3.3-70B-Instruct with text context and history...
2025-05-21 13:28:22,166 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 13:28:22,170 - __main__ - INFO - SambaNova response received. Length: 994
2025-05-21 13:28:22,171 - __main__ - INFO - --- SambaNova query finished. Source: Text RAG (SambaNova) --- Status: Completed Successfully ---
2025-05-21 13:45:37,469 - __main__ - INFO - --- Starting SambaNova query: 'Tell me something about an agricultural project being done by SatSure...' ---
2025-05-21 13:45:37,471 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query refinement...
2025-05-21 13:45:39,588 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 13:45:39,590 - __main__ - INFO - SambaNova response for query refinement: 'What are the key features and objectives of the agricultural projects undertaken by SatSure, and how do they utilize technologies like CropTrails and ...'
2025-05-21 13:45:39,590 - __main__ - INFO - Query refined by SambaNova to: 'What are the key features and objectives of the agricultural projects undertaken by SatSure, and how...'
2025-05-21 13:45:39,644 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-21 13:45:40,711 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 13:45:40,713 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Complex/Reasoning (Text)", "confidence": 0.92}...'
2025-05-21 13:45:40,714 - __main__ - INFO - Query classified as 'Complex/Reasoning (Text)' with confidence 0.92
2025-05-21 13:45:40,715 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-21 13:45:40,717 - __main__ - INFO - Querying SambaNova model Meta-Llama-3.3-70B-Instruct with text context and history...
2025-05-21 13:45:42,977 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 13:45:42,979 - __main__ - INFO - SambaNova response received. Length: 2356
2025-05-21 13:45:42,980 - __main__ - INFO - --- SambaNova query finished. Source: Text RAG (SambaNova) --- Status: Completed Successfully ---
2025-05-21 13:48:48,293 - __main__ - INFO - Loaded configuration from config1.ini
2025-05-21 13:48:48,293 - __main__ - INFO - Added missing option 'data_dir = ./Data/' to section [PATHS] from defaults.
2025-05-21 13:48:48,293 - __main__ - INFO - Added missing option 'sqlite_db_path = :memory:' to section [PATHS] from defaults.
2025-05-21 13:48:48,293 - __main__ - INFO - Added missing option 'sambanova_model = Meta-Llama-3.3-70B-Instruct' to section [MODELS] from defaults.
2025-05-21 13:48:48,293 - __main__ - INFO - Added missing option 'sambanova_base_url = https://api.sambanova.ai/v1' to section [MODELS] from defaults.
2025-05-21 13:48:48,294 - __main__ - INFO - Added missing option 'top_p = 0.1' to section [PARAMETERS] from defaults.
2025-05-21 13:48:48,294 - __main__ - INFO - Added missing option 'max_chars_per_element = 1200' to section [PARAMETERS] from defaults.
2025-05-21 13:48:48,294 - __main__ - INFO - Added missing option 'pptx_merge_threshold_words = 50' to section [PARAMETERS] from defaults.
2025-05-21 13:48:48,294 - __main__ - INFO - Added missing option 'dataframe_query_confidence_threshold = 0.70' to section [PARAMETERS] from defaults.
2025-05-21 13:48:48,294 - __main__ - INFO - Added missing option 'max_chat_history_turns = 5' to section [PARAMETERS] from defaults.
2025-05-21 13:48:48,294 - __main__ - INFO - Added missing section [SUPPORTED_EXTENSIONS] from defaults.
2025-05-21 13:48:48,294 - __main__ - INFO - Added missing option 'extensions = .pdf, .xlsx, .csv, .pptx' to section [SUPPORTED_EXTENSIONS] from defaults.
2025-05-21 13:48:48,294 - __main__ - INFO - Added missing section [API_KEYS] from defaults.
2025-05-21 13:48:48,294 - __main__ - INFO - Added missing option 'sambanova_api_key_config = ' to section [API_KEYS] from defaults.
2025-05-21 13:48:48,303 - __main__ - INFO - Initializing RAG system (SambaNova Version). Device: cpu, Supported files: ('.pdf', '.xlsx', '.csv', '.pptx')
2025-05-21 13:48:48,307 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-05-21 13:48:48,307 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-05-21 13:48:51,906 - __main__ - INFO - Local embedding model loaded successfully
2025-05-21 13:48:51,907 - __main__ - INFO - Connected to SQLite database at ':memory:'
2025-05-21 13:48:58,153 - __main__ - INFO - Clearing existing tables from in-memory database...
2025-05-21 13:48:58,157 - __main__ - INFO - Dropped 0 tables.
2025-05-21 13:48:58,157 - __main__ - INFO - Processing 17 supported files from ./Data/
2025-05-21 13:48:58,159 - __main__ - INFO - --- Processing (1/17): BASF Technical proposal (2).pdf ---
2025-05-21 13:48:58,163 - __main__ - INFO - Loaded 55 text chunks from ./Faiss_index/BASF_Technical_proposal__2_.json
2025-05-21 13:48:58,166 - __main__ - INFO - Loaded FAISS index for BASF Technical proposal (2).pdf (55 vectors)
2025-05-21 13:48:58,166 - __main__ - INFO - Verified existing text index for BASF Technical proposal (2).pdf
2025-05-21 13:48:58,166 - __main__ - INFO - --- Processing (2/17): Chola MS Sparta Maps proposal_V1.pdf ---
2025-05-21 13:48:58,170 - __main__ - INFO - Loaded 23 text chunks from ./Faiss_index/Chola_MS_Sparta_Maps_proposal_V1.json
2025-05-21 13:48:58,171 - __main__ - INFO - Loaded FAISS index for Chola MS Sparta Maps proposal_V1.pdf (23 vectors)
2025-05-21 13:48:58,172 - __main__ - INFO - Verified existing text index for Chola MS Sparta Maps proposal_V1.pdf
2025-05-21 13:48:58,172 - __main__ - INFO - --- Processing (3/17): Gebana_EUDR_SatSure.pdf ---
2025-05-21 13:48:58,174 - __main__ - INFO - Loaded 31 text chunks from ./Faiss_index/Gebana_EUDR_SatSure.json
2025-05-21 13:48:58,176 - __main__ - INFO - Loaded FAISS index for Gebana_EUDR_SatSure.pdf (31 vectors)
2025-05-21 13:48:58,176 - __main__ - INFO - Verified existing text index for Gebana_EUDR_SatSure.pdf
2025-05-21 13:48:58,177 - __main__ - INFO - --- Processing (4/17): ITC paperboard Proposal.pdf ---
2025-05-21 13:48:58,179 - __main__ - INFO - Loaded 45 text chunks from ./Faiss_index/ITC_paperboard_Proposal.json
2025-05-21 13:48:58,182 - __main__ - INFO - Loaded FAISS index for ITC paperboard Proposal.pdf (45 vectors)
2025-05-21 13:48:58,182 - __main__ - INFO - Verified existing text index for ITC paperboard Proposal.pdf
2025-05-21 13:48:58,182 - __main__ - INFO - --- Processing (5/17): JB boda_SatSure.pdf ---
2025-05-21 13:48:58,185 - __main__ - INFO - Loaded 17 text chunks from ./Faiss_index/JB_boda_SatSure.json
2025-05-21 13:48:58,186 - __main__ - INFO - Loaded FAISS index for JB boda_SatSure.pdf (17 vectors)
2025-05-21 13:48:58,186 - __main__ - INFO - Verified existing text index for JB boda_SatSure.pdf
2025-05-21 13:48:58,187 - __main__ - INFO - --- Processing (6/17): JICA_Proposal_SatSure.pdf ---
2025-05-21 13:48:58,190 - __main__ - INFO - Loaded 38 text chunks from ./Faiss_index/JICA_Proposal_SatSure.json
2025-05-21 13:48:58,193 - __main__ - INFO - Loaded FAISS index for JICA_Proposal_SatSure.pdf (38 vectors)
2025-05-21 13:48:58,193 - __main__ - INFO - Verified existing text index for JICA_Proposal_SatSure.pdf
2025-05-21 13:48:58,194 - __main__ - INFO - --- Processing (7/17): Market Potential and demand estimation usecase.docx.pdf ---
2025-05-21 13:48:58,196 - __main__ - INFO - Loaded 10 text chunks from ./Faiss_index/Market_Potential_and_demand_estimation_usecase.docx.json
2025-05-21 13:48:58,197 - __main__ - INFO - Loaded FAISS index for Market Potential and demand estimation usecase.docx.pdf (10 vectors)
2025-05-21 13:48:58,198 - __main__ - INFO - Verified existing text index for Market Potential and demand estimation usecase.docx.pdf
2025-05-21 13:48:58,198 - __main__ - INFO - --- Processing (8/17): Munichre_Satsure.pdf ---
2025-05-21 13:48:58,201 - __main__ - INFO - Loaded 46 text chunks from ./Faiss_index/Munichre_Satsure.json
2025-05-21 13:48:58,203 - __main__ - INFO - Loaded FAISS index for Munichre_Satsure.pdf (46 vectors)
2025-05-21 13:48:58,203 - __main__ - INFO - Verified existing text index for Munichre_Satsure.pdf
2025-05-21 13:48:58,203 - __main__ - INFO - --- Processing (9/17): Punjab Proposal_SatSure.pdf ---
2025-05-21 13:48:58,206 - __main__ - INFO - Loaded 21 text chunks from ./Faiss_index/Punjab_Proposal_SatSure.json
2025-05-21 13:48:58,208 - __main__ - INFO - Loaded FAISS index for Punjab Proposal_SatSure.pdf (21 vectors)
2025-05-21 13:48:58,208 - __main__ - INFO - Verified existing text index for Punjab Proposal_SatSure.pdf
2025-05-21 13:48:58,208 - __main__ - INFO - --- Processing (10/17): Raizen (1).pdf ---
2025-05-21 13:48:58,211 - __main__ - INFO - Loaded 58 text chunks from ./Faiss_index/Raizen__1_.json
2025-05-21 13:48:58,212 - __main__ - INFO - Loaded FAISS index for Raizen (1).pdf (58 vectors)
2025-05-21 13:48:58,212 - __main__ - INFO - Verified existing text index for Raizen (1).pdf
2025-05-21 13:48:58,212 - __main__ - INFO - --- Processing (11/17): SS Alliance-Roadmap for Africa expansion_SatSure (1).pdf ---
2025-05-21 13:48:58,214 - __main__ - INFO - Loaded 43 text chunks from ./Faiss_index/SS_Alliance-Roadmap_for_Africa_expansion_SatSure__1_.json
2025-05-21 13:48:58,215 - __main__ - INFO - Loaded FAISS index for SS Alliance-Roadmap for Africa expansion_SatSure (1).pdf (43 vectors)
2025-05-21 13:48:58,216 - __main__ - INFO - Verified existing text index for SS Alliance-Roadmap for Africa expansion_SatSure (1).pdf
2025-05-21 13:48:58,216 - __main__ - INFO - --- Processing (12/17): SatSure Forest Stack - Andhra Pradesh (Oct 2024).pptx ---
2025-05-21 13:48:58,218 - __main__ - INFO - Loaded 33 text chunks from ./Faiss_index/SatSure_Forest_Stack_-_Andhra_Pradesh__Oct_2024_.json
2025-05-21 13:48:58,219 - __main__ - INFO - Loaded FAISS index for SatSure Forest Stack - Andhra Pradesh (Oct 2024).pptx (33 vectors)
2025-05-21 13:48:58,219 - __main__ - INFO - Verified existing text index for SatSure Forest Stack - Andhra Pradesh (Oct 2024).pptx
2025-05-21 13:48:58,220 - __main__ - INFO - --- Processing (13/17): SatSure_Sugarcane (1).pdf ---
2025-05-21 13:48:58,222 - __main__ - INFO - Loaded 70 text chunks from ./Faiss_index/SatSure_Sugarcane__1_.json
2025-05-21 13:48:58,223 - __main__ - INFO - Loaded FAISS index for SatSure_Sugarcane (1).pdf (70 vectors)
2025-05-21 13:48:58,223 - __main__ - INFO - Verified existing text index for SatSure_Sugarcane (1).pdf
2025-05-21 13:48:58,223 - __main__ - INFO - --- Processing (14/17): Satsure_IFAD_Proposal.pdf ---
2025-05-21 13:48:58,226 - __main__ - INFO - Loaded 84 text chunks from ./Faiss_index/Satsure_IFAD_Proposal.json
2025-05-21 13:48:58,227 - __main__ - INFO - Loaded FAISS index for Satsure_IFAD_Proposal.pdf (84 vectors)
2025-05-21 13:48:58,227 - __main__ - INFO - Verified existing text index for Satsure_IFAD_Proposal.pdf
2025-05-21 13:48:58,227 - __main__ - INFO - --- Processing (15/17): Smart_Farming_Crop_Yield_2024.csv ---
2025-05-21 13:48:58,228 - __main__ - INFO - Processing CSV: Smart_Farming_Crop_Yield_2024.csv
2025-05-21 13:48:58,247 - __main__ - INFO - Read CSV Smart_Farming_Crop_Yield_2024.csv using encoding: utf-8. (Rows: 500, Cols: 22)
2025-05-21 13:48:58,370 - __main__ - INFO - SambaNova OpenAI client initialized (Model: Meta-Llama-3.3-70B-Instruct, Base URL: https://api.sambanova.ai/v1)
2025-05-21 13:48:58,377 - __main__ - INFO - Requesting column metadata from SambaNova for Smart_Farming_Crop_Yield_2024.csv...
2025-05-21 13:49:01,623 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 13:49:01,631 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 87 (char 88). Raw response: {
  "farm_id": { "description": "Unique identifier for each farm.", "sql_type": "TEXT" },
  "region": { "description": "Geographical region where the farm is located.", "sql_type": "TEXT" },
  "crop_type": { "description": "Type of crop being cultivated.", "sql_type": "TEXT" },
  "soil_moisture": { "description": "Soil moisture level measured in percentage.", "sql_type": "REAL" },
  "soil_pH": { "description": "Soil pH level, a measure of its acidity or alkalinity.", "sql_type": "REAL" },
  "temperature_C": { "description": "Temperature in degrees Celsius.", "sql_type": "REAL" },
  "rainfall_mm": { "description": "Amount of rainfall measured in millimeters.", "sql_type": "REAL" },
  "humidity": { "description": "Relative humidity level measured in percentage.", "sql_type": "REAL" },
  "sunlight_hours": { "description": "Number of hours of sunlight per day.", "sql_type": "REAL" },
  "irrigation_type": { "description": "Method or system used for irrigation.", "sql_type": "TEXT" },
  "fertilizer_type": { "description": "Type of fertilizer used.", "sql_type": "TEXT" },
  "pesticide_usage_ml": { "description": "Amount of pesticide used measured in milliliters.", "sql_type": "REAL" },
  "sowing_date": { "description": "Date when the crop was sown.", "sql_type": "TEXT" },
  "harvest_date": { "description": "Date when the crop was harvested.", "sql_type": "TEXT" },
  "total_days": { "description": "Total number of days from sowing to harvest.", "sql_type": "INTEGER" },
  "yield_kg_per_hectare": { "description": "Crop yield measured in kilograms per hectare.", "sql_type": "REAL" },
  "sensor_id": { "description": "Unique identifier for the sensor used.", "sql_type": "TEXT" },
  "timestamp": { "description": "Timestamp for when the data was recorded or updated.", "sql_type": "TEXT" },
  "latitude": { "description": "Geographical latitude of the farm location.", "sql_type": "REAL" },
  "longitude": { "description": "Geographical longitude of the farm location.", "sql_type": "REAL" },
  "NDVI_index": { "description": "Normalized Difference Vegetation Index, a measure of vegetation health.", "sql_type": "REAL" },
  "crop_disease_status": { "description": "Status or severity of disease affecting the crop.", "sql_type": "TEXT" }
}
2025-05-21 13:49:01,632 - __main__ - WARNING - Failed to get column metadata for CSV via SambaNova. Proceeding without descriptions.
2025-05-21 13:49:01,676 - __main__ - INFO - Loading DataFrame into SQL table 'smart_farming_crop_yield_2024'...
2025-05-21 13:49:01,711 - __main__ - INFO - DataFrame loaded into table 'smart_farming_crop_yield_2024' (500 rows).
2025-05-21 13:49:01,712 - __main__ - INFO - Successfully loaded CSV Smart_Farming_Crop_Yield_2024.csv into SQL table 'smart_farming_crop_yield_2024'
2025-05-21 13:49:01,712 - __main__ - INFO - --- Processing (16/17): Villgro_SatSure.pdf ---
2025-05-21 13:49:01,714 - __main__ - INFO - Loaded 31 text chunks from ./Faiss_index/Villgro_SatSure.json
2025-05-21 13:49:01,716 - __main__ - INFO - Loaded FAISS index for Villgro_SatSure.pdf (31 vectors)
2025-05-21 13:49:01,716 - __main__ - INFO - Verified existing text index for Villgro_SatSure.pdf
2025-05-21 13:49:01,716 - __main__ - INFO - --- Processing (17/17): Yara_ SatSure.pdf ---
2025-05-21 13:49:01,718 - __main__ - INFO - Loaded 25 text chunks from ./Faiss_index/Yara__SatSure.json
2025-05-21 13:49:01,719 - __main__ - INFO - Loaded FAISS index for Yara_ SatSure.pdf (25 vectors)
2025-05-21 13:49:01,719 - __main__ - INFO - Verified existing text index for Yara_ SatSure.pdf
2025-05-21 13:49:01,719 - __main__ - INFO - --- Processing Complete. Processed 17 files. ---
2025-05-21 13:49:29,162 - __main__ - INFO - --- Starting SambaNova query: 'Tell me something about an agricultural project being done by SatSure...' ---
2025-05-21 13:49:29,225 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-21 13:49:30,805 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 13:49:30,808 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Simple Retrieval", "confidence": 0.8}...'
2025-05-21 13:49:30,808 - __main__ - INFO - Query classified as 'Simple Retrieval' with confidence 0.80
2025-05-21 13:49:30,809 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-21 13:49:30,812 - __main__ - INFO - Querying SambaNova model Meta-Llama-3.3-70B-Instruct with text context and history...
2025-05-21 13:49:33,059 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 13:49:33,061 - __main__ - INFO - SambaNova response received. Length: 1257
2025-05-21 13:49:33,062 - __main__ - INFO - --- SambaNova query finished. Source: Text RAG (SambaNova) --- Status: Completed Successfully ---
2025-05-21 13:51:08,903 - __main__ - INFO - --- Starting SambaNova query: 'Give me a much more detailed output in 500 words...' ---
2025-05-21 13:51:08,906 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query refinement...
2025-05-21 13:51:10,761 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 13:51:10,764 - __main__ - INFO - SambaNova response for query refinement: 'Provide a detailed description of SatSure's agricultural projects, including the specific technologies and methodologies used, such as satellite image...'
2025-05-21 13:51:10,764 - __main__ - INFO - Query refined by SambaNova to: 'Provide a detailed description of SatSure's agricultural projects, including the specific technologi...'
2025-05-21 13:51:10,830 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-21 13:51:11,868 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 13:51:11,871 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Complex/Reasoning (Text)", "confidence": 0.95}...'
2025-05-21 13:51:11,871 - __main__ - INFO - Query classified as 'Complex/Reasoning (Text)' with confidence 0.95
2025-05-21 13:51:11,872 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-21 13:51:11,875 - __main__ - INFO - Querying SambaNova model Meta-Llama-3.3-70B-Instruct with text context and history...
2025-05-21 13:51:14,404 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 13:51:14,407 - __main__ - INFO - SambaNova response received. Length: 3222
2025-05-21 13:51:14,408 - __main__ - INFO - --- SambaNova query finished. Source: Text RAG (SambaNova) --- Status: Completed Successfully ---
2025-05-21 14:16:04,661 - __main__ - INFO - Loaded configuration from config1.ini
2025-05-21 14:16:04,661 - __main__ - INFO - Added missing option 'data_dir = ./Data/' to section [PATHS] from defaults.
2025-05-21 14:16:04,662 - __main__ - INFO - Added missing option 'sqlite_db_path = :memory:' to section [PATHS] from defaults.
2025-05-21 14:16:04,662 - __main__ - INFO - Added missing option 'sambanova_model = Meta-Llama-3.3-70B-Instruct' to section [MODELS] from defaults.
2025-05-21 14:16:04,662 - __main__ - INFO - Added missing option 'sambanova_base_url = https://api.sambanova.ai/v1' to section [MODELS] from defaults.
2025-05-21 14:16:04,662 - __main__ - INFO - Added missing option 'top_p = 0.1' to section [PARAMETERS] from defaults.
2025-05-21 14:16:04,662 - __main__ - INFO - Added missing option 'max_chars_per_element = 1200' to section [PARAMETERS] from defaults.
2025-05-21 14:16:04,662 - __main__ - INFO - Added missing option 'pptx_merge_threshold_words = 50' to section [PARAMETERS] from defaults.
2025-05-21 14:16:04,662 - __main__ - INFO - Added missing option 'dataframe_query_confidence_threshold = 0.70' to section [PARAMETERS] from defaults.
2025-05-21 14:16:04,662 - __main__ - INFO - Added missing option 'max_chat_history_turns = 5' to section [PARAMETERS] from defaults.
2025-05-21 14:16:04,662 - __main__ - INFO - Added missing section [SUPPORTED_EXTENSIONS] from defaults.
2025-05-21 14:16:04,662 - __main__ - INFO - Added missing option 'extensions = .pdf, .xlsx, .csv, .pptx' to section [SUPPORTED_EXTENSIONS] from defaults.
2025-05-21 14:16:04,662 - __main__ - INFO - Added missing section [API_KEYS] from defaults.
2025-05-21 14:16:04,662 - __main__ - INFO - Added missing option 'sambanova_api_key_config = ' to section [API_KEYS] from defaults.
2025-05-21 14:16:04,670 - __main__ - INFO - Initializing RAG system (SambaNova Version). Device: cpu, Supported files: ('.pdf', '.xlsx', '.csv', '.pptx')
2025-05-21 14:16:04,672 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-05-21 14:16:04,672 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-05-21 14:16:08,015 - __main__ - INFO - Local embedding model loaded successfully
2025-05-21 14:16:08,017 - __main__ - INFO - Connected to SQLite database at ':memory:'
2025-05-21 14:16:12,526 - __main__ - INFO - Clearing existing tables from in-memory database...
2025-05-21 14:16:12,529 - __main__ - INFO - Dropped 0 tables.
2025-05-21 14:16:12,532 - __main__ - INFO - Processing 17 supported files from ./Data/
2025-05-21 14:16:12,534 - __main__ - INFO - --- Processing (1/17): BASF Technical proposal (2).pdf ---
2025-05-21 14:16:12,539 - __main__ - INFO - Loaded 55 text chunks from ./Faiss_index/BASF_Technical_proposal__2_.json
2025-05-21 14:16:12,541 - __main__ - INFO - Loaded FAISS index for BASF Technical proposal (2).pdf (55 vectors)
2025-05-21 14:16:12,541 - __main__ - INFO - Verified existing text index for BASF Technical proposal (2).pdf
2025-05-21 14:16:12,542 - __main__ - INFO - --- Processing (2/17): Chola MS Sparta Maps proposal_V1.pdf ---
2025-05-21 14:16:12,545 - __main__ - INFO - Loaded 23 text chunks from ./Faiss_index/Chola_MS_Sparta_Maps_proposal_V1.json
2025-05-21 14:16:12,547 - __main__ - INFO - Loaded FAISS index for Chola MS Sparta Maps proposal_V1.pdf (23 vectors)
2025-05-21 14:16:12,547 - __main__ - INFO - Verified existing text index for Chola MS Sparta Maps proposal_V1.pdf
2025-05-21 14:16:12,547 - __main__ - INFO - --- Processing (3/17): Gebana_EUDR_SatSure.pdf ---
2025-05-21 14:16:12,550 - __main__ - INFO - Loaded 31 text chunks from ./Faiss_index/Gebana_EUDR_SatSure.json
2025-05-21 14:16:12,552 - __main__ - INFO - Loaded FAISS index for Gebana_EUDR_SatSure.pdf (31 vectors)
2025-05-21 14:16:12,552 - __main__ - INFO - Verified existing text index for Gebana_EUDR_SatSure.pdf
2025-05-21 14:16:12,552 - __main__ - INFO - --- Processing (4/17): ITC paperboard Proposal.pdf ---
2025-05-21 14:16:12,555 - __main__ - INFO - Loaded 45 text chunks from ./Faiss_index/ITC_paperboard_Proposal.json
2025-05-21 14:16:12,557 - __main__ - INFO - Loaded FAISS index for ITC paperboard Proposal.pdf (45 vectors)
2025-05-21 14:16:12,557 - __main__ - INFO - Verified existing text index for ITC paperboard Proposal.pdf
2025-05-21 14:16:12,558 - __main__ - INFO - --- Processing (5/17): JB boda_SatSure.pdf ---
2025-05-21 14:16:12,559 - __main__ - INFO - Loaded 17 text chunks from ./Faiss_index/JB_boda_SatSure.json
2025-05-21 14:16:12,561 - __main__ - INFO - Loaded FAISS index for JB boda_SatSure.pdf (17 vectors)
2025-05-21 14:16:12,561 - __main__ - INFO - Verified existing text index for JB boda_SatSure.pdf
2025-05-21 14:16:12,561 - __main__ - INFO - --- Processing (6/17): JICA_Proposal_SatSure.pdf ---
2025-05-21 14:16:12,564 - __main__ - INFO - Loaded 38 text chunks from ./Faiss_index/JICA_Proposal_SatSure.json
2025-05-21 14:16:12,565 - __main__ - INFO - Loaded FAISS index for JICA_Proposal_SatSure.pdf (38 vectors)
2025-05-21 14:16:12,565 - __main__ - INFO - Verified existing text index for JICA_Proposal_SatSure.pdf
2025-05-21 14:16:12,565 - __main__ - INFO - --- Processing (7/17): Market Potential and demand estimation usecase.docx.pdf ---
2025-05-21 14:16:12,569 - __main__ - INFO - Loaded 10 text chunks from ./Faiss_index/Market_Potential_and_demand_estimation_usecase.docx.json
2025-05-21 14:16:12,571 - __main__ - INFO - Loaded FAISS index for Market Potential and demand estimation usecase.docx.pdf (10 vectors)
2025-05-21 14:16:12,571 - __main__ - INFO - Verified existing text index for Market Potential and demand estimation usecase.docx.pdf
2025-05-21 14:16:12,571 - __main__ - INFO - --- Processing (8/17): Munichre_Satsure.pdf ---
2025-05-21 14:16:12,575 - __main__ - INFO - Loaded 46 text chunks from ./Faiss_index/Munichre_Satsure.json
2025-05-21 14:16:12,576 - __main__ - INFO - Loaded FAISS index for Munichre_Satsure.pdf (46 vectors)
2025-05-21 14:16:12,576 - __main__ - INFO - Verified existing text index for Munichre_Satsure.pdf
2025-05-21 14:16:12,576 - __main__ - INFO - --- Processing (9/17): Punjab Proposal_SatSure.pdf ---
2025-05-21 14:16:12,578 - __main__ - INFO - Loaded 21 text chunks from ./Faiss_index/Punjab_Proposal_SatSure.json
2025-05-21 14:16:12,580 - __main__ - INFO - Loaded FAISS index for Punjab Proposal_SatSure.pdf (21 vectors)
2025-05-21 14:16:12,580 - __main__ - INFO - Verified existing text index for Punjab Proposal_SatSure.pdf
2025-05-21 14:16:12,580 - __main__ - INFO - --- Processing (10/17): Raizen (1).pdf ---
2025-05-21 14:16:12,582 - __main__ - INFO - Loaded 58 text chunks from ./Faiss_index/Raizen__1_.json
2025-05-21 14:16:12,583 - __main__ - INFO - Loaded FAISS index for Raizen (1).pdf (58 vectors)
2025-05-21 14:16:12,583 - __main__ - INFO - Verified existing text index for Raizen (1).pdf
2025-05-21 14:16:12,583 - __main__ - INFO - --- Processing (11/17): SS Alliance-Roadmap for Africa expansion_SatSure (1).pdf ---
2025-05-21 14:16:12,585 - __main__ - INFO - Loaded 43 text chunks from ./Faiss_index/SS_Alliance-Roadmap_for_Africa_expansion_SatSure__1_.json
2025-05-21 14:16:12,587 - __main__ - INFO - Loaded FAISS index for SS Alliance-Roadmap for Africa expansion_SatSure (1).pdf (43 vectors)
2025-05-21 14:16:12,587 - __main__ - INFO - Verified existing text index for SS Alliance-Roadmap for Africa expansion_SatSure (1).pdf
2025-05-21 14:16:12,587 - __main__ - INFO - --- Processing (12/17): SatSure Forest Stack - Andhra Pradesh (Oct 2024).pptx ---
2025-05-21 14:16:12,589 - __main__ - INFO - Loaded 33 text chunks from ./Faiss_index/SatSure_Forest_Stack_-_Andhra_Pradesh__Oct_2024_.json
2025-05-21 14:16:12,591 - __main__ - INFO - Loaded FAISS index for SatSure Forest Stack - Andhra Pradesh (Oct 2024).pptx (33 vectors)
2025-05-21 14:16:12,591 - __main__ - INFO - Verified existing text index for SatSure Forest Stack - Andhra Pradesh (Oct 2024).pptx
2025-05-21 14:16:12,591 - __main__ - INFO - --- Processing (13/17): SatSure_Sugarcane (1).pdf ---
2025-05-21 14:16:12,593 - __main__ - INFO - Loaded 70 text chunks from ./Faiss_index/SatSure_Sugarcane__1_.json
2025-05-21 14:16:12,594 - __main__ - INFO - Loaded FAISS index for SatSure_Sugarcane (1).pdf (70 vectors)
2025-05-21 14:16:12,595 - __main__ - INFO - Verified existing text index for SatSure_Sugarcane (1).pdf
2025-05-21 14:16:12,595 - __main__ - INFO - --- Processing (14/17): Satsure_IFAD_Proposal.pdf ---
2025-05-21 14:16:12,597 - __main__ - INFO - Loaded 84 text chunks from ./Faiss_index/Satsure_IFAD_Proposal.json
2025-05-21 14:16:12,599 - __main__ - INFO - Loaded FAISS index for Satsure_IFAD_Proposal.pdf (84 vectors)
2025-05-21 14:16:12,599 - __main__ - INFO - Verified existing text index for Satsure_IFAD_Proposal.pdf
2025-05-21 14:16:12,599 - __main__ - INFO - --- Processing (15/17): Smart_Farming_Crop_Yield_2024.csv ---
2025-05-21 14:16:12,600 - __main__ - INFO - Processing CSV: Smart_Farming_Crop_Yield_2024.csv
2025-05-21 14:16:12,624 - __main__ - INFO - Read CSV Smart_Farming_Crop_Yield_2024.csv using encoding: utf-8. (Rows: 500, Cols: 22)
2025-05-21 14:16:12,722 - __main__ - INFO - SambaNova OpenAI client initialized (Model: Meta-Llama-3.3-70B-Instruct, Base URL: https://api.sambanova.ai/v1)
2025-05-21 14:16:12,728 - __main__ - INFO - Requesting column metadata from SambaNova for Smart_Farming_Crop_Yield_2024.csv...
2025-05-21 14:16:15,691 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 14:16:15,704 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 87 (char 88). Raw response: {
  "farm_id": { "description": "Unique identifier for each farm.", "sql_type": "TEXT" },
  "region": { "description": "Geographical region where the farm is located.", "sql_type": "TEXT" },
  "crop_type": { "description": "Type of crop being cultivated.", "sql_type": "TEXT" },
  "soil_moisture": { "description": "Soil moisture level measured in percentage.", "sql_type": "REAL" },
  "soil_pH": { "description": "Soil pH level, a measure of its acidity or alkalinity.", "sql_type": "REAL" },
  "temperature_C": { "description": "Temperature in degrees Celsius.", "sql_type": "REAL" },
  "rainfall_mm": { "description": "Amount of rainfall measured in millimeters.", "sql_type": "REAL" },
  "humidity": { "description": "Relative humidity level measured in percentage.", "sql_type": "REAL" },
  "sunlight_hours": { "description": "Number of hours of sunlight per day.", "sql_type": "REAL" },
  "irrigation_type": { "description": "Method or system used for irrigation.", "sql_type": "TEXT" },
  "fertilizer_type": { "description": "Type of fertilizer used.", "sql_type": "TEXT" },
  "pesticide_usage_ml": { "description": "Amount of pesticide used measured in milliliters.", "sql_type": "REAL" },
  "sowing_date": { "description": "Date when the crop was sown.", "sql_type": "TEXT" },
  "harvest_date": { "description": "Date when the crop was harvested.", "sql_type": "TEXT" },
  "total_days": { "description": "Total number of days from sowing to harvest.", "sql_type": "INTEGER" },
  "yield_kg_per_hectare": { "description": "Crop yield measured in kilograms per hectare.", "sql_type": "REAL" },
  "sensor_id": { "description": "Unique identifier for the sensor used.", "sql_type": "TEXT" },
  "timestamp": { "description": "Timestamp for when the data was recorded or updated.", "sql_type": "TEXT" },
  "latitude": { "description": "Geographical latitude of the farm location.", "sql_type": "REAL" },
  "longitude": { "description": "Geographical longitude of the farm location.", "sql_type": "REAL" },
  "NDVI_index": { "description": "Normalized Difference Vegetation Index, a measure of vegetation health.", "sql_type": "REAL" },
  "crop_disease_status": { "description": "Status or severity of disease affecting the crop.", "sql_type": "TEXT" }
}
2025-05-21 14:16:15,705 - __main__ - WARNING - Failed to get column metadata for CSV via SambaNova. Proceeding without descriptions.
2025-05-21 14:16:15,761 - __main__ - INFO - Loading DataFrame into SQL table 'smart_farming_crop_yield_2024'...
2025-05-21 14:16:15,802 - __main__ - INFO - DataFrame loaded into table 'smart_farming_crop_yield_2024' (500 rows).
2025-05-21 14:16:15,803 - __main__ - INFO - Successfully loaded CSV Smart_Farming_Crop_Yield_2024.csv into SQL table 'smart_farming_crop_yield_2024'
2025-05-21 14:16:15,803 - __main__ - INFO - --- Processing (16/17): Villgro_SatSure.pdf ---
2025-05-21 14:16:15,806 - __main__ - INFO - Loaded 31 text chunks from ./Faiss_index/Villgro_SatSure.json
2025-05-21 14:16:15,808 - __main__ - INFO - Loaded FAISS index for Villgro_SatSure.pdf (31 vectors)
2025-05-21 14:16:15,808 - __main__ - INFO - Verified existing text index for Villgro_SatSure.pdf
2025-05-21 14:16:15,808 - __main__ - INFO - --- Processing (17/17): Yara_ SatSure.pdf ---
2025-05-21 14:16:15,811 - __main__ - INFO - Loaded 25 text chunks from ./Faiss_index/Yara__SatSure.json
2025-05-21 14:16:15,813 - __main__ - INFO - Loaded FAISS index for Yara_ SatSure.pdf (25 vectors)
2025-05-21 14:16:15,814 - __main__ - INFO - Verified existing text index for Yara_ SatSure.pdf
2025-05-21 14:16:15,814 - __main__ - INFO - --- Processing Complete. Processed 17 files. ---
2025-05-21 14:17:31,976 - __main__ - INFO - --- Starting SambaNova query: 'What are we delivering to MunichRE...' ---
2025-05-21 14:17:32,002 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-21 14:17:33,653 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 14:17:33,656 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Simple Retrieval", "confidence": 0.95}...'
2025-05-21 14:17:33,657 - __main__ - INFO - Query classified as 'Simple Retrieval' with confidence 0.95
2025-05-21 14:17:33,658 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-21 14:17:33,661 - __main__ - INFO - Querying SambaNova model Meta-Llama-3.3-70B-Instruct with text context and history...
2025-05-21 14:17:35,627 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 14:17:35,631 - __main__ - INFO - SambaNova response received. Length: 917
2025-05-21 14:17:35,633 - __main__ - INFO - --- SambaNova query finished. Source: Text RAG (SambaNova) --- Status: Completed Successfully ---
2025-05-21 14:18:28,135 - __main__ - INFO - Loaded configuration from config1.ini
2025-05-21 14:18:28,136 - __main__ - INFO - Added missing option 'data_dir = ./Data/' to section [PATHS] from defaults.
2025-05-21 14:18:28,136 - __main__ - INFO - Added missing option 'sqlite_db_path = :memory:' to section [PATHS] from defaults.
2025-05-21 14:18:28,136 - __main__ - INFO - Added missing option 'sambanova_model = Meta-Llama-3.3-70B-Instruct' to section [MODELS] from defaults.
2025-05-21 14:18:28,136 - __main__ - INFO - Added missing option 'sambanova_base_url = https://api.sambanova.ai/v1' to section [MODELS] from defaults.
2025-05-21 14:18:28,136 - __main__ - INFO - Added missing option 'top_p = 0.1' to section [PARAMETERS] from defaults.
2025-05-21 14:18:28,136 - __main__ - INFO - Added missing option 'max_chars_per_element = 1200' to section [PARAMETERS] from defaults.
2025-05-21 14:18:28,136 - __main__ - INFO - Added missing option 'pptx_merge_threshold_words = 50' to section [PARAMETERS] from defaults.
2025-05-21 14:18:28,136 - __main__ - INFO - Added missing option 'dataframe_query_confidence_threshold = 0.70' to section [PARAMETERS] from defaults.
2025-05-21 14:18:28,136 - __main__ - INFO - Added missing option 'max_chat_history_turns = 5' to section [PARAMETERS] from defaults.
2025-05-21 14:18:28,136 - __main__ - INFO - Added missing section [SUPPORTED_EXTENSIONS] from defaults.
2025-05-21 14:18:28,136 - __main__ - INFO - Added missing option 'extensions = .pdf, .xlsx, .csv, .pptx' to section [SUPPORTED_EXTENSIONS] from defaults.
2025-05-21 14:18:28,137 - __main__ - INFO - Added missing section [API_KEYS] from defaults.
2025-05-21 14:18:28,137 - __main__ - INFO - Added missing option 'sambanova_api_key_config = ' to section [API_KEYS] from defaults.
2025-05-21 14:18:28,143 - __main__ - INFO - Initializing RAG system (SambaNova Version). Device: cpu, Supported files: ('.pdf', '.xlsx', '.csv', '.pptx')
2025-05-21 14:18:28,146 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-05-21 14:18:28,146 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-05-21 14:18:31,960 - __main__ - INFO - Local embedding model loaded successfully
2025-05-21 14:18:31,962 - __main__ - INFO - Connected to SQLite database at ':memory:'
2025-05-21 14:18:43,791 - __main__ - INFO - Clearing existing tables from in-memory database...
2025-05-21 14:18:43,792 - __main__ - INFO - Dropped 0 tables.
2025-05-21 14:18:43,797 - __main__ - INFO - Processing 17 supported files from ./Data/
2025-05-21 14:18:43,799 - __main__ - INFO - --- Processing (1/17): BASF Technical proposal (2).pdf ---
2025-05-21 14:18:43,804 - __main__ - INFO - Loaded 55 text chunks from ./Faiss_index/BASF_Technical_proposal__2_.json
2025-05-21 14:18:43,806 - __main__ - INFO - Loaded FAISS index for BASF Technical proposal (2).pdf (55 vectors)
2025-05-21 14:18:43,806 - __main__ - INFO - Verified existing text index for BASF Technical proposal (2).pdf
2025-05-21 14:18:43,807 - __main__ - INFO - --- Processing (2/17): Chola MS Sparta Maps proposal_V1.pdf ---
2025-05-21 14:18:43,810 - __main__ - INFO - Loaded 23 text chunks from ./Faiss_index/Chola_MS_Sparta_Maps_proposal_V1.json
2025-05-21 14:18:43,812 - __main__ - INFO - Loaded FAISS index for Chola MS Sparta Maps proposal_V1.pdf (23 vectors)
2025-05-21 14:18:43,812 - __main__ - INFO - Verified existing text index for Chola MS Sparta Maps proposal_V1.pdf
2025-05-21 14:18:43,812 - __main__ - INFO - --- Processing (3/17): Gebana_EUDR_SatSure.pdf ---
2025-05-21 14:18:43,815 - __main__ - INFO - Loaded 31 text chunks from ./Faiss_index/Gebana_EUDR_SatSure.json
2025-05-21 14:18:43,816 - __main__ - INFO - Loaded FAISS index for Gebana_EUDR_SatSure.pdf (31 vectors)
2025-05-21 14:18:43,816 - __main__ - INFO - Verified existing text index for Gebana_EUDR_SatSure.pdf
2025-05-21 14:18:43,816 - __main__ - INFO - --- Processing (4/17): ITC paperboard Proposal.pdf ---
2025-05-21 14:18:43,818 - __main__ - INFO - Loaded 45 text chunks from ./Faiss_index/ITC_paperboard_Proposal.json
2025-05-21 14:18:43,819 - __main__ - INFO - Loaded FAISS index for ITC paperboard Proposal.pdf (45 vectors)
2025-05-21 14:18:43,820 - __main__ - INFO - Verified existing text index for ITC paperboard Proposal.pdf
2025-05-21 14:18:43,820 - __main__ - INFO - --- Processing (5/17): JB boda_SatSure.pdf ---
2025-05-21 14:18:43,822 - __main__ - INFO - Loaded 17 text chunks from ./Faiss_index/JB_boda_SatSure.json
2025-05-21 14:18:43,823 - __main__ - INFO - Loaded FAISS index for JB boda_SatSure.pdf (17 vectors)
2025-05-21 14:18:43,824 - __main__ - INFO - Verified existing text index for JB boda_SatSure.pdf
2025-05-21 14:18:43,824 - __main__ - INFO - --- Processing (6/17): JICA_Proposal_SatSure.pdf ---
2025-05-21 14:18:43,826 - __main__ - INFO - Loaded 38 text chunks from ./Faiss_index/JICA_Proposal_SatSure.json
2025-05-21 14:18:43,827 - __main__ - INFO - Loaded FAISS index for JICA_Proposal_SatSure.pdf (38 vectors)
2025-05-21 14:18:43,827 - __main__ - INFO - Verified existing text index for JICA_Proposal_SatSure.pdf
2025-05-21 14:18:43,827 - __main__ - INFO - --- Processing (7/17): Market Potential and demand estimation usecase.docx.pdf ---
2025-05-21 14:18:43,829 - __main__ - INFO - Loaded 10 text chunks from ./Faiss_index/Market_Potential_and_demand_estimation_usecase.docx.json
2025-05-21 14:18:43,830 - __main__ - INFO - Loaded FAISS index for Market Potential and demand estimation usecase.docx.pdf (10 vectors)
2025-05-21 14:18:43,831 - __main__ - INFO - Verified existing text index for Market Potential and demand estimation usecase.docx.pdf
2025-05-21 14:18:43,831 - __main__ - INFO - --- Processing (8/17): Munichre_Satsure.pdf ---
2025-05-21 14:18:43,834 - __main__ - INFO - Loaded 46 text chunks from ./Faiss_index/Munichre_Satsure.json
2025-05-21 14:18:43,836 - __main__ - INFO - Loaded FAISS index for Munichre_Satsure.pdf (46 vectors)
2025-05-21 14:18:43,836 - __main__ - INFO - Verified existing text index for Munichre_Satsure.pdf
2025-05-21 14:18:43,837 - __main__ - INFO - --- Processing (9/17): Punjab Proposal_SatSure.pdf ---
2025-05-21 14:18:43,839 - __main__ - INFO - Loaded 21 text chunks from ./Faiss_index/Punjab_Proposal_SatSure.json
2025-05-21 14:18:43,841 - __main__ - INFO - Loaded FAISS index for Punjab Proposal_SatSure.pdf (21 vectors)
2025-05-21 14:18:43,841 - __main__ - INFO - Verified existing text index for Punjab Proposal_SatSure.pdf
2025-05-21 14:18:43,841 - __main__ - INFO - --- Processing (10/17): Raizen (1).pdf ---
2025-05-21 14:18:43,844 - __main__ - INFO - Loaded 58 text chunks from ./Faiss_index/Raizen__1_.json
2025-05-21 14:18:43,846 - __main__ - INFO - Loaded FAISS index for Raizen (1).pdf (58 vectors)
2025-05-21 14:18:43,846 - __main__ - INFO - Verified existing text index for Raizen (1).pdf
2025-05-21 14:18:43,847 - __main__ - INFO - --- Processing (11/17): SS Alliance-Roadmap for Africa expansion_SatSure (1).pdf ---
2025-05-21 14:18:43,849 - __main__ - INFO - Loaded 43 text chunks from ./Faiss_index/SS_Alliance-Roadmap_for_Africa_expansion_SatSure__1_.json
2025-05-21 14:18:43,850 - __main__ - INFO - Loaded FAISS index for SS Alliance-Roadmap for Africa expansion_SatSure (1).pdf (43 vectors)
2025-05-21 14:18:43,851 - __main__ - INFO - Verified existing text index for SS Alliance-Roadmap for Africa expansion_SatSure (1).pdf
2025-05-21 14:18:43,851 - __main__ - INFO - --- Processing (12/17): SatSure Forest Stack - Andhra Pradesh (Oct 2024).pptx ---
2025-05-21 14:18:43,854 - __main__ - INFO - Loaded 33 text chunks from ./Faiss_index/SatSure_Forest_Stack_-_Andhra_Pradesh__Oct_2024_.json
2025-05-21 14:18:43,855 - __main__ - INFO - Loaded FAISS index for SatSure Forest Stack - Andhra Pradesh (Oct 2024).pptx (33 vectors)
2025-05-21 14:18:43,855 - __main__ - INFO - Verified existing text index for SatSure Forest Stack - Andhra Pradesh (Oct 2024).pptx
2025-05-21 14:18:43,856 - __main__ - INFO - --- Processing (13/17): SatSure_Sugarcane (1).pdf ---
2025-05-21 14:18:43,860 - __main__ - INFO - Loaded 70 text chunks from ./Faiss_index/SatSure_Sugarcane__1_.json
2025-05-21 14:18:43,861 - __main__ - INFO - Loaded FAISS index for SatSure_Sugarcane (1).pdf (70 vectors)
2025-05-21 14:18:43,862 - __main__ - INFO - Verified existing text index for SatSure_Sugarcane (1).pdf
2025-05-21 14:18:43,862 - __main__ - INFO - --- Processing (14/17): Satsure_IFAD_Proposal.pdf ---
2025-05-21 14:18:43,866 - __main__ - INFO - Loaded 84 text chunks from ./Faiss_index/Satsure_IFAD_Proposal.json
2025-05-21 14:18:43,868 - __main__ - INFO - Loaded FAISS index for Satsure_IFAD_Proposal.pdf (84 vectors)
2025-05-21 14:18:43,868 - __main__ - INFO - Verified existing text index for Satsure_IFAD_Proposal.pdf
2025-05-21 14:18:43,869 - __main__ - INFO - --- Processing (15/17): Smart_Farming_Crop_Yield_2024.csv ---
2025-05-21 14:18:43,870 - __main__ - INFO - Processing CSV: Smart_Farming_Crop_Yield_2024.csv
2025-05-21 14:18:43,884 - __main__ - INFO - Read CSV Smart_Farming_Crop_Yield_2024.csv using encoding: utf-8. (Rows: 500, Cols: 22)
2025-05-21 14:18:43,965 - __main__ - INFO - SambaNova OpenAI client initialized (Model: Meta-Llama-3.3-70B-Instruct, Base URL: https://api.sambanova.ai/v1)
2025-05-21 14:18:43,973 - __main__ - INFO - Requesting column metadata from SambaNova for Smart_Farming_Crop_Yield_2024.csv...
2025-05-21 14:18:46,908 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 14:18:46,920 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 87 (char 88). Raw response: {
  "farm_id": { "description": "Unique identifier for each farm.", "sql_type": "TEXT" },
  "region": { "description": "Geographical region where the farm is located.", "sql_type": "TEXT" },
  "crop_type": { "description": "Type of crop being cultivated.", "sql_type": "TEXT" },
  "soil_moisture": { "description": "Soil moisture level measured in percentage.", "sql_type": "REAL" },
  "soil_pH": { "description": "Soil pH level, a measure of its acidity or alkalinity.", "sql_type": "REAL" },
  "temperature_C": { "description": "Temperature in degrees Celsius.", "sql_type": "REAL" },
  "rainfall_mm": { "description": "Amount of rainfall measured in millimeters.", "sql_type": "REAL" },
  "humidity": { "description": "Relative humidity level measured in percentage.", "sql_type": "REAL" },
  "sunlight_hours": { "description": "Number of hours of sunlight per day.", "sql_type": "REAL" },
  "irrigation_type": { "description": "Method or system used for irrigation.", "sql_type": "TEXT" },
  "fertilizer_type": { "description": "Type of fertilizer used.", "sql_type": "TEXT" },
  "pesticide_usage_ml": { "description": "Amount of pesticide used measured in milliliters.", "sql_type": "REAL" },
  "sowing_date": { "description": "Date when the crop was sown.", "sql_type": "TEXT" },
  "harvest_date": { "description": "Date when the crop was harvested.", "sql_type": "TEXT" },
  "total_days": { "description": "Total number of days from sowing to harvest.", "sql_type": "INTEGER" },
  "yield_kg_per_hectare": { "description": "Crop yield measured in kilograms per hectare.", "sql_type": "REAL" },
  "sensor_id": { "description": "Unique identifier for the sensor used.", "sql_type": "TEXT" },
  "timestamp": { "description": "Timestamp for when the data was recorded or updated.", "sql_type": "TEXT" },
  "latitude": { "description": "Geographical latitude of the farm location.", "sql_type": "REAL" },
  "longitude": { "description": "Geographical longitude of the farm location.", "sql_type": "REAL" },
  "NDVI_index": { "description": "Normalized Difference Vegetation Index, a measure of vegetation health.", "sql_type": "REAL" },
  "crop_disease_status": { "description": "Status or severity of disease affecting the crop.", "sql_type": "TEXT" }
}
2025-05-21 14:18:46,920 - __main__ - WARNING - Failed to get column metadata for CSV via SambaNova. Proceeding without descriptions.
2025-05-21 14:18:46,976 - __main__ - INFO - Loading DataFrame into SQL table 'smart_farming_crop_yield_2024'...
2025-05-21 14:18:47,022 - __main__ - INFO - DataFrame loaded into table 'smart_farming_crop_yield_2024' (500 rows).
2025-05-21 14:18:47,023 - __main__ - INFO - Successfully loaded CSV Smart_Farming_Crop_Yield_2024.csv into SQL table 'smart_farming_crop_yield_2024'
2025-05-21 14:18:47,023 - __main__ - INFO - --- Processing (16/17): Villgro_SatSure.pdf ---
2025-05-21 14:18:47,026 - __main__ - INFO - Loaded 31 text chunks from ./Faiss_index/Villgro_SatSure.json
2025-05-21 14:18:47,027 - __main__ - INFO - Loaded FAISS index for Villgro_SatSure.pdf (31 vectors)
2025-05-21 14:18:47,027 - __main__ - INFO - Verified existing text index for Villgro_SatSure.pdf
2025-05-21 14:18:47,027 - __main__ - INFO - --- Processing (17/17): Yara_ SatSure.pdf ---
2025-05-21 14:18:47,029 - __main__ - INFO - Loaded 25 text chunks from ./Faiss_index/Yara__SatSure.json
2025-05-21 14:18:47,030 - __main__ - INFO - Loaded FAISS index for Yara_ SatSure.pdf (25 vectors)
2025-05-21 14:18:47,030 - __main__ - INFO - Verified existing text index for Yara_ SatSure.pdf
2025-05-21 14:18:47,030 - __main__ - INFO - --- Processing Complete. Processed 17 files. ---
2025-05-21 14:18:54,714 - __main__ - INFO - --- Starting SambaNova query: 'What are we delivering to MunichRE...' ---
2025-05-21 14:18:54,780 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-21 14:18:56,205 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 14:18:56,208 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Simple Retrieval", "confidence": 0.95}...'
2025-05-21 14:18:56,208 - __main__ - INFO - Query classified as 'Simple Retrieval' with confidence 0.95
2025-05-21 14:18:56,210 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-21 14:18:56,213 - __main__ - INFO - Querying SambaNova model Meta-Llama-3.3-70B-Instruct with text context and history...
2025-05-21 14:18:57,731 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 14:18:57,735 - __main__ - INFO - SambaNova response received. Length: 917
2025-05-21 14:18:57,736 - __main__ - INFO - --- SambaNova query finished. Source: Text RAG (SambaNova) --- Status: Completed Successfully ---
2025-05-21 14:19:23,898 - __main__ - INFO - Loaded configuration from config1.ini
2025-05-21 14:19:23,899 - __main__ - INFO - Added missing option 'data_dir = ./Data/' to section [PATHS] from defaults.
2025-05-21 14:19:23,899 - __main__ - INFO - Added missing option 'sqlite_db_path = :memory:' to section [PATHS] from defaults.
2025-05-21 14:19:23,899 - __main__ - INFO - Added missing option 'sambanova_model = Meta-Llama-3.3-70B-Instruct' to section [MODELS] from defaults.
2025-05-21 14:19:23,899 - __main__ - INFO - Added missing option 'sambanova_base_url = https://api.sambanova.ai/v1' to section [MODELS] from defaults.
2025-05-21 14:19:23,899 - __main__ - INFO - Added missing option 'top_p = 0.1' to section [PARAMETERS] from defaults.
2025-05-21 14:19:23,899 - __main__ - INFO - Added missing option 'max_chars_per_element = 1200' to section [PARAMETERS] from defaults.
2025-05-21 14:19:23,899 - __main__ - INFO - Added missing option 'pptx_merge_threshold_words = 50' to section [PARAMETERS] from defaults.
2025-05-21 14:19:23,899 - __main__ - INFO - Added missing option 'dataframe_query_confidence_threshold = 0.70' to section [PARAMETERS] from defaults.
2025-05-21 14:19:23,899 - __main__ - INFO - Added missing option 'max_chat_history_turns = 5' to section [PARAMETERS] from defaults.
2025-05-21 14:19:23,899 - __main__ - INFO - Added missing section [SUPPORTED_EXTENSIONS] from defaults.
2025-05-21 14:19:23,899 - __main__ - INFO - Added missing option 'extensions = .pdf, .xlsx, .csv, .pptx' to section [SUPPORTED_EXTENSIONS] from defaults.
2025-05-21 14:19:23,900 - __main__ - INFO - Added missing section [API_KEYS] from defaults.
2025-05-21 14:19:23,900 - __main__ - INFO - Added missing option 'sambanova_api_key_config = ' to section [API_KEYS] from defaults.
2025-05-21 14:19:23,910 - __main__ - INFO - Initializing RAG system (SambaNova Version). Device: cpu, Supported files: ('.pdf', '.xlsx', '.csv', '.pptx')
2025-05-21 14:19:23,913 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-05-21 14:19:23,914 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-05-21 14:19:27,130 - __main__ - INFO - Local embedding model loaded successfully
2025-05-21 14:19:27,132 - __main__ - INFO - Connected to SQLite database at ':memory:'
2025-05-21 14:19:32,538 - __main__ - INFO - Clearing existing tables from in-memory database...
2025-05-21 14:19:32,540 - __main__ - INFO - Dropped 0 tables.
2025-05-21 14:19:32,541 - __main__ - INFO - Processing 17 supported files from ./Data/
2025-05-21 14:19:32,542 - __main__ - INFO - --- Processing (1/17): BASF Technical proposal (2).pdf ---
2025-05-21 14:19:32,546 - __main__ - INFO - Loaded 55 text chunks from ./Faiss_index/BASF_Technical_proposal__2_.json
2025-05-21 14:19:32,549 - __main__ - INFO - Loaded FAISS index for BASF Technical proposal (2).pdf (55 vectors)
2025-05-21 14:19:32,549 - __main__ - INFO - Verified existing text index for BASF Technical proposal (2).pdf
2025-05-21 14:19:32,549 - __main__ - INFO - --- Processing (2/17): Chola MS Sparta Maps proposal_V1.pdf ---
2025-05-21 14:19:32,553 - __main__ - INFO - Loaded 23 text chunks from ./Faiss_index/Chola_MS_Sparta_Maps_proposal_V1.json
2025-05-21 14:19:32,555 - __main__ - INFO - Loaded FAISS index for Chola MS Sparta Maps proposal_V1.pdf (23 vectors)
2025-05-21 14:19:32,555 - __main__ - INFO - Verified existing text index for Chola MS Sparta Maps proposal_V1.pdf
2025-05-21 14:19:32,555 - __main__ - INFO - --- Processing (3/17): Gebana_EUDR_SatSure.pdf ---
2025-05-21 14:19:32,558 - __main__ - INFO - Loaded 31 text chunks from ./Faiss_index/Gebana_EUDR_SatSure.json
2025-05-21 14:19:32,559 - __main__ - INFO - Loaded FAISS index for Gebana_EUDR_SatSure.pdf (31 vectors)
2025-05-21 14:19:32,559 - __main__ - INFO - Verified existing text index for Gebana_EUDR_SatSure.pdf
2025-05-21 14:19:32,559 - __main__ - INFO - --- Processing (4/17): ITC paperboard Proposal.pdf ---
2025-05-21 14:19:32,561 - __main__ - INFO - Loaded 45 text chunks from ./Faiss_index/ITC_paperboard_Proposal.json
2025-05-21 14:19:32,562 - __main__ - INFO - Loaded FAISS index for ITC paperboard Proposal.pdf (45 vectors)
2025-05-21 14:19:32,563 - __main__ - INFO - Verified existing text index for ITC paperboard Proposal.pdf
2025-05-21 14:19:32,563 - __main__ - INFO - --- Processing (5/17): JB boda_SatSure.pdf ---
2025-05-21 14:19:32,566 - __main__ - INFO - Loaded 17 text chunks from ./Faiss_index/JB_boda_SatSure.json
2025-05-21 14:19:32,567 - __main__ - INFO - Loaded FAISS index for JB boda_SatSure.pdf (17 vectors)
2025-05-21 14:19:32,567 - __main__ - INFO - Verified existing text index for JB boda_SatSure.pdf
2025-05-21 14:19:32,567 - __main__ - INFO - --- Processing (6/17): JICA_Proposal_SatSure.pdf ---
2025-05-21 14:19:32,569 - __main__ - INFO - Loaded 38 text chunks from ./Faiss_index/JICA_Proposal_SatSure.json
2025-05-21 14:19:32,571 - __main__ - INFO - Loaded FAISS index for JICA_Proposal_SatSure.pdf (38 vectors)
2025-05-21 14:19:32,571 - __main__ - INFO - Verified existing text index for JICA_Proposal_SatSure.pdf
2025-05-21 14:19:32,571 - __main__ - INFO - --- Processing (7/17): Market Potential and demand estimation usecase.docx.pdf ---
2025-05-21 14:19:32,572 - __main__ - INFO - Loaded 10 text chunks from ./Faiss_index/Market_Potential_and_demand_estimation_usecase.docx.json
2025-05-21 14:19:32,573 - __main__ - INFO - Loaded FAISS index for Market Potential and demand estimation usecase.docx.pdf (10 vectors)
2025-05-21 14:19:32,574 - __main__ - INFO - Verified existing text index for Market Potential and demand estimation usecase.docx.pdf
2025-05-21 14:19:32,574 - __main__ - INFO - --- Processing (8/17): Munichre_Satsure.pdf ---
2025-05-21 14:19:32,577 - __main__ - INFO - Loaded 46 text chunks from ./Faiss_index/Munichre_Satsure.json
2025-05-21 14:19:32,578 - __main__ - INFO - Loaded FAISS index for Munichre_Satsure.pdf (46 vectors)
2025-05-21 14:19:32,578 - __main__ - INFO - Verified existing text index for Munichre_Satsure.pdf
2025-05-21 14:19:32,578 - __main__ - INFO - --- Processing (9/17): Punjab Proposal_SatSure.pdf ---
2025-05-21 14:19:32,580 - __main__ - INFO - Loaded 21 text chunks from ./Faiss_index/Punjab_Proposal_SatSure.json
2025-05-21 14:19:32,581 - __main__ - INFO - Loaded FAISS index for Punjab Proposal_SatSure.pdf (21 vectors)
2025-05-21 14:19:32,581 - __main__ - INFO - Verified existing text index for Punjab Proposal_SatSure.pdf
2025-05-21 14:19:32,582 - __main__ - INFO - --- Processing (10/17): Raizen (1).pdf ---
2025-05-21 14:19:32,584 - __main__ - INFO - Loaded 58 text chunks from ./Faiss_index/Raizen__1_.json
2025-05-21 14:19:32,585 - __main__ - INFO - Loaded FAISS index for Raizen (1).pdf (58 vectors)
2025-05-21 14:19:32,586 - __main__ - INFO - Verified existing text index for Raizen (1).pdf
2025-05-21 14:19:32,586 - __main__ - INFO - --- Processing (11/17): SS Alliance-Roadmap for Africa expansion_SatSure (1).pdf ---
2025-05-21 14:19:32,588 - __main__ - INFO - Loaded 43 text chunks from ./Faiss_index/SS_Alliance-Roadmap_for_Africa_expansion_SatSure__1_.json
2025-05-21 14:19:32,591 - __main__ - INFO - Loaded FAISS index for SS Alliance-Roadmap for Africa expansion_SatSure (1).pdf (43 vectors)
2025-05-21 14:19:32,592 - __main__ - INFO - Verified existing text index for SS Alliance-Roadmap for Africa expansion_SatSure (1).pdf
2025-05-21 14:19:32,592 - __main__ - INFO - --- Processing (12/17): SatSure Forest Stack - Andhra Pradesh (Oct 2024).pptx ---
2025-05-21 14:19:32,594 - __main__ - INFO - Loaded 33 text chunks from ./Faiss_index/SatSure_Forest_Stack_-_Andhra_Pradesh__Oct_2024_.json
2025-05-21 14:19:32,595 - __main__ - INFO - Loaded FAISS index for SatSure Forest Stack - Andhra Pradesh (Oct 2024).pptx (33 vectors)
2025-05-21 14:19:32,596 - __main__ - INFO - Verified existing text index for SatSure Forest Stack - Andhra Pradesh (Oct 2024).pptx
2025-05-21 14:19:32,596 - __main__ - INFO - --- Processing (13/17): SatSure_Sugarcane (1).pdf ---
2025-05-21 14:19:32,599 - __main__ - INFO - Loaded 70 text chunks from ./Faiss_index/SatSure_Sugarcane__1_.json
2025-05-21 14:19:32,601 - __main__ - INFO - Loaded FAISS index for SatSure_Sugarcane (1).pdf (70 vectors)
2025-05-21 14:19:32,602 - __main__ - INFO - Verified existing text index for SatSure_Sugarcane (1).pdf
2025-05-21 14:19:32,602 - __main__ - INFO - --- Processing (14/17): Satsure_IFAD_Proposal.pdf ---
2025-05-21 14:19:32,604 - __main__ - INFO - Loaded 84 text chunks from ./Faiss_index/Satsure_IFAD_Proposal.json
2025-05-21 14:19:32,605 - __main__ - INFO - Loaded FAISS index for Satsure_IFAD_Proposal.pdf (84 vectors)
2025-05-21 14:19:32,606 - __main__ - INFO - Verified existing text index for Satsure_IFAD_Proposal.pdf
2025-05-21 14:19:32,606 - __main__ - INFO - --- Processing (15/17): Smart_Farming_Crop_Yield_2024.csv ---
2025-05-21 14:19:32,607 - __main__ - INFO - Processing CSV: Smart_Farming_Crop_Yield_2024.csv
2025-05-21 14:19:32,625 - __main__ - INFO - Read CSV Smart_Farming_Crop_Yield_2024.csv using encoding: utf-8. (Rows: 500, Cols: 22)
2025-05-21 14:19:32,733 - __main__ - INFO - SambaNova OpenAI client initialized (Model: Meta-Llama-3.3-70B-Instruct, Base URL: https://api.sambanova.ai/v1)
2025-05-21 14:19:32,741 - __main__ - INFO - Requesting column metadata from SambaNova for Smart_Farming_Crop_Yield_2024.csv...
2025-05-21 14:19:35,696 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 14:19:35,705 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 87 (char 88). Raw response: {
  "farm_id": { "description": "Unique identifier for each farm.", "sql_type": "TEXT" },
  "region": { "description": "Geographical region where the farm is located.", "sql_type": "TEXT" },
  "crop_type": { "description": "Type of crop being cultivated.", "sql_type": "TEXT" },
  "soil_moisture": { "description": "Soil moisture level measured in percentage.", "sql_type": "REAL" },
  "soil_pH": { "description": "Soil pH level, a measure of its acidity or alkalinity.", "sql_type": "REAL" },
  "temperature_C": { "description": "Temperature in degrees Celsius.", "sql_type": "REAL" },
  "rainfall_mm": { "description": "Amount of rainfall measured in millimeters.", "sql_type": "REAL" },
  "humidity": { "description": "Relative humidity level measured in percentage.", "sql_type": "REAL" },
  "sunlight_hours": { "description": "Number of hours of sunlight per day.", "sql_type": "REAL" },
  "irrigation_type": { "description": "Method or system used for irrigation.", "sql_type": "TEXT" },
  "fertilizer_type": { "description": "Type of fertilizer used.", "sql_type": "TEXT" },
  "pesticide_usage_ml": { "description": "Amount of pesticide used measured in milliliters.", "sql_type": "REAL" },
  "sowing_date": { "description": "Date when the crop was sown.", "sql_type": "TEXT" },
  "harvest_date": { "description": "Date when the crop was harvested.", "sql_type": "TEXT" },
  "total_days": { "description": "Total number of days from sowing to harvest.", "sql_type": "INTEGER" },
  "yield_kg_per_hectare": { "description": "Crop yield measured in kilograms per hectare.", "sql_type": "REAL" },
  "sensor_id": { "description": "Unique identifier for the sensor used.", "sql_type": "TEXT" },
  "timestamp": { "description": "Timestamp for when the data was recorded or updated.", "sql_type": "TEXT" },
  "latitude": { "description": "Geographical latitude of the farm location.", "sql_type": "REAL" },
  "longitude": { "description": "Geographical longitude of the farm location.", "sql_type": "REAL" },
  "NDVI_index": { "description": "Normalized Difference Vegetation Index, a measure of vegetation health.", "sql_type": "REAL" },
  "crop_disease_status": { "description": "Status or severity of disease affecting the crop.", "sql_type": "TEXT" }
}
2025-05-21 14:19:35,706 - __main__ - WARNING - Failed to get column metadata for CSV via SambaNova. Proceeding without descriptions.
2025-05-21 14:19:35,750 - __main__ - INFO - Loading DataFrame into SQL table 'smart_farming_crop_yield_2024'...
2025-05-21 14:19:35,791 - __main__ - INFO - DataFrame loaded into table 'smart_farming_crop_yield_2024' (500 rows).
2025-05-21 14:19:35,792 - __main__ - INFO - Successfully loaded CSV Smart_Farming_Crop_Yield_2024.csv into SQL table 'smart_farming_crop_yield_2024'
2025-05-21 14:19:35,792 - __main__ - INFO - --- Processing (16/17): Villgro_SatSure.pdf ---
2025-05-21 14:19:35,794 - __main__ - INFO - Loaded 31 text chunks from ./Faiss_index/Villgro_SatSure.json
2025-05-21 14:19:35,796 - __main__ - INFO - Loaded FAISS index for Villgro_SatSure.pdf (31 vectors)
2025-05-21 14:19:35,796 - __main__ - INFO - Verified existing text index for Villgro_SatSure.pdf
2025-05-21 14:19:35,796 - __main__ - INFO - --- Processing (17/17): Yara_ SatSure.pdf ---
2025-05-21 14:19:35,798 - __main__ - INFO - Loaded 25 text chunks from ./Faiss_index/Yara__SatSure.json
2025-05-21 14:19:35,799 - __main__ - INFO - Loaded FAISS index for Yara_ SatSure.pdf (25 vectors)
2025-05-21 14:19:35,799 - __main__ - INFO - Verified existing text index for Yara_ SatSure.pdf
2025-05-21 14:19:35,799 - __main__ - INFO - --- Processing Complete. Processed 17 files. ---
2025-05-21 14:19:42,410 - __main__ - INFO - --- Starting SambaNova query: 'What are we delivering to MunichRE...' ---
2025-05-21 14:19:42,483 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-21 14:19:44,101 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 14:19:44,105 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Simple Retrieval", "confidence": 0.95}...'
2025-05-21 14:19:44,106 - __main__ - INFO - Query classified as 'Simple Retrieval' with confidence 0.95
2025-05-21 14:19:44,107 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-21 14:19:44,109 - __main__ - INFO - Querying SambaNova model Meta-Llama-3.3-70B-Instruct with text context and history...
2025-05-21 14:19:45,649 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 14:19:45,653 - __main__ - INFO - SambaNova response received. Length: 917
2025-05-21 14:19:45,655 - __main__ - INFO - --- SambaNova query finished. Source: Text RAG (SambaNova) --- Status: Completed Successfully ---
2025-05-21 14:19:54,462 - __main__ - INFO - --- Starting SambaNova query: 'Give me a detailed answer...' ---
2025-05-21 14:19:54,462 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query refinement...
2025-05-21 14:19:56,110 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 14:19:56,114 - __main__ - INFO - SambaNova response for query refinement: 'Provide a detailed explanation of the delivery to MunichRE, including the specific components, features, and benefits of the Sparta platform, as well ...'
2025-05-21 14:19:56,114 - __main__ - INFO - Query refined by SambaNova to: 'Provide a detailed explanation of the delivery to MunichRE, including the specific components, featu...'
2025-05-21 14:19:56,187 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-21 14:19:57,204 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 14:19:57,207 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Complex/Reasoning (Text)", "confidence": 0.92}...'
2025-05-21 14:19:57,208 - __main__ - INFO - Query classified as 'Complex/Reasoning (Text)' with confidence 0.92
2025-05-21 14:19:57,209 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-21 14:19:57,212 - __main__ - INFO - Querying SambaNova model Meta-Llama-3.3-70B-Instruct with text context and history...
2025-05-21 14:19:59,595 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 14:19:59,600 - __main__ - INFO - SambaNova response received. Length: 2795
2025-05-21 14:19:59,602 - __main__ - INFO - --- SambaNova query finished. Source: Text RAG (SambaNova) --- Status: Completed Successfully ---
2025-05-21 18:37:32,952 - __main__ - INFO - Loaded configuration from config1.ini
2025-05-21 18:37:32,952 - __main__ - INFO - Added missing option 'data_dir = ./Data/' to section [PATHS] from defaults.
2025-05-21 18:37:32,952 - __main__ - INFO - Added missing option 'sqlite_db_path = :memory:' to section [PATHS] from defaults.
2025-05-21 18:37:32,953 - __main__ - INFO - Added missing option 'sambanova_model = Meta-Llama-3.3-70B-Instruct' to section [MODELS] from defaults.
2025-05-21 18:37:32,953 - __main__ - INFO - Added missing option 'sambanova_base_url = https://api.sambanova.ai/v1' to section [MODELS] from defaults.
2025-05-21 18:37:32,953 - __main__ - INFO - Added missing option 'top_p = 0.1' to section [PARAMETERS] from defaults.
2025-05-21 18:37:32,953 - __main__ - INFO - Added missing option 'max_chars_per_element = 1200' to section [PARAMETERS] from defaults.
2025-05-21 18:37:32,953 - __main__ - INFO - Added missing option 'pptx_merge_threshold_words = 50' to section [PARAMETERS] from defaults.
2025-05-21 18:37:32,953 - __main__ - INFO - Added missing option 'dataframe_query_confidence_threshold = 0.70' to section [PARAMETERS] from defaults.
2025-05-21 18:37:32,953 - __main__ - INFO - Added missing option 'max_chat_history_turns = 5' to section [PARAMETERS] from defaults.
2025-05-21 18:37:32,953 - __main__ - INFO - Added missing section [SUPPORTED_EXTENSIONS] from defaults.
2025-05-21 18:37:32,953 - __main__ - INFO - Added missing option 'extensions = .pdf, .xlsx, .csv, .pptx' to section [SUPPORTED_EXTENSIONS] from defaults.
2025-05-21 18:37:32,953 - __main__ - INFO - Added missing section [API_KEYS] from defaults.
2025-05-21 18:37:32,953 - __main__ - INFO - Added missing option 'sambanova_api_key_config = ' to section [API_KEYS] from defaults.
2025-05-21 18:37:32,962 - __main__ - INFO - Initializing RAG system (SambaNova Version). Device: cuda, Supported files: ('.pdf', '.xlsx', '.csv', '.pptx')
2025-05-21 18:37:32,965 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda
2025-05-21 18:37:32,965 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-05-21 18:37:37,440 - __main__ - INFO - Local embedding model loaded successfully
2025-05-21 18:37:37,441 - __main__ - INFO - Connected to SQLite database at ':memory:'
2025-05-21 18:37:41,717 - __main__ - INFO - Clearing existing tables from in-memory database...
2025-05-21 18:37:41,718 - __main__ - INFO - Dropped 0 tables.
2025-05-21 18:37:41,721 - __main__ - INFO - Processing 17 supported files from ./Data/
2025-05-21 18:37:41,722 - __main__ - INFO - --- Processing (1/17): BASF Technical proposal (2).pdf ---
2025-05-21 18:37:41,733 - __main__ - INFO - Loaded 55 text chunks from ./Faiss_index/BASF_Technical_proposal__2_.json
2025-05-21 18:37:41,740 - __main__ - INFO - Loaded FAISS index for BASF Technical proposal (2).pdf (55 vectors)
2025-05-21 18:37:41,740 - __main__ - INFO - Verified existing text index for BASF Technical proposal (2).pdf
2025-05-21 18:37:41,741 - __main__ - INFO - --- Processing (2/17): Chola MS Sparta Maps proposal_V1.pdf ---
2025-05-21 18:37:41,744 - __main__ - INFO - Loaded 23 text chunks from ./Faiss_index/Chola_MS_Sparta_Maps_proposal_V1.json
2025-05-21 18:37:41,746 - __main__ - INFO - Loaded FAISS index for Chola MS Sparta Maps proposal_V1.pdf (23 vectors)
2025-05-21 18:37:41,746 - __main__ - INFO - Verified existing text index for Chola MS Sparta Maps proposal_V1.pdf
2025-05-21 18:37:41,746 - __main__ - INFO - --- Processing (3/17): Gebana_EUDR_SatSure.pdf ---
2025-05-21 18:37:41,748 - __main__ - INFO - Loaded 31 text chunks from ./Faiss_index/Gebana_EUDR_SatSure.json
2025-05-21 18:37:41,751 - __main__ - INFO - Loaded FAISS index for Gebana_EUDR_SatSure.pdf (31 vectors)
2025-05-21 18:37:41,751 - __main__ - INFO - Verified existing text index for Gebana_EUDR_SatSure.pdf
2025-05-21 18:37:41,751 - __main__ - INFO - --- Processing (4/17): ITC paperboard Proposal.pdf ---
2025-05-21 18:37:41,753 - __main__ - INFO - Loaded 45 text chunks from ./Faiss_index/ITC_paperboard_Proposal.json
2025-05-21 18:37:41,756 - __main__ - INFO - Loaded FAISS index for ITC paperboard Proposal.pdf (45 vectors)
2025-05-21 18:37:41,756 - __main__ - INFO - Verified existing text index for ITC paperboard Proposal.pdf
2025-05-21 18:37:41,757 - __main__ - INFO - --- Processing (5/17): JB boda_SatSure.pdf ---
2025-05-21 18:37:41,759 - __main__ - INFO - Loaded 17 text chunks from ./Faiss_index/JB_boda_SatSure.json
2025-05-21 18:37:41,761 - __main__ - INFO - Loaded FAISS index for JB boda_SatSure.pdf (17 vectors)
2025-05-21 18:37:41,761 - __main__ - INFO - Verified existing text index for JB boda_SatSure.pdf
2025-05-21 18:37:41,761 - __main__ - INFO - --- Processing (6/17): JICA_Proposal_SatSure.pdf ---
2025-05-21 18:37:41,764 - __main__ - INFO - Loaded 38 text chunks from ./Faiss_index/JICA_Proposal_SatSure.json
2025-05-21 18:37:41,766 - __main__ - INFO - Loaded FAISS index for JICA_Proposal_SatSure.pdf (38 vectors)
2025-05-21 18:37:41,767 - __main__ - INFO - Verified existing text index for JICA_Proposal_SatSure.pdf
2025-05-21 18:37:41,767 - __main__ - INFO - --- Processing (7/17): Market Potential and demand estimation usecase.docx.pdf ---
2025-05-21 18:37:41,768 - __main__ - INFO - Loaded 10 text chunks from ./Faiss_index/Market_Potential_and_demand_estimation_usecase.docx.json
2025-05-21 18:37:41,770 - __main__ - INFO - Loaded FAISS index for Market Potential and demand estimation usecase.docx.pdf (10 vectors)
2025-05-21 18:37:41,770 - __main__ - INFO - Verified existing text index for Market Potential and demand estimation usecase.docx.pdf
2025-05-21 18:37:41,770 - __main__ - INFO - --- Processing (8/17): Munichre_Satsure.pdf ---
2025-05-21 18:37:41,772 - __main__ - INFO - Loaded 46 text chunks from ./Faiss_index/Munichre_Satsure.json
2025-05-21 18:37:41,775 - __main__ - INFO - Loaded FAISS index for Munichre_Satsure.pdf (46 vectors)
2025-05-21 18:37:41,775 - __main__ - INFO - Verified existing text index for Munichre_Satsure.pdf
2025-05-21 18:37:41,775 - __main__ - INFO - --- Processing (9/17): Punjab Proposal_SatSure.pdf ---
2025-05-21 18:37:41,777 - __main__ - INFO - Loaded 21 text chunks from ./Faiss_index/Punjab_Proposal_SatSure.json
2025-05-21 18:37:41,779 - __main__ - INFO - Loaded FAISS index for Punjab Proposal_SatSure.pdf (21 vectors)
2025-05-21 18:37:41,780 - __main__ - INFO - Verified existing text index for Punjab Proposal_SatSure.pdf
2025-05-21 18:37:41,780 - __main__ - INFO - --- Processing (10/17): Raizen (1).pdf ---
2025-05-21 18:37:41,782 - __main__ - INFO - Loaded 58 text chunks from ./Faiss_index/Raizen__1_.json
2025-05-21 18:37:41,784 - __main__ - INFO - Loaded FAISS index for Raizen (1).pdf (58 vectors)
2025-05-21 18:37:41,785 - __main__ - INFO - Verified existing text index for Raizen (1).pdf
2025-05-21 18:37:41,785 - __main__ - INFO - --- Processing (11/17): SS Alliance-Roadmap for Africa expansion_SatSure (1).pdf ---
2025-05-21 18:37:41,787 - __main__ - INFO - Loaded 43 text chunks from ./Faiss_index/SS_Alliance-Roadmap_for_Africa_expansion_SatSure__1_.json
2025-05-21 18:37:41,789 - __main__ - INFO - Loaded FAISS index for SS Alliance-Roadmap for Africa expansion_SatSure (1).pdf (43 vectors)
2025-05-21 18:37:41,790 - __main__ - INFO - Verified existing text index for SS Alliance-Roadmap for Africa expansion_SatSure (1).pdf
2025-05-21 18:37:41,790 - __main__ - INFO - --- Processing (12/17): SatSure Forest Stack - Andhra Pradesh (Oct 2024).pptx ---
2025-05-21 18:37:41,791 - __main__ - INFO - Loaded 33 text chunks from ./Faiss_index/SatSure_Forest_Stack_-_Andhra_Pradesh__Oct_2024_.json
2025-05-21 18:37:41,794 - __main__ - INFO - Loaded FAISS index for SatSure Forest Stack - Andhra Pradesh (Oct 2024).pptx (33 vectors)
2025-05-21 18:37:41,794 - __main__ - INFO - Verified existing text index for SatSure Forest Stack - Andhra Pradesh (Oct 2024).pptx
2025-05-21 18:37:41,794 - __main__ - INFO - --- Processing (13/17): SatSure_Sugarcane (1).pdf ---
2025-05-21 18:37:41,796 - __main__ - INFO - Loaded 70 text chunks from ./Faiss_index/SatSure_Sugarcane__1_.json
2025-05-21 18:37:41,799 - __main__ - INFO - Loaded FAISS index for SatSure_Sugarcane (1).pdf (70 vectors)
2025-05-21 18:37:41,799 - __main__ - INFO - Verified existing text index for SatSure_Sugarcane (1).pdf
2025-05-21 18:37:41,799 - __main__ - INFO - --- Processing (14/17): Satsure_IFAD_Proposal.pdf ---
2025-05-21 18:37:41,802 - __main__ - INFO - Loaded 84 text chunks from ./Faiss_index/Satsure_IFAD_Proposal.json
2025-05-21 18:37:41,805 - __main__ - INFO - Loaded FAISS index for Satsure_IFAD_Proposal.pdf (84 vectors)
2025-05-21 18:37:41,805 - __main__ - INFO - Verified existing text index for Satsure_IFAD_Proposal.pdf
2025-05-21 18:37:41,805 - __main__ - INFO - --- Processing (15/17): Smart_Farming_Crop_Yield_2024.csv ---
2025-05-21 18:37:41,806 - __main__ - INFO - Processing CSV: Smart_Farming_Crop_Yield_2024.csv
2025-05-21 18:37:41,828 - __main__ - INFO - Read CSV Smart_Farming_Crop_Yield_2024.csv using encoding: utf-8. (Rows: 500, Cols: 22)
2025-05-21 18:37:41,901 - __main__ - INFO - SambaNova OpenAI client initialized (Model: Meta-Llama-3.3-70B-Instruct, Base URL: https://api.sambanova.ai/v1)
2025-05-21 18:37:41,907 - __main__ - INFO - Requesting column metadata from SambaNova for Smart_Farming_Crop_Yield_2024.csv...
2025-05-21 18:37:45,171 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:37:45,179 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 87 (char 88). Raw response: {
  "farm_id": { "description": "Unique identifier for each farm.", "sql_type": "TEXT" },
  "region": { "description": "Geographical region where the farm is located.", "sql_type": "TEXT" },
  "crop_type": { "description": "Type of crop being cultivated.", "sql_type": "TEXT" },
  "soil_moisture": { "description": "Soil moisture level measured in percentage.", "sql_type": "REAL" },
  "soil_pH": { "description": "Soil pH level, a measure of its acidity or alkalinity.", "sql_type": "REAL" },
  "temperature_C": { "description": "Temperature in degrees Celsius.", "sql_type": "REAL" },
  "rainfall_mm": { "description": "Amount of rainfall measured in millimeters.", "sql_type": "REAL" },
  "humidity": { "description": "Relative humidity level measured in percentage.", "sql_type": "REAL" },
  "sunlight_hours": { "description": "Number of hours of sunlight per day.", "sql_type": "REAL" },
  "irrigation_type": { "description": "Method or system used for irrigation.", "sql_type": "TEXT" },
  "fertilizer_type": { "description": "Type of fertilizer used.", "sql_type": "TEXT" },
  "pesticide_usage_ml": { "description": "Amount of pesticide used measured in milliliters.", "sql_type": "REAL" },
  "sowing_date": { "description": "Date when the crop was sown.", "sql_type": "TEXT" },
  "harvest_date": { "description": "Date when the crop was harvested.", "sql_type": "TEXT" },
  "total_days": { "description": "Total number of days from sowing to harvest.", "sql_type": "INTEGER" },
  "yield_kg_per_hectare": { "description": "Crop yield measured in kilograms per hectare.", "sql_type": "REAL" },
  "sensor_id": { "description": "Unique identifier for the sensor used.", "sql_type": "TEXT" },
  "timestamp": { "description": "Timestamp for when the data was recorded or updated.", "sql_type": "TEXT" },
  "latitude": { "description": "Geographical latitude of the farm location.", "sql_type": "REAL" },
  "longitude": { "description": "Geographical longitude of the farm location.", "sql_type": "REAL" },
  "NDVI_index": { "description": "Normalized Difference Vegetation Index, a measure of vegetation health.", "sql_type": "REAL" },
  "crop_disease_status": { "description": "Status or severity of disease affecting the crop.", "sql_type": "TEXT" }
}
2025-05-21 18:37:45,179 - __main__ - WARNING - Failed to get column metadata for CSV via SambaNova. Proceeding without descriptions.
2025-05-21 18:37:45,224 - __main__ - INFO - Loading DataFrame into SQL table 'smart_farming_crop_yield_2024'...
2025-05-21 18:37:45,260 - __main__ - INFO - DataFrame loaded into table 'smart_farming_crop_yield_2024' (500 rows).
2025-05-21 18:37:45,260 - __main__ - INFO - Successfully loaded CSV Smart_Farming_Crop_Yield_2024.csv into SQL table 'smart_farming_crop_yield_2024'
2025-05-21 18:37:45,260 - __main__ - INFO - --- Processing (16/17): Villgro_SatSure.pdf ---
2025-05-21 18:37:45,263 - __main__ - INFO - Loaded 31 text chunks from ./Faiss_index/Villgro_SatSure.json
2025-05-21 18:37:45,265 - __main__ - INFO - Loaded FAISS index for Villgro_SatSure.pdf (31 vectors)
2025-05-21 18:37:45,265 - __main__ - INFO - Verified existing text index for Villgro_SatSure.pdf
2025-05-21 18:37:45,265 - __main__ - INFO - --- Processing (17/17): Yara_ SatSure.pdf ---
2025-05-21 18:37:45,267 - __main__ - INFO - Loaded 25 text chunks from ./Faiss_index/Yara__SatSure.json
2025-05-21 18:37:45,269 - __main__ - INFO - Loaded FAISS index for Yara_ SatSure.pdf (25 vectors)
2025-05-21 18:37:45,269 - __main__ - INFO - Verified existing text index for Yara_ SatSure.pdf
2025-05-21 18:37:45,269 - __main__ - INFO - --- Processing Complete. Processed 17 files. ---
2025-05-21 18:39:11,341 - __main__ - INFO - --- Starting SambaNova query: 'What does SatSure do in agriculture?...' ---
2025-05-21 18:39:11,832 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-21 18:39:13,540 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:39:13,541 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Simple Retrieval", "confidence": 0.95}...'
2025-05-21 18:39:13,541 - __main__ - INFO - Query classified as 'Simple Retrieval' with confidence 0.95
2025-05-21 18:39:13,542 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-21 18:39:13,542 - __main__ - INFO - Querying SambaNova model Meta-Llama-3.3-70B-Instruct with text context and history...
2025-05-21 18:39:14,969 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:39:14,970 - __main__ - INFO - SambaNova response received. Length: 660
2025-05-21 18:39:14,970 - __main__ - INFO - --- SambaNova query finished. Source: Text RAG (SambaNova) --- Status: Completed Successfully ---
2025-05-21 18:39:39,222 - __main__ - INFO - --- Starting SambaNova query: 'Give me a detailed answer with examples...' ---
2025-05-21 18:39:39,223 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query refinement...
2025-05-21 18:39:40,978 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:39:40,981 - __main__ - INFO - SambaNova response for query refinement: 'Provide a detailed explanation of SatSure's role in agriculture, including specific examples of their solutions such as crop classification, yield pre...'
2025-05-21 18:39:40,981 - __main__ - INFO - Query refined by SambaNova to: 'Provide a detailed explanation of SatSure's role in agriculture, including specific examples of thei...'
2025-05-21 18:39:41,031 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-21 18:39:42,040 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:39:42,045 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Complex/Reasoning (Text)", "confidence": 0.92}...'
2025-05-21 18:39:42,045 - __main__ - INFO - Query classified as 'Complex/Reasoning (Text)' with confidence 0.92
2025-05-21 18:39:42,046 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-21 18:39:42,049 - __main__ - INFO - Querying SambaNova model Meta-Llama-3.3-70B-Instruct with text context and history...
2025-05-21 18:39:43,846 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:39:43,848 - __main__ - INFO - SambaNova response received. Length: 1381
2025-05-21 18:39:43,849 - __main__ - INFO - --- SambaNova query finished. Source: Text RAG (SambaNova) --- Status: Completed Successfully ---
2025-05-21 18:40:29,886 - __main__ - INFO - Loaded configuration from config1.ini
2025-05-21 18:40:29,886 - __main__ - INFO - Added missing option 'data_dir = ./Data/' to section [PATHS] from defaults.
2025-05-21 18:40:29,886 - __main__ - INFO - Added missing option 'sqlite_db_path = :memory:' to section [PATHS] from defaults.
2025-05-21 18:40:29,886 - __main__ - INFO - Added missing option 'sambanova_model = Meta-Llama-3.3-70B-Instruct' to section [MODELS] from defaults.
2025-05-21 18:40:29,886 - __main__ - INFO - Added missing option 'sambanova_base_url = https://api.sambanova.ai/v1' to section [MODELS] from defaults.
2025-05-21 18:40:29,886 - __main__ - INFO - Added missing option 'top_p = 0.1' to section [PARAMETERS] from defaults.
2025-05-21 18:40:29,886 - __main__ - INFO - Added missing option 'max_chars_per_element = 1200' to section [PARAMETERS] from defaults.
2025-05-21 18:40:29,886 - __main__ - INFO - Added missing option 'pptx_merge_threshold_words = 50' to section [PARAMETERS] from defaults.
2025-05-21 18:40:29,886 - __main__ - INFO - Added missing option 'dataframe_query_confidence_threshold = 0.70' to section [PARAMETERS] from defaults.
2025-05-21 18:40:29,886 - __main__ - INFO - Added missing option 'max_chat_history_turns = 5' to section [PARAMETERS] from defaults.
2025-05-21 18:40:29,886 - __main__ - INFO - Added missing section [SUPPORTED_EXTENSIONS] from defaults.
2025-05-21 18:40:29,886 - __main__ - INFO - Added missing option 'extensions = .pdf, .xlsx, .csv, .pptx' to section [SUPPORTED_EXTENSIONS] from defaults.
2025-05-21 18:40:29,886 - __main__ - INFO - Added missing section [API_KEYS] from defaults.
2025-05-21 18:40:29,886 - __main__ - INFO - Added missing option 'sambanova_api_key_config = ' to section [API_KEYS] from defaults.
2025-05-21 18:40:29,895 - __main__ - INFO - Initializing RAG system (SambaNova Version). Device: cuda, Supported files: ('.pdf', '.xlsx', '.csv', '.pptx')
2025-05-21 18:40:29,898 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda
2025-05-21 18:40:29,898 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-05-21 18:40:33,945 - __main__ - INFO - Local embedding model loaded successfully
2025-05-21 18:40:33,945 - __main__ - INFO - Connected to SQLite database at ':memory:'
2025-05-21 18:40:36,987 - __main__ - INFO - Clearing existing tables from in-memory database...
2025-05-21 18:40:36,990 - __main__ - INFO - Dropped 0 tables.
2025-05-21 18:40:36,991 - __main__ - INFO - Processing 17 supported files from ./Data/
2025-05-21 18:40:36,992 - __main__ - INFO - --- Processing (1/17): BASF Technical proposal (2).pdf ---
2025-05-21 18:40:36,994 - __main__ - INFO - Loaded 55 text chunks from ./Faiss_index/BASF_Technical_proposal__2_.json
2025-05-21 18:40:36,996 - __main__ - INFO - Loaded FAISS index for BASF Technical proposal (2).pdf (55 vectors)
2025-05-21 18:40:36,996 - __main__ - INFO - Verified existing text index for BASF Technical proposal (2).pdf
2025-05-21 18:40:36,996 - __main__ - INFO - --- Processing (2/17): Chola MS Sparta Maps proposal_V1.pdf ---
2025-05-21 18:40:36,998 - __main__ - INFO - Loaded 23 text chunks from ./Faiss_index/Chola_MS_Sparta_Maps_proposal_V1.json
2025-05-21 18:40:37,000 - __main__ - INFO - Loaded FAISS index for Chola MS Sparta Maps proposal_V1.pdf (23 vectors)
2025-05-21 18:40:37,000 - __main__ - INFO - Verified existing text index for Chola MS Sparta Maps proposal_V1.pdf
2025-05-21 18:40:37,000 - __main__ - INFO - --- Processing (3/17): Gebana_EUDR_SatSure.pdf ---
2025-05-21 18:40:37,002 - __main__ - INFO - Loaded 31 text chunks from ./Faiss_index/Gebana_EUDR_SatSure.json
2025-05-21 18:40:37,003 - __main__ - INFO - Loaded FAISS index for Gebana_EUDR_SatSure.pdf (31 vectors)
2025-05-21 18:40:37,004 - __main__ - INFO - Verified existing text index for Gebana_EUDR_SatSure.pdf
2025-05-21 18:40:37,004 - __main__ - INFO - --- Processing (4/17): ITC paperboard Proposal.pdf ---
2025-05-21 18:40:37,005 - __main__ - INFO - Loaded 45 text chunks from ./Faiss_index/ITC_paperboard_Proposal.json
2025-05-21 18:40:37,007 - __main__ - INFO - Loaded FAISS index for ITC paperboard Proposal.pdf (45 vectors)
2025-05-21 18:40:37,008 - __main__ - INFO - Verified existing text index for ITC paperboard Proposal.pdf
2025-05-21 18:40:37,008 - __main__ - INFO - --- Processing (5/17): JB boda_SatSure.pdf ---
2025-05-21 18:40:37,009 - __main__ - INFO - Loaded 17 text chunks from ./Faiss_index/JB_boda_SatSure.json
2025-05-21 18:40:37,012 - __main__ - INFO - Loaded FAISS index for JB boda_SatSure.pdf (17 vectors)
2025-05-21 18:40:37,012 - __main__ - INFO - Verified existing text index for JB boda_SatSure.pdf
2025-05-21 18:40:37,012 - __main__ - INFO - --- Processing (6/17): JICA_Proposal_SatSure.pdf ---
2025-05-21 18:40:37,015 - __main__ - INFO - Loaded 38 text chunks from ./Faiss_index/JICA_Proposal_SatSure.json
2025-05-21 18:40:37,016 - __main__ - INFO - Loaded FAISS index for JICA_Proposal_SatSure.pdf (38 vectors)
2025-05-21 18:40:37,017 - __main__ - INFO - Verified existing text index for JICA_Proposal_SatSure.pdf
2025-05-21 18:40:37,017 - __main__ - INFO - --- Processing (7/17): Market Potential and demand estimation usecase.docx.pdf ---
2025-05-21 18:40:37,018 - __main__ - INFO - Loaded 10 text chunks from ./Faiss_index/Market_Potential_and_demand_estimation_usecase.docx.json
2025-05-21 18:40:37,019 - __main__ - INFO - Loaded FAISS index for Market Potential and demand estimation usecase.docx.pdf (10 vectors)
2025-05-21 18:40:37,020 - __main__ - INFO - Verified existing text index for Market Potential and demand estimation usecase.docx.pdf
2025-05-21 18:40:37,020 - __main__ - INFO - --- Processing (8/17): Munichre_Satsure.pdf ---
2025-05-21 18:40:37,022 - __main__ - INFO - Loaded 46 text chunks from ./Faiss_index/Munichre_Satsure.json
2025-05-21 18:40:37,023 - __main__ - INFO - Loaded FAISS index for Munichre_Satsure.pdf (46 vectors)
2025-05-21 18:40:37,023 - __main__ - INFO - Verified existing text index for Munichre_Satsure.pdf
2025-05-21 18:40:37,023 - __main__ - INFO - --- Processing (9/17): Punjab Proposal_SatSure.pdf ---
2025-05-21 18:40:37,025 - __main__ - INFO - Loaded 21 text chunks from ./Faiss_index/Punjab_Proposal_SatSure.json
2025-05-21 18:40:37,027 - __main__ - INFO - Loaded FAISS index for Punjab Proposal_SatSure.pdf (21 vectors)
2025-05-21 18:40:37,027 - __main__ - INFO - Verified existing text index for Punjab Proposal_SatSure.pdf
2025-05-21 18:40:37,027 - __main__ - INFO - --- Processing (10/17): Raizen (1).pdf ---
2025-05-21 18:40:37,029 - __main__ - INFO - Loaded 58 text chunks from ./Faiss_index/Raizen__1_.json
2025-05-21 18:40:37,030 - __main__ - INFO - Loaded FAISS index for Raizen (1).pdf (58 vectors)
2025-05-21 18:40:37,031 - __main__ - INFO - Verified existing text index for Raizen (1).pdf
2025-05-21 18:40:37,031 - __main__ - INFO - --- Processing (11/17): SS Alliance-Roadmap for Africa expansion_SatSure (1).pdf ---
2025-05-21 18:40:37,033 - __main__ - INFO - Loaded 43 text chunks from ./Faiss_index/SS_Alliance-Roadmap_for_Africa_expansion_SatSure__1_.json
2025-05-21 18:40:37,034 - __main__ - INFO - Loaded FAISS index for SS Alliance-Roadmap for Africa expansion_SatSure (1).pdf (43 vectors)
2025-05-21 18:40:37,034 - __main__ - INFO - Verified existing text index for SS Alliance-Roadmap for Africa expansion_SatSure (1).pdf
2025-05-21 18:40:37,034 - __main__ - INFO - --- Processing (12/17): SatSure Forest Stack - Andhra Pradesh (Oct 2024).pptx ---
2025-05-21 18:40:37,036 - __main__ - INFO - Loaded 33 text chunks from ./Faiss_index/SatSure_Forest_Stack_-_Andhra_Pradesh__Oct_2024_.json
2025-05-21 18:40:37,037 - __main__ - INFO - Loaded FAISS index for SatSure Forest Stack - Andhra Pradesh (Oct 2024).pptx (33 vectors)
2025-05-21 18:40:37,037 - __main__ - INFO - Verified existing text index for SatSure Forest Stack - Andhra Pradesh (Oct 2024).pptx
2025-05-21 18:40:37,037 - __main__ - INFO - --- Processing (13/17): SatSure_Sugarcane (1).pdf ---
2025-05-21 18:40:37,040 - __main__ - INFO - Loaded 70 text chunks from ./Faiss_index/SatSure_Sugarcane__1_.json
2025-05-21 18:40:37,042 - __main__ - INFO - Loaded FAISS index for SatSure_Sugarcane (1).pdf (70 vectors)
2025-05-21 18:40:37,042 - __main__ - INFO - Verified existing text index for SatSure_Sugarcane (1).pdf
2025-05-21 18:40:37,042 - __main__ - INFO - --- Processing (14/17): Satsure_IFAD_Proposal.pdf ---
2025-05-21 18:40:37,045 - __main__ - INFO - Loaded 84 text chunks from ./Faiss_index/Satsure_IFAD_Proposal.json
2025-05-21 18:40:37,046 - __main__ - INFO - Loaded FAISS index for Satsure_IFAD_Proposal.pdf (84 vectors)
2025-05-21 18:40:37,046 - __main__ - INFO - Verified existing text index for Satsure_IFAD_Proposal.pdf
2025-05-21 18:40:37,046 - __main__ - INFO - --- Processing (15/17): Smart_Farming_Crop_Yield_2024.csv ---
2025-05-21 18:40:37,047 - __main__ - INFO - Processing CSV: Smart_Farming_Crop_Yield_2024.csv
2025-05-21 18:40:37,065 - __main__ - INFO - Read CSV Smart_Farming_Crop_Yield_2024.csv using encoding: utf-8. (Rows: 500, Cols: 22)
2025-05-21 18:40:37,156 - __main__ - INFO - SambaNova OpenAI client initialized (Model: Meta-Llama-3.3-70B-Instruct, Base URL: https://api.sambanova.ai/v1)
2025-05-21 18:40:37,162 - __main__ - INFO - Requesting column metadata from SambaNova for Smart_Farming_Crop_Yield_2024.csv...
2025-05-21 18:40:40,371 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:40:40,378 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 87 (char 88). Raw response: {
  "farm_id": { "description": "Unique identifier for each farm.", "sql_type": "TEXT" },
  "region": { "description": "Geographical region where the farm is located.", "sql_type": "TEXT" },
  "crop_type": { "description": "Type of crop being cultivated.", "sql_type": "TEXT" },
  "soil_moisture": { "description": "Soil moisture level measured in percentage.", "sql_type": "REAL" },
  "soil_pH": { "description": "Soil pH level, a measure of its acidity or alkalinity.", "sql_type": "REAL" },
  "temperature_C": { "description": "Temperature in degrees Celsius.", "sql_type": "REAL" },
  "rainfall_mm": { "description": "Amount of rainfall measured in millimeters.", "sql_type": "REAL" },
  "humidity": { "description": "Relative humidity level measured in percentage.", "sql_type": "REAL" },
  "sunlight_hours": { "description": "Number of hours of sunlight per day.", "sql_type": "REAL" },
  "irrigation_type": { "description": "Method or system used for irrigation.", "sql_type": "TEXT" },
  "fertilizer_type": { "description": "Type of fertilizer used.", "sql_type": "TEXT" },
  "pesticide_usage_ml": { "description": "Amount of pesticide used measured in milliliters.", "sql_type": "REAL" },
  "sowing_date": { "description": "Date when the crop was sown.", "sql_type": "TEXT" },
  "harvest_date": { "description": "Date when the crop was harvested.", "sql_type": "TEXT" },
  "total_days": { "description": "Total number of days from sowing to harvest.", "sql_type": "INTEGER" },
  "yield_kg_per_hectare": { "description": "Crop yield measured in kilograms per hectare.", "sql_type": "REAL" },
  "sensor_id": { "description": "Unique identifier for the sensor used.", "sql_type": "TEXT" },
  "timestamp": { "description": "Timestamp for when the data was recorded or updated.", "sql_type": "TEXT" },
  "latitude": { "description": "Geographical latitude of the farm location.", "sql_type": "REAL" },
  "longitude": { "description": "Geographical longitude of the farm location.", "sql_type": "REAL" },
  "NDVI_index": { "description": "Normalized Difference Vegetation Index, a measure of vegetation health.", "sql_type": "REAL" },
  "crop_disease_status": { "description": "Status or severity of disease affecting the crop.", "sql_type": "TEXT" }
}
2025-05-21 18:40:40,379 - __main__ - WARNING - Failed to get column metadata for CSV via SambaNova. Proceeding without descriptions.
2025-05-21 18:40:40,421 - __main__ - INFO - Loading DataFrame into SQL table 'smart_farming_crop_yield_2024'...
2025-05-21 18:40:40,463 - __main__ - INFO - DataFrame loaded into table 'smart_farming_crop_yield_2024' (500 rows).
2025-05-21 18:40:40,464 - __main__ - INFO - Successfully loaded CSV Smart_Farming_Crop_Yield_2024.csv into SQL table 'smart_farming_crop_yield_2024'
2025-05-21 18:40:40,464 - __main__ - INFO - --- Processing (16/17): Villgro_SatSure.pdf ---
2025-05-21 18:40:40,466 - __main__ - INFO - Loaded 31 text chunks from ./Faiss_index/Villgro_SatSure.json
2025-05-21 18:40:40,468 - __main__ - INFO - Loaded FAISS index for Villgro_SatSure.pdf (31 vectors)
2025-05-21 18:40:40,468 - __main__ - INFO - Verified existing text index for Villgro_SatSure.pdf
2025-05-21 18:40:40,468 - __main__ - INFO - --- Processing (17/17): Yara_ SatSure.pdf ---
2025-05-21 18:40:40,469 - __main__ - INFO - Loaded 25 text chunks from ./Faiss_index/Yara__SatSure.json
2025-05-21 18:40:40,471 - __main__ - INFO - Loaded FAISS index for Yara_ SatSure.pdf (25 vectors)
2025-05-21 18:40:40,471 - __main__ - INFO - Verified existing text index for Yara_ SatSure.pdf
2025-05-21 18:40:40,471 - __main__ - INFO - --- Processing Complete. Processed 17 files. ---
2025-05-21 18:40:43,988 - __main__ - INFO - --- Starting SambaNova query: 'What does SatSure do in agriculture?...' ---
2025-05-21 18:40:44,287 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-21 18:40:45,495 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:40:45,498 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Simple Retrieval", "confidence": 0.95}...'
2025-05-21 18:40:45,499 - __main__ - INFO - Query classified as 'Simple Retrieval' with confidence 0.95
2025-05-21 18:40:45,500 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-21 18:40:45,503 - __main__ - INFO - Querying SambaNova model Meta-Llama-3.3-70B-Instruct with text context and history...
2025-05-21 18:40:47,378 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:40:47,383 - __main__ - INFO - SambaNova response received. Length: 660
2025-05-21 18:40:47,384 - __main__ - INFO - --- SambaNova query finished. Source: Text RAG (SambaNova) --- Status: Completed Successfully ---
2025-05-21 18:41:08,490 - __main__ - INFO - --- Starting SambaNova query: 'Give me a detailed answer with examples...' ---
2025-05-21 18:41:08,491 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query refinement...
2025-05-21 18:41:10,247 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:41:10,248 - __main__ - INFO - SambaNova response for query refinement: 'Provide a detailed explanation of SatSure's role in agriculture, including specific examples of their solutions such as crop classification, yield pre...'
2025-05-21 18:41:10,248 - __main__ - INFO - Query refined by SambaNova to: 'Provide a detailed explanation of SatSure's role in agriculture, including specific examples of thei...'
2025-05-21 18:41:10,279 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-21 18:41:11,606 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:41:11,607 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Complex/Reasoning (Text)", "confidence": 0.92}...'
2025-05-21 18:41:11,607 - __main__ - INFO - Query classified as 'Complex/Reasoning (Text)' with confidence 0.92
2025-05-21 18:41:11,608 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-21 18:41:11,609 - __main__ - INFO - Querying SambaNova model Meta-Llama-3.3-70B-Instruct with text context and history...
2025-05-21 18:41:13,134 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:41:13,137 - __main__ - INFO - SambaNova response received. Length: 1050
2025-05-21 18:41:13,137 - __main__ - INFO - --- SambaNova query finished. Source: Text RAG (SambaNova) --- Status: Completed Successfully ---
2025-05-21 18:42:03,711 - __main__ - INFO - --- Starting SambaNova query: 'Tell me about SatSure's Forest Stack...' ---
2025-05-21 18:42:03,713 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query refinement...
2025-05-21 18:42:05,462 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:42:05,464 - __main__ - INFO - SambaNova response for query refinement: 'What are the features and applications of SatSure's Forest Stack, and how does it utilize satellite data and AI technology to support forest managemen...'
2025-05-21 18:42:05,464 - __main__ - INFO - Query refined by SambaNova to: 'What are the features and applications of SatSure's Forest Stack, and how does it utilize satellite ...'
2025-05-21 18:42:05,512 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-21 18:42:06,595 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:42:06,597 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Complex/Reasoning (Text)", "confidence": 0.92}...'
2025-05-21 18:42:06,597 - __main__ - INFO - Query classified as 'Complex/Reasoning (Text)' with confidence 0.92
2025-05-21 18:42:06,598 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-21 18:42:06,600 - __main__ - INFO - Querying SambaNova model Meta-Llama-3.3-70B-Instruct with text context and history...
2025-05-21 18:42:09,048 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:42:09,050 - __main__ - INFO - SambaNova response received. Length: 1859
2025-05-21 18:42:09,052 - __main__ - INFO - --- SambaNova query finished. Source: Text RAG (SambaNova) --- Status: Completed Successfully ---
2025-05-21 18:42:34,344 - __main__ - INFO - --- Starting SambaNova query: 'Tell me about SatSure's work in the insurance industry...' ---
2025-05-21 18:42:34,347 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query refinement...
2025-05-21 18:42:36,598 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:42:36,600 - __main__ - INFO - SambaNova response for query refinement: 'What role does SatSure play in the insurance industry, and how do their solutions, such as crop yield prediction, farm boundary detection, and damage ...'
2025-05-21 18:42:36,600 - __main__ - INFO - Query refined by SambaNova to: 'What role does SatSure play in the insurance industry, and how do their solutions, such as crop yiel...'
2025-05-21 18:42:36,651 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-21 18:42:37,717 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:42:37,719 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Complex/Reasoning (Text)", "confidence": 0.92}...'
2025-05-21 18:42:37,719 - __main__ - INFO - Query classified as 'Complex/Reasoning (Text)' with confidence 0.92
2025-05-21 18:42:37,720 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-21 18:42:37,722 - __main__ - INFO - Querying SambaNova model Meta-Llama-3.3-70B-Instruct with text context and history...
2025-05-21 18:42:39,670 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:42:39,672 - __main__ - INFO - SambaNova response received. Length: 1667
2025-05-21 18:42:39,677 - __main__ - INFO - --- SambaNova query finished. Source: Text RAG (SambaNova) --- Status: Completed Successfully ---
2025-05-21 18:43:33,023 - __main__ - INFO - --- Starting SambaNova query: 'Prepare a detailed proposal for an insurance client using agricultural products of SatSure...' ---
2025-05-21 18:43:33,025 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query refinement...
2025-05-21 18:43:34,755 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:43:34,757 - __main__ - INFO - SambaNova response for query refinement: 'Prepare a comprehensive proposal for an insurance client that leverages SatSure's agricultural products, including crop health monitoring, farm bounda...'
2025-05-21 18:43:34,757 - __main__ - INFO - Query refined by SambaNova to: 'Prepare a comprehensive proposal for an insurance client that leverages SatSure's agricultural produ...'
2025-05-21 18:43:34,809 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-21 18:43:36,399 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:43:36,401 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Complex/Reasoning (Text)", "confidence": 0.95}...'
2025-05-21 18:43:36,402 - __main__ - INFO - Query classified as 'Complex/Reasoning (Text)' with confidence 0.95
2025-05-21 18:43:36,403 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-21 18:43:36,405 - __main__ - INFO - Querying SambaNova model Meta-Llama-3.3-70B-Instruct with text context and history...
2025-05-21 18:43:38,822 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:43:38,827 - __main__ - INFO - SambaNova response received. Length: 3051
2025-05-21 18:43:38,829 - __main__ - INFO - --- SambaNova query finished. Source: Text RAG (SambaNova) --- Status: Completed Successfully ---
2025-05-21 18:47:45,951 - __main__ - INFO - Loaded configuration from config1.ini
2025-05-21 18:47:45,951 - __main__ - INFO - Added missing option 'data_dir = ./Data/' to section [PATHS] from defaults.
2025-05-21 18:47:45,951 - __main__ - INFO - Added missing option 'sqlite_db_path = :memory:' to section [PATHS] from defaults.
2025-05-21 18:47:45,951 - __main__ - INFO - Added missing option 'sambanova_model = Meta-Llama-3.3-70B-Instruct' to section [MODELS] from defaults.
2025-05-21 18:47:45,951 - __main__ - INFO - Added missing option 'sambanova_base_url = https://api.sambanova.ai/v1' to section [MODELS] from defaults.
2025-05-21 18:47:45,951 - __main__ - INFO - Added missing option 'top_p = 0.1' to section [PARAMETERS] from defaults.
2025-05-21 18:47:45,951 - __main__ - INFO - Added missing option 'max_chars_per_element = 1200' to section [PARAMETERS] from defaults.
2025-05-21 18:47:45,952 - __main__ - INFO - Added missing option 'pptx_merge_threshold_words = 50' to section [PARAMETERS] from defaults.
2025-05-21 18:47:45,952 - __main__ - INFO - Added missing option 'dataframe_query_confidence_threshold = 0.70' to section [PARAMETERS] from defaults.
2025-05-21 18:47:45,952 - __main__ - INFO - Added missing option 'max_chat_history_turns = 5' to section [PARAMETERS] from defaults.
2025-05-21 18:47:45,952 - __main__ - INFO - Added missing section [SUPPORTED_EXTENSIONS] from defaults.
2025-05-21 18:47:45,952 - __main__ - INFO - Added missing option 'extensions = .pdf, .xlsx, .csv, .pptx' to section [SUPPORTED_EXTENSIONS] from defaults.
2025-05-21 18:47:45,952 - __main__ - INFO - Added missing section [API_KEYS] from defaults.
2025-05-21 18:47:45,952 - __main__ - INFO - Added missing option 'sambanova_api_key_config = ' to section [API_KEYS] from defaults.
2025-05-21 18:47:45,961 - __main__ - INFO - Initializing RAG system (SambaNova Version). Device: cuda, Supported files: ('.pdf', '.xlsx', '.csv', '.pptx')
2025-05-21 18:47:45,963 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda
2025-05-21 18:47:45,963 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-05-21 18:47:49,673 - __main__ - INFO - Local embedding model loaded successfully
2025-05-21 18:47:49,673 - __main__ - INFO - Connected to SQLite database at ':memory:'
2025-05-21 18:48:04,417 - __main__ - INFO - Clearing existing tables from in-memory database...
2025-05-21 18:48:04,418 - __main__ - INFO - Dropped 0 tables.
2025-05-21 18:48:04,419 - __main__ - INFO - Processing 17 supported files from ./Data/
2025-05-21 18:48:04,420 - __main__ - INFO - --- Processing (1/17): BASF Technical proposal (2).pdf ---
2025-05-21 18:48:04,423 - __main__ - INFO - Loaded 55 text chunks from ./Faiss_index/BASF_Technical_proposal__2_.json
2025-05-21 18:48:04,425 - __main__ - INFO - Loaded FAISS index for BASF Technical proposal (2).pdf (55 vectors)
2025-05-21 18:48:04,425 - __main__ - INFO - Verified existing text index for BASF Technical proposal (2).pdf
2025-05-21 18:48:04,425 - __main__ - INFO - --- Processing (2/17): Chola MS Sparta Maps proposal_V1.pdf ---
2025-05-21 18:48:04,427 - __main__ - INFO - Loaded 23 text chunks from ./Faiss_index/Chola_MS_Sparta_Maps_proposal_V1.json
2025-05-21 18:48:04,428 - __main__ - INFO - Loaded FAISS index for Chola MS Sparta Maps proposal_V1.pdf (23 vectors)
2025-05-21 18:48:04,428 - __main__ - INFO - Verified existing text index for Chola MS Sparta Maps proposal_V1.pdf
2025-05-21 18:48:04,428 - __main__ - INFO - --- Processing (3/17): Gebana_EUDR_SatSure.pdf ---
2025-05-21 18:48:04,430 - __main__ - INFO - Loaded 31 text chunks from ./Faiss_index/Gebana_EUDR_SatSure.json
2025-05-21 18:48:04,436 - __main__ - INFO - Loaded FAISS index for Gebana_EUDR_SatSure.pdf (31 vectors)
2025-05-21 18:48:04,436 - __main__ - INFO - Verified existing text index for Gebana_EUDR_SatSure.pdf
2025-05-21 18:48:04,436 - __main__ - INFO - --- Processing (4/17): ITC paperboard Proposal.pdf ---
2025-05-21 18:48:04,438 - __main__ - INFO - Loaded 45 text chunks from ./Faiss_index/ITC_paperboard_Proposal.json
2025-05-21 18:48:04,440 - __main__ - INFO - Loaded FAISS index for ITC paperboard Proposal.pdf (45 vectors)
2025-05-21 18:48:04,440 - __main__ - INFO - Verified existing text index for ITC paperboard Proposal.pdf
2025-05-21 18:48:04,440 - __main__ - INFO - --- Processing (5/17): JB boda_SatSure.pdf ---
2025-05-21 18:48:04,442 - __main__ - INFO - Loaded 17 text chunks from ./Faiss_index/JB_boda_SatSure.json
2025-05-21 18:48:04,443 - __main__ - INFO - Loaded FAISS index for JB boda_SatSure.pdf (17 vectors)
2025-05-21 18:48:04,443 - __main__ - INFO - Verified existing text index for JB boda_SatSure.pdf
2025-05-21 18:48:04,443 - __main__ - INFO - --- Processing (6/17): JICA_Proposal_SatSure.pdf ---
2025-05-21 18:48:04,447 - __main__ - INFO - Loaded 38 text chunks from ./Faiss_index/JICA_Proposal_SatSure.json
2025-05-21 18:48:04,448 - __main__ - INFO - Loaded FAISS index for JICA_Proposal_SatSure.pdf (38 vectors)
2025-05-21 18:48:04,449 - __main__ - INFO - Verified existing text index for JICA_Proposal_SatSure.pdf
2025-05-21 18:48:04,449 - __main__ - INFO - --- Processing (7/17): Market Potential and demand estimation usecase.docx.pdf ---
2025-05-21 18:48:04,450 - __main__ - INFO - Loaded 10 text chunks from ./Faiss_index/Market_Potential_and_demand_estimation_usecase.docx.json
2025-05-21 18:48:04,452 - __main__ - INFO - Loaded FAISS index for Market Potential and demand estimation usecase.docx.pdf (10 vectors)
2025-05-21 18:48:04,452 - __main__ - INFO - Verified existing text index for Market Potential and demand estimation usecase.docx.pdf
2025-05-21 18:48:04,452 - __main__ - INFO - --- Processing (8/17): Munichre_Satsure.pdf ---
2025-05-21 18:48:04,454 - __main__ - INFO - Loaded 46 text chunks from ./Faiss_index/Munichre_Satsure.json
2025-05-21 18:48:04,456 - __main__ - INFO - Loaded FAISS index for Munichre_Satsure.pdf (46 vectors)
2025-05-21 18:48:04,456 - __main__ - INFO - Verified existing text index for Munichre_Satsure.pdf
2025-05-21 18:48:04,456 - __main__ - INFO - --- Processing (9/17): Punjab Proposal_SatSure.pdf ---
2025-05-21 18:48:04,459 - __main__ - INFO - Loaded 21 text chunks from ./Faiss_index/Punjab_Proposal_SatSure.json
2025-05-21 18:48:04,460 - __main__ - INFO - Loaded FAISS index for Punjab Proposal_SatSure.pdf (21 vectors)
2025-05-21 18:48:04,460 - __main__ - INFO - Verified existing text index for Punjab Proposal_SatSure.pdf
2025-05-21 18:48:04,460 - __main__ - INFO - --- Processing (10/17): Raizen (1).pdf ---
2025-05-21 18:48:04,463 - __main__ - INFO - Loaded 58 text chunks from ./Faiss_index/Raizen__1_.json
2025-05-21 18:48:04,464 - __main__ - INFO - Loaded FAISS index for Raizen (1).pdf (58 vectors)
2025-05-21 18:48:04,464 - __main__ - INFO - Verified existing text index for Raizen (1).pdf
2025-05-21 18:48:04,465 - __main__ - INFO - --- Processing (11/17): SS Alliance-Roadmap for Africa expansion_SatSure (1).pdf ---
2025-05-21 18:48:04,467 - __main__ - INFO - Loaded 43 text chunks from ./Faiss_index/SS_Alliance-Roadmap_for_Africa_expansion_SatSure__1_.json
2025-05-21 18:48:04,468 - __main__ - INFO - Loaded FAISS index for SS Alliance-Roadmap for Africa expansion_SatSure (1).pdf (43 vectors)
2025-05-21 18:48:04,468 - __main__ - INFO - Verified existing text index for SS Alliance-Roadmap for Africa expansion_SatSure (1).pdf
2025-05-21 18:48:04,469 - __main__ - INFO - --- Processing (12/17): SatSure Forest Stack - Andhra Pradesh (Oct 2024).pptx ---
2025-05-21 18:48:04,472 - __main__ - INFO - Loaded 33 text chunks from ./Faiss_index/SatSure_Forest_Stack_-_Andhra_Pradesh__Oct_2024_.json
2025-05-21 18:48:04,473 - __main__ - INFO - Loaded FAISS index for SatSure Forest Stack - Andhra Pradesh (Oct 2024).pptx (33 vectors)
2025-05-21 18:48:04,473 - __main__ - INFO - Verified existing text index for SatSure Forest Stack - Andhra Pradesh (Oct 2024).pptx
2025-05-21 18:48:04,473 - __main__ - INFO - --- Processing (13/17): SatSure_Sugarcane (1).pdf ---
2025-05-21 18:48:04,476 - __main__ - INFO - Loaded 70 text chunks from ./Faiss_index/SatSure_Sugarcane__1_.json
2025-05-21 18:48:04,477 - __main__ - INFO - Loaded FAISS index for SatSure_Sugarcane (1).pdf (70 vectors)
2025-05-21 18:48:04,478 - __main__ - INFO - Verified existing text index for SatSure_Sugarcane (1).pdf
2025-05-21 18:48:04,478 - __main__ - INFO - --- Processing (14/17): Satsure_IFAD_Proposal.pdf ---
2025-05-21 18:48:04,481 - __main__ - INFO - Loaded 84 text chunks from ./Faiss_index/Satsure_IFAD_Proposal.json
2025-05-21 18:48:04,483 - __main__ - INFO - Loaded FAISS index for Satsure_IFAD_Proposal.pdf (84 vectors)
2025-05-21 18:48:04,483 - __main__ - INFO - Verified existing text index for Satsure_IFAD_Proposal.pdf
2025-05-21 18:48:04,483 - __main__ - INFO - --- Processing (15/17): Smart_Farming_Crop_Yield_2024.csv ---
2025-05-21 18:48:04,484 - __main__ - INFO - Processing CSV: Smart_Farming_Crop_Yield_2024.csv
2025-05-21 18:48:04,507 - __main__ - INFO - Read CSV Smart_Farming_Crop_Yield_2024.csv using encoding: utf-8. (Rows: 500, Cols: 22)
2025-05-21 18:48:04,594 - __main__ - INFO - SambaNova OpenAI client initialized (Model: Meta-Llama-3.3-70B-Instruct, Base URL: https://api.sambanova.ai/v1)
2025-05-21 18:48:04,601 - __main__ - INFO - Requesting column metadata from SambaNova for Smart_Farming_Crop_Yield_2024.csv...
2025-05-21 18:48:07,500 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:48:07,510 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 87 (char 88). Raw response: {
  "farm_id": { "description": "Unique identifier for each farm.", "sql_type": "TEXT" },
  "region": { "description": "Geographical region where the farm is located.", "sql_type": "TEXT" },
  "crop_type": { "description": "Type of crop being cultivated.", "sql_type": "TEXT" },
  "soil_moisture": { "description": "Soil moisture level measured in percentage.", "sql_type": "REAL" },
  "soil_pH": { "description": "Soil pH level, a measure of its acidity or alkalinity.", "sql_type": "REAL" },
  "temperature_C": { "description": "Temperature in degrees Celsius.", "sql_type": "REAL" },
  "rainfall_mm": { "description": "Amount of rainfall measured in millimeters.", "sql_type": "REAL" },
  "humidity": { "description": "Relative humidity level measured in percentage.", "sql_type": "REAL" },
  "sunlight_hours": { "description": "Number of hours of sunlight per day.", "sql_type": "REAL" },
  "irrigation_type": { "description": "Method or system used for irrigation.", "sql_type": "TEXT" },
  "fertilizer_type": { "description": "Type of fertilizer used.", "sql_type": "TEXT" },
  "pesticide_usage_ml": { "description": "Amount of pesticide used measured in milliliters.", "sql_type": "REAL" },
  "sowing_date": { "description": "Date when the crop was sown.", "sql_type": "TEXT" },
  "harvest_date": { "description": "Date when the crop was harvested.", "sql_type": "TEXT" },
  "total_days": { "description": "Total number of days from sowing to harvest.", "sql_type": "INTEGER" },
  "yield_kg_per_hectare": { "description": "Crop yield measured in kilograms per hectare.", "sql_type": "REAL" },
  "sensor_id": { "description": "Unique identifier for the sensor used.", "sql_type": "TEXT" },
  "timestamp": { "description": "Timestamp for when the data was recorded or updated.", "sql_type": "TEXT" },
  "latitude": { "description": "Geographical latitude of the farm location.", "sql_type": "REAL" },
  "longitude": { "description": "Geographical longitude of the farm location.", "sql_type": "REAL" },
  "NDVI_index": { "description": "Normalized Difference Vegetation Index, a measure of vegetation health.", "sql_type": "REAL" },
  "crop_disease_status": { "description": "Status or severity of disease affecting the crop.", "sql_type": "TEXT" }
}
2025-05-21 18:48:07,511 - __main__ - WARNING - Failed to get column metadata for CSV via SambaNova. Proceeding without descriptions.
2025-05-21 18:48:07,557 - __main__ - INFO - Loading DataFrame into SQL table 'smart_farming_crop_yield_2024'...
2025-05-21 18:48:07,597 - __main__ - INFO - DataFrame loaded into table 'smart_farming_crop_yield_2024' (500 rows).
2025-05-21 18:48:07,597 - __main__ - INFO - Successfully loaded CSV Smart_Farming_Crop_Yield_2024.csv into SQL table 'smart_farming_crop_yield_2024'
2025-05-21 18:48:07,598 - __main__ - INFO - --- Processing (16/17): Villgro_SatSure.pdf ---
2025-05-21 18:48:07,600 - __main__ - INFO - Loaded 31 text chunks from ./Faiss_index/Villgro_SatSure.json
2025-05-21 18:48:07,602 - __main__ - INFO - Loaded FAISS index for Villgro_SatSure.pdf (31 vectors)
2025-05-21 18:48:07,602 - __main__ - INFO - Verified existing text index for Villgro_SatSure.pdf
2025-05-21 18:48:07,602 - __main__ - INFO - --- Processing (17/17): Yara_ SatSure.pdf ---
2025-05-21 18:48:07,604 - __main__ - INFO - Loaded 25 text chunks from ./Faiss_index/Yara__SatSure.json
2025-05-21 18:48:07,605 - __main__ - INFO - Loaded FAISS index for Yara_ SatSure.pdf (25 vectors)
2025-05-21 18:48:07,606 - __main__ - INFO - Verified existing text index for Yara_ SatSure.pdf
2025-05-21 18:48:07,606 - __main__ - INFO - --- Processing Complete. Processed 17 files. ---
2025-05-21 18:48:21,492 - __main__ - INFO - --- Starting SambaNova query: 'Prepare a detailed proposal for an insurance client using agricultural products of SatSure...' ---
2025-05-21 18:48:21,775 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-21 18:48:23,215 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:48:23,216 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Complex/Reasoning (Text)", "confidence": 0.92}...'
2025-05-21 18:48:23,216 - __main__ - INFO - Query classified as 'Complex/Reasoning (Text)' with confidence 0.92
2025-05-21 18:48:23,216 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-21 18:48:23,217 - __main__ - INFO - Querying SambaNova model Meta-Llama-3.3-70B-Instruct with text context and history...
2025-05-21 18:48:25,882 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:48:25,885 - __main__ - INFO - SambaNova response received. Length: 2929
2025-05-21 18:48:25,886 - __main__ - INFO - --- SambaNova query finished. Source: Text RAG (SambaNova) --- Status: Completed Successfully ---
2025-05-21 18:53:21,032 - __main__ - INFO - --- Starting SambaNova query: 'what is the most used fertilizer type in North India...' ---
2025-05-21 18:53:21,034 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query refinement...
2025-05-21 18:53:22,827 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:53:22,830 - __main__ - INFO - SambaNova response for query refinement: 'What is the most commonly used fertilizer type among farmers in North India, considering the region's dominant crops, soil types, and agricultural pra...'
2025-05-21 18:53:22,830 - __main__ - INFO - Query refined by SambaNova to: 'What is the most commonly used fertilizer type among farmers in North India, considering the region'...'
2025-05-21 18:53:22,883 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-21 18:53:24,057 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:53:24,060 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Complex/Reasoning (Text)", "confidence": 0.92}...'
2025-05-21 18:53:24,061 - __main__ - INFO - Query classified as 'Complex/Reasoning (Text)' with confidence 0.92
2025-05-21 18:53:24,061 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-21 18:53:24,064 - __main__ - INFO - Querying SambaNova model Meta-Llama-3.3-70B-Instruct with text context and history...
2025-05-21 18:53:25,491 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:53:25,493 - __main__ - INFO - SambaNova response received. Length: 488
2025-05-21 18:53:25,494 - __main__ - INFO - --- SambaNova query finished. Source: Text RAG (SambaNova) --- Status: Completed Successfully ---
2025-05-21 18:53:55,787 - __main__ - INFO - --- Starting SambaNova query: 'What is the most used fertilizer type in North India...' ---
2025-05-21 18:53:55,835 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-21 18:53:57,444 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:53:57,446 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Complex/Reasoning (Text)", "confidence": 0.85}...'
2025-05-21 18:53:57,446 - __main__ - INFO - Query classified as 'Complex/Reasoning (Text)' with confidence 0.85
2025-05-21 18:53:57,448 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-21 18:53:57,450 - __main__ - INFO - Querying SambaNova model Meta-Llama-3.3-70B-Instruct with text context and history...
2025-05-21 18:53:58,489 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:53:58,493 - __main__ - INFO - SambaNova response received. Length: 78
2025-05-21 18:53:58,494 - __main__ - INFO - --- SambaNova query finished. Source: Text RAG (SambaNova) --- Status: Completed Successfully ---
2025-05-21 18:54:32,274 - __main__ - INFO - --- Starting SambaNova query: 'What is the crop type thats planted in North India?...' ---
2025-05-21 18:54:32,277 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query refinement...
2025-05-21 18:54:33,897 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:54:33,899 - __main__ - INFO - SambaNova response for query refinement: 'What are the most commonly cultivated crop types in North India?...'
2025-05-21 18:54:33,900 - __main__ - INFO - Query refined by SambaNova to: 'What are the most commonly cultivated crop types in North India?...'
2025-05-21 18:54:33,945 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-21 18:54:35,119 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:54:35,121 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Simple Retrieval", "confidence": 0.95}...'
2025-05-21 18:54:35,122 - __main__ - INFO - Query classified as 'Simple Retrieval' with confidence 0.95
2025-05-21 18:54:35,122 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-21 18:54:35,124 - __main__ - INFO - Querying SambaNova model Meta-Llama-3.3-70B-Instruct with text context and history...
2025-05-21 18:54:36,212 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:54:36,215 - __main__ - INFO - SambaNova response received. Length: 219
2025-05-21 18:54:36,216 - __main__ - INFO - --- SambaNova query finished. Source: Text RAG (SambaNova) --- Status: Completed Successfully ---
2025-05-21 18:55:07,569 - __main__ - INFO - Clearing existing tables from in-memory database...
2025-05-21 18:55:07,572 - __main__ - INFO - Dropped 1 tables.
2025-05-21 18:55:07,573 - __main__ - INFO - Processing 1 supported files from ./Data/
2025-05-21 18:55:07,574 - __main__ - INFO - --- Processing (1/1): Smart_Farming_Crop_Yield_2024.csv ---
2025-05-21 18:55:07,575 - __main__ - INFO - Processing CSV: Smart_Farming_Crop_Yield_2024.csv
2025-05-21 18:55:07,593 - __main__ - INFO - Read CSV Smart_Farming_Crop_Yield_2024.csv using encoding: utf-8. (Rows: 500, Cols: 22)
2025-05-21 18:55:07,613 - __main__ - INFO - Requesting column metadata from SambaNova for Smart_Farming_Crop_Yield_2024.csv...
2025-05-21 18:55:10,446 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:55:10,448 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 87 (char 88). Raw response: {
  "farm_id": { "description": "Unique identifier for each farm.", "sql_type": "TEXT" },
  "region": { "description": "Geographical region where the farm is located.", "sql_type": "TEXT" },
  "crop_type": { "description": "Type of crop being cultivated.", "sql_type": "TEXT" },
  "soil_moisture": { "description": "Soil moisture level measured in percentage.", "sql_type": "REAL" },
  "soil_pH": { "description": "Soil pH level, a measure of its acidity or alkalinity.", "sql_type": "REAL" },
  "temperature_C": { "description": "Temperature in degrees Celsius.", "sql_type": "REAL" },
  "rainfall_mm": { "description": "Amount of rainfall measured in millimeters.", "sql_type": "REAL" },
  "humidity": { "description": "Relative humidity level measured in percentage.", "sql_type": "REAL" },
  "sunlight_hours": { "description": "Number of hours of sunlight per day.", "sql_type": "REAL" },
  "irrigation_type": { "description": "Method or system used for irrigation.", "sql_type": "TEXT" },
  "fertilizer_type": { "description": "Type of fertilizer used.", "sql_type": "TEXT" },
  "pesticide_usage_ml": { "description": "Amount of pesticide used measured in milliliters.", "sql_type": "REAL" },
  "sowing_date": { "description": "Date when the crop was sown.", "sql_type": "TEXT" },
  "harvest_date": { "description": "Date when the crop was harvested.", "sql_type": "TEXT" },
  "total_days": { "description": "Total number of days from sowing to harvest.", "sql_type": "INTEGER" },
  "yield_kg_per_hectare": { "description": "Crop yield measured in kilograms per hectare.", "sql_type": "REAL" },
  "sensor_id": { "description": "Unique identifier for the sensor used.", "sql_type": "TEXT" },
  "timestamp": { "description": "Timestamp for when the data was recorded or updated.", "sql_type": "TEXT" },
  "latitude": { "description": "Geographical latitude of the farm location.", "sql_type": "REAL" },
  "longitude": { "description": "Geographical longitude of the farm location.", "sql_type": "REAL" },
  "NDVI_index": { "description": "Normalized Difference Vegetation Index, a measure of vegetation health.", "sql_type": "REAL" },
  "crop_disease_status": { "description": "Status or severity of disease affecting the crop.", "sql_type": "TEXT" }
}
2025-05-21 18:55:10,449 - __main__ - WARNING - Failed to get column metadata for CSV via SambaNova. Proceeding without descriptions.
2025-05-21 18:55:10,490 - __main__ - INFO - Loading DataFrame into SQL table 'smart_farming_crop_yield_2024'...
2025-05-21 18:55:10,527 - __main__ - INFO - DataFrame loaded into table 'smart_farming_crop_yield_2024' (500 rows).
2025-05-21 18:55:10,528 - __main__ - INFO - Successfully loaded CSV Smart_Farming_Crop_Yield_2024.csv into SQL table 'smart_farming_crop_yield_2024'
2025-05-21 18:55:10,528 - __main__ - INFO - --- Processing Complete. Processed 1 files. ---
2025-05-21 18:55:16,054 - __main__ - INFO - --- Starting SambaNova query: 'What is the most used fertilizer type in North India

...' ---
2025-05-21 18:55:16,056 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query refinement...
2025-05-21 18:55:17,613 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:55:17,615 - __main__ - INFO - SambaNova response for query refinement: 'What is the most widely used fertilizer type for crops such as wheat and rice in North India?...'
2025-05-21 18:55:17,615 - __main__ - INFO - Query refined by SambaNova to: 'What is the most widely used fertilizer type for crops such as wheat and rice in North India?...'
2025-05-21 18:55:17,618 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-21 18:55:18,638 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:55:18,641 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Simple Retrieval", "confidence": 0.95}...'
2025-05-21 18:55:18,641 - __main__ - INFO - Query classified as 'Simple Retrieval' with confidence 0.95
2025-05-21 18:55:18,642 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-21 18:56:02,441 - __main__ - INFO - Loaded configuration from config1.ini
2025-05-21 18:56:02,441 - __main__ - INFO - Added missing option 'data_dir = ./Data/' to section [PATHS] from defaults.
2025-05-21 18:56:02,441 - __main__ - INFO - Added missing option 'sqlite_db_path = :memory:' to section [PATHS] from defaults.
2025-05-21 18:56:02,441 - __main__ - INFO - Added missing option 'sambanova_model = Meta-Llama-3.3-70B-Instruct' to section [MODELS] from defaults.
2025-05-21 18:56:02,441 - __main__ - INFO - Added missing option 'sambanova_base_url = https://api.sambanova.ai/v1' to section [MODELS] from defaults.
2025-05-21 18:56:02,441 - __main__ - INFO - Added missing option 'top_p = 0.1' to section [PARAMETERS] from defaults.
2025-05-21 18:56:02,441 - __main__ - INFO - Added missing option 'max_chars_per_element = 1200' to section [PARAMETERS] from defaults.
2025-05-21 18:56:02,441 - __main__ - INFO - Added missing option 'pptx_merge_threshold_words = 50' to section [PARAMETERS] from defaults.
2025-05-21 18:56:02,441 - __main__ - INFO - Added missing option 'dataframe_query_confidence_threshold = 0.70' to section [PARAMETERS] from defaults.
2025-05-21 18:56:02,441 - __main__ - INFO - Added missing option 'max_chat_history_turns = 5' to section [PARAMETERS] from defaults.
2025-05-21 18:56:02,441 - __main__ - INFO - Added missing section [SUPPORTED_EXTENSIONS] from defaults.
2025-05-21 18:56:02,441 - __main__ - INFO - Added missing option 'extensions = .pdf, .xlsx, .csv, .pptx' to section [SUPPORTED_EXTENSIONS] from defaults.
2025-05-21 18:56:02,441 - __main__ - INFO - Added missing section [API_KEYS] from defaults.
2025-05-21 18:56:02,442 - __main__ - INFO - Added missing option 'sambanova_api_key_config = ' to section [API_KEYS] from defaults.
2025-05-21 18:56:02,452 - __main__ - INFO - Initializing RAG system (SambaNova Version). Device: cuda, Supported files: ('.pdf', '.xlsx', '.csv', '.pptx')
2025-05-21 18:56:02,455 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda
2025-05-21 18:56:02,455 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-05-21 18:56:07,122 - __main__ - INFO - Local embedding model loaded successfully
2025-05-21 18:56:07,122 - __main__ - INFO - Connected to SQLite database at ':memory:'
2025-05-21 18:56:10,629 - __main__ - INFO - Clearing existing tables from in-memory database...
2025-05-21 18:56:10,633 - __main__ - INFO - Dropped 0 tables.
2025-05-21 18:56:10,634 - __main__ - INFO - Processing 1 supported files from ./Data/
2025-05-21 18:56:10,635 - __main__ - INFO - --- Processing (1/1): Smart_Farming_Crop_Yield_2024.csv ---
2025-05-21 18:56:10,637 - __main__ - INFO - Processing CSV: Smart_Farming_Crop_Yield_2024.csv
2025-05-21 18:56:10,662 - __main__ - INFO - Read CSV Smart_Farming_Crop_Yield_2024.csv using encoding: utf-8. (Rows: 500, Cols: 22)
2025-05-21 18:56:10,776 - __main__ - INFO - SambaNova OpenAI client initialized (Model: Meta-Llama-3.3-70B-Instruct, Base URL: https://api.sambanova.ai/v1)
2025-05-21 18:56:10,782 - __main__ - INFO - Requesting column metadata from SambaNova for Smart_Farming_Crop_Yield_2024.csv...
2025-05-21 18:56:13,729 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:56:13,736 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 87 (char 88). Raw response: {
  "farm_id": { "description": "Unique identifier for each farm.", "sql_type": "TEXT" },
  "region": { "description": "Geographical region where the farm is located.", "sql_type": "TEXT" },
  "crop_type": { "description": "Type of crop being cultivated.", "sql_type": "TEXT" },
  "soil_moisture": { "description": "Soil moisture level measured in percentage.", "sql_type": "REAL" },
  "soil_pH": { "description": "Soil pH level, a measure of its acidity or alkalinity.", "sql_type": "REAL" },
  "temperature_C": { "description": "Temperature in degrees Celsius.", "sql_type": "REAL" },
  "rainfall_mm": { "description": "Amount of rainfall measured in millimeters.", "sql_type": "REAL" },
  "humidity": { "description": "Relative humidity level measured in percentage.", "sql_type": "REAL" },
  "sunlight_hours": { "description": "Number of hours of sunlight per day.", "sql_type": "REAL" },
  "irrigation_type": { "description": "Method or system used for irrigation.", "sql_type": "TEXT" },
  "fertilizer_type": { "description": "Type of fertilizer used.", "sql_type": "TEXT" },
  "pesticide_usage_ml": { "description": "Amount of pesticide used measured in milliliters.", "sql_type": "REAL" },
  "sowing_date": { "description": "Date when the crop was sown.", "sql_type": "TEXT" },
  "harvest_date": { "description": "Date when the crop was harvested.", "sql_type": "TEXT" },
  "total_days": { "description": "Total number of days from sowing to harvest.", "sql_type": "INTEGER" },
  "yield_kg_per_hectare": { "description": "Crop yield measured in kilograms per hectare.", "sql_type": "REAL" },
  "sensor_id": { "description": "Unique identifier for the sensor used.", "sql_type": "TEXT" },
  "timestamp": { "description": "Timestamp for when the data was recorded or updated.", "sql_type": "TEXT" },
  "latitude": { "description": "Geographical latitude of the farm location.", "sql_type": "REAL" },
  "longitude": { "description": "Geographical longitude of the farm location.", "sql_type": "REAL" },
  "NDVI_index": { "description": "Normalized Difference Vegetation Index, a measure of vegetation health.", "sql_type": "REAL" },
  "crop_disease_status": { "description": "Status or severity of disease affecting the crop.", "sql_type": "TEXT" }
}
2025-05-21 18:56:13,737 - __main__ - WARNING - Failed to get column metadata for CSV via SambaNova. Proceeding without descriptions.
2025-05-21 18:56:13,780 - __main__ - INFO - Loading DataFrame into SQL table 'smart_farming_crop_yield_2024'...
2025-05-21 18:56:13,825 - __main__ - INFO - DataFrame loaded into table 'smart_farming_crop_yield_2024' (500 rows).
2025-05-21 18:56:13,825 - __main__ - INFO - Successfully loaded CSV Smart_Farming_Crop_Yield_2024.csv into SQL table 'smart_farming_crop_yield_2024'
2025-05-21 18:56:13,826 - __main__ - INFO - --- Processing Complete. Processed 1 files. ---
2025-05-21 18:56:18,464 - __main__ - INFO - --- Starting SambaNova query: 'What is the most used fertilizer type in North India...' ---
2025-05-21 18:56:18,467 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-21 18:56:19,666 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:56:19,669 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Complex/Reasoning (Text)", "confidence": 0.85}...'
2025-05-21 18:56:19,669 - __main__ - INFO - Query classified as 'Complex/Reasoning (Text)' with confidence 0.85
2025-05-21 18:56:19,670 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-21 18:57:57,711 - __main__ - INFO - --- Starting SambaNova query: 'What is the most planted crop type in North USA...' ---
2025-05-21 18:57:57,713 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query refinement...
2025-05-21 18:57:59,503 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:57:59,506 - __main__ - INFO - SambaNova response for query refinement: 'What is the most commonly cultivated crop in the northern region of the United States of America....'
2025-05-21 18:57:59,507 - __main__ - INFO - Query refined by SambaNova to: 'What is the most commonly cultivated crop in the northern region of the United States of America....'
2025-05-21 18:57:59,509 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-21 18:58:01,141 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 18:58:01,143 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Simple Retrieval", "confidence": 0.8}...'
2025-05-21 18:58:01,143 - __main__ - INFO - Query classified as 'Simple Retrieval' with confidence 0.80
2025-05-21 18:58:01,144 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-21 19:00:01,138 - __main__ - INFO - --- Starting SambaNova query: 'Give me a complete analysis of the smart crop data...' ---
2025-05-21 19:00:01,141 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query refinement...
2025-05-21 19:00:03,614 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 19:00:03,617 - __main__ - INFO - SambaNova response for query refinement: 'Provide a comprehensive analysis of the smart crop data, including crop yields, soil health, weather patterns, and fertilizer usage, to identify trend...'
2025-05-21 19:00:03,617 - __main__ - INFO - Query refined by SambaNova to: 'Provide a comprehensive analysis of the smart crop data, including crop yields, soil health, weather...'
2025-05-21 19:00:03,620 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-21 19:00:04,845 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 19:00:04,848 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Complex/Reasoning (Text)", "confidence": 0.92}...'
2025-05-21 19:00:04,848 - __main__ - INFO - Query classified as 'Complex/Reasoning (Text)' with confidence 0.92
2025-05-21 19:00:04,849 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-21 19:00:11,751 - __main__ - INFO - Clearing existing tables from in-memory database...
2025-05-21 19:00:11,753 - __main__ - INFO - Dropped 1 tables.
2025-05-21 19:00:11,756 - __main__ - INFO - Processing 1 supported files from ./Data/
2025-05-21 19:00:11,757 - __main__ - INFO - --- Processing (1/1): Smart_Farming_Crop_Yield_2024.csv ---
2025-05-21 19:00:11,758 - __main__ - INFO - Processing CSV: Smart_Farming_Crop_Yield_2024.csv
2025-05-21 19:00:11,775 - __main__ - INFO - Read CSV Smart_Farming_Crop_Yield_2024.csv using encoding: utf-8. (Rows: 500, Cols: 22)
2025-05-21 19:00:11,796 - __main__ - INFO - Requesting column metadata from SambaNova for Smart_Farming_Crop_Yield_2024.csv...
2025-05-21 19:00:14,471 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-21 19:00:14,473 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 87 (char 88). Raw response: {
  "farm_id": { "description": "Unique identifier for each farm.", "sql_type": "TEXT" },
  "region": { "description": "Geographical region where the farm is located.", "sql_type": "TEXT" },
  "crop_type": { "description": "Type of crop being cultivated.", "sql_type": "TEXT" },
  "soil_moisture": { "description": "Soil moisture level measured in percentage.", "sql_type": "REAL" },
  "soil_pH": { "description": "Soil pH level, a measure of its acidity or alkalinity.", "sql_type": "REAL" },
  "temperature_C": { "description": "Temperature in degrees Celsius.", "sql_type": "REAL" },
  "rainfall_mm": { "description": "Amount of rainfall measured in millimeters.", "sql_type": "REAL" },
  "humidity": { "description": "Relative humidity level measured in percentage.", "sql_type": "REAL" },
  "sunlight_hours": { "description": "Number of hours of sunlight per day.", "sql_type": "REAL" },
  "irrigation_type": { "description": "Method or system used for irrigation.", "sql_type": "TEXT" },
  "fertilizer_type": { "description": "Type of fertilizer used.", "sql_type": "TEXT" },
  "pesticide_usage_ml": { "description": "Amount of pesticide used measured in milliliters.", "sql_type": "REAL" },
  "sowing_date": { "description": "Date when the crop was sown.", "sql_type": "TEXT" },
  "harvest_date": { "description": "Date when the crop was harvested.", "sql_type": "TEXT" },
  "total_days": { "description": "Total number of days from sowing to harvest.", "sql_type": "INTEGER" },
  "yield_kg_per_hectare": { "description": "Crop yield measured in kilograms per hectare.", "sql_type": "REAL" },
  "sensor_id": { "description": "Unique identifier for the sensor used.", "sql_type": "TEXT" },
  "timestamp": { "description": "Timestamp for when the data was recorded or updated.", "sql_type": "TEXT" },
  "latitude": { "description": "Geographical latitude of the farm location.", "sql_type": "REAL" },
  "longitude": { "description": "Geographical longitude of the farm location.", "sql_type": "REAL" },
  "NDVI_index": { "description": "Normalized Difference Vegetation Index, a measure of vegetation health.", "sql_type": "REAL" },
  "crop_disease_status": { "description": "Status or severity of disease affecting the crop.", "sql_type": "TEXT" }
}
2025-05-21 19:00:14,474 - __main__ - WARNING - Failed to get column metadata for CSV via SambaNova. Proceeding without descriptions.
2025-05-21 19:00:14,521 - __main__ - INFO - Loading DataFrame into SQL table 'smart_farming_crop_yield_2024'...
2025-05-21 19:00:14,563 - __main__ - INFO - DataFrame loaded into table 'smart_farming_crop_yield_2024' (500 rows).
2025-05-21 19:00:14,563 - __main__ - INFO - Successfully loaded CSV Smart_Farming_Crop_Yield_2024.csv into SQL table 'smart_farming_crop_yield_2024'
2025-05-21 19:00:14,564 - __main__ - INFO - --- Processing Complete. Processed 1 files. ---
2025-05-22 10:42:50,765 - __main__ - INFO - Loaded configuration from config1.ini
2025-05-22 10:42:50,766 - __main__ - INFO - Added missing option 'data_dir = ./Data/' to section [PATHS] from defaults.
2025-05-22 10:42:50,766 - __main__ - INFO - Added missing option 'sqlite_db_path = :memory:' to section [PATHS] from defaults.
2025-05-22 10:42:50,766 - __main__ - INFO - Added missing option 'sambanova_model = Meta-Llama-3.3-70B-Instruct' to section [MODELS] from defaults.
2025-05-22 10:42:50,766 - __main__ - INFO - Added missing option 'sambanova_base_url = https://api.sambanova.ai/v1' to section [MODELS] from defaults.
2025-05-22 10:42:50,766 - __main__ - INFO - Added missing option 'top_p = 0.1' to section [PARAMETERS] from defaults.
2025-05-22 10:42:50,766 - __main__ - INFO - Added missing option 'max_chars_per_element = 1200' to section [PARAMETERS] from defaults.
2025-05-22 10:42:50,766 - __main__ - INFO - Added missing option 'pptx_merge_threshold_words = 50' to section [PARAMETERS] from defaults.
2025-05-22 10:42:50,766 - __main__ - INFO - Added missing option 'dataframe_query_confidence_threshold = 0.70' to section [PARAMETERS] from defaults.
2025-05-22 10:42:50,766 - __main__ - INFO - Added missing option 'max_chat_history_turns = 5' to section [PARAMETERS] from defaults.
2025-05-22 10:42:50,766 - __main__ - INFO - Added missing section [SUPPORTED_EXTENSIONS] from defaults.
2025-05-22 10:42:50,766 - __main__ - INFO - Added missing option 'extensions = .pdf, .xlsx, .csv, .pptx' to section [SUPPORTED_EXTENSIONS] from defaults.
2025-05-22 10:42:50,766 - __main__ - INFO - Added missing section [API_KEYS] from defaults.
2025-05-22 10:42:50,766 - __main__ - INFO - Added missing option 'sambanova_api_key_config = ' to section [API_KEYS] from defaults.
2025-05-22 10:42:50,774 - __main__ - INFO - Initializing RAG system (SambaNova Version). Device: cuda, Supported files: ('.pdf', '.xlsx', '.csv', '.pptx')
2025-05-22 10:42:50,778 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda
2025-05-22 10:42:50,778 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-05-22 10:42:54,844 - __main__ - INFO - Local embedding model loaded successfully
2025-05-22 10:42:54,844 - __main__ - INFO - Connected to SQLite database at ':memory:'
2025-05-22 10:43:01,952 - __main__ - INFO - Clearing existing tables from in-memory database...
2025-05-22 10:43:01,952 - __main__ - INFO - Dropped 0 tables.
2025-05-22 10:43:01,953 - __main__ - INFO - Processing 1 supported files from ./Data/
2025-05-22 10:43:01,953 - __main__ - INFO - --- Processing (1/1): Smart_Farming_Crop_Yield_2024.csv ---
2025-05-22 10:43:01,953 - __main__ - INFO - Processing CSV: Smart_Farming_Crop_Yield_2024.csv
2025-05-22 10:43:01,963 - __main__ - INFO - Read CSV Smart_Farming_Crop_Yield_2024.csv using encoding: utf-8. (Rows: 500, Cols: 22)
2025-05-22 10:43:02,021 - __main__ - INFO - SambaNova OpenAI client initialized (Model: Meta-Llama-3.3-70B-Instruct, Base URL: https://api.sambanova.ai/v1)
2025-05-22 10:43:02,028 - __main__ - INFO - Requesting column metadata from SambaNova for Smart_Farming_Crop_Yield_2024.csv...
2025-05-22 10:43:04,951 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-22 10:43:04,956 - __main__ - ERROR - Failed to parse JSON metadata from SambaNova: Expecting ',' delimiter: line 2 column 87 (char 88). Raw response: {
  "farm_id": { "description": "Unique identifier for each farm.", "sql_type": "TEXT" },
  "region": { "description": "Geographical region where the farm is located.", "sql_type": "TEXT" },
  "crop_type": { "description": "Type of crop being cultivated.", "sql_type": "TEXT" },
  "soil_moisture": { "description": "Soil moisture level measured in percentage.", "sql_type": "REAL" },
  "soil_pH": { "description": "Soil pH level, a measure of its acidity or alkalinity.", "sql_type": "REAL" },
  "temperature_C": { "description": "Temperature in degrees Celsius.", "sql_type": "REAL" },
  "rainfall_mm": { "description": "Amount of rainfall measured in millimeters.", "sql_type": "REAL" },
  "humidity": { "description": "Relative humidity level measured in percentage.", "sql_type": "REAL" },
  "sunlight_hours": { "description": "Number of hours of sunlight per day.", "sql_type": "REAL" },
  "irrigation_type": { "description": "Method or system used for irrigation.", "sql_type": "TEXT" },
  "fertilizer_type": { "description": "Type of fertilizer used.", "sql_type": "TEXT" },
  "pesticide_usage_ml": { "description": "Amount of pesticide used measured in milliliters.", "sql_type": "REAL" },
  "sowing_date": { "description": "Date when the crop was sown.", "sql_type": "TEXT" },
  "harvest_date": { "description": "Date when the crop was harvested.", "sql_type": "TEXT" },
  "total_days": { "description": "Total number of days from sowing to harvest.", "sql_type": "INTEGER" },
  "yield_kg_per_hectare": { "description": "Crop yield measured in kilograms per hectare.", "sql_type": "REAL" },
  "sensor_id": { "description": "Unique identifier for the sensor used.", "sql_type": "TEXT" },
  "timestamp": { "description": "Timestamp for when the data was recorded or updated.", "sql_type": "TEXT" },
  "latitude": { "description": "Geographical latitude of the farm location.", "sql_type": "REAL" },
  "longitude": { "description": "Geographical longitude of the farm location.", "sql_type": "REAL" },
  "NDVI_index": { "description": "Normalized Difference Vegetation Index, a measure of vegetation health.", "sql_type": "REAL" },
  "crop_disease_status": { "description": "Status or severity of disease affecting the crop.", "sql_type": "TEXT" }
}
2025-05-22 10:43:04,956 - __main__ - WARNING - Failed to get column metadata for CSV via SambaNova. Proceeding without descriptions.
2025-05-22 10:43:04,965 - __main__ - INFO - Loading DataFrame into SQL table 'smart_farming_crop_yield_2024'...
2025-05-22 10:43:04,977 - __main__ - INFO - DataFrame loaded into table 'smart_farming_crop_yield_2024' (500 rows).
2025-05-22 10:43:04,978 - __main__ - INFO - Successfully loaded CSV Smart_Farming_Crop_Yield_2024.csv into SQL table 'smart_farming_crop_yield_2024'
2025-05-22 10:43:04,978 - __main__ - INFO - --- Processing Complete. Processed 1 files. ---
2025-05-22 10:43:56,996 - __main__ - INFO - --- Starting SambaNova query: 'Give me ratio of crop type to soil moisture %...' ---
2025-05-22 10:43:56,997 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-22 10:43:58,399 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-22 10:43:58,403 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Structured Query (SQL)", "confidence": 0.95}...'
2025-05-22 10:43:58,403 - __main__ - INFO - Query classified as 'Structured Query (SQL)' with confidence 0.95
2025-05-22 10:43:58,405 - __main__ - INFO - Attempting SQL path with SambaNova assistance.
2025-05-22 10:43:58,406 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: SQL target table identification...
2025-05-22 10:43:59,469 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-22 10:43:59,471 - __main__ - INFO - SambaNova response for SQL target table identification: 'smart_farming_crop_yield_2024...'
2025-05-22 10:43:59,471 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: SQL query generation for smart_farming_crop_yield_2024...
2025-05-22 10:44:00,692 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-22 10:44:00,695 - __main__ - INFO - SambaNova response for SQL query generation for smart_farming_crop_yield_2024: '```sql
SELECT 
  "crop_type", 
  AVG("soil_moisture") AS "average_soil_moisture"
FROM 
  smart_farming_crop_yield_2024
GROUP BY 
  "crop_type"
```...'
2025-05-22 10:44:00,695 - __main__ - INFO - Generated SQL for 'smart_farming_crop_yield_2024': SELECT 
  "crop_type", 
  AVG("soil_moisture") AS "average_soil_moisture"
FROM 
  smart_farming_crop_yield_2024
GROUP BY 
  "crop_type"
2025-05-22 10:44:00,696 - __main__ - INFO - Executing SQL: SELECT 
  "crop_type", 
  AVG("soil_moisture") AS "average_soil_moisture"
FROM 
  smart_farming_crop_yield_2024
GROUP BY 
  "crop_type"
2025-05-22 10:44:00,702 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: SQL result synthesis...
2025-05-22 10:44:02,022 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-22 10:44:02,024 - __main__ - INFO - SambaNova response for SQL result synthesis: 'The ratio of crop type to soil moisture percentage varies across different crops. On average, Cotton has around 26.53% soil moisture, Maize has 26.58%...'
2025-05-22 10:44:02,024 - __main__ - INFO - --- SambaNova query finished. Source: SQL Query (SambaNova assisted) --- Status: Completed Successfully ---
2025-05-22 10:44:18,828 - __main__ - INFO - --- Starting SambaNova query: 'Give me a table of crop type to soil moisture ...' ---
2025-05-22 10:44:18,829 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query refinement...
2025-05-22 10:44:20,457 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-22 10:44:20,458 - __main__ - INFO - SambaNova response for query refinement: 'Provide a comprehensive table illustrating the correlation between various crop types and their corresponding average soil moisture percentages....'
2025-05-22 10:44:20,458 - __main__ - INFO - Query refined by SambaNova to: 'Provide a comprehensive table illustrating the correlation between various crop types and their corr...'
2025-05-22 10:44:20,460 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-22 10:44:21,473 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-22 10:44:21,476 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Structured Query (SQL)", "confidence": 0.95}...'
2025-05-22 10:44:21,476 - __main__ - INFO - Query classified as 'Structured Query (SQL)' with confidence 0.95
2025-05-22 10:44:21,477 - __main__ - INFO - Attempting SQL path with SambaNova assistance.
2025-05-22 10:44:21,477 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: SQL target table identification...
2025-05-22 10:44:22,496 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-22 10:44:22,499 - __main__ - INFO - SambaNova response for SQL target table identification: 'smart_farming_crop_yield_2024...'
2025-05-22 10:44:22,499 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: SQL query generation for smart_farming_crop_yield_2024...
2025-05-22 10:44:23,732 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-22 10:44:23,735 - __main__ - INFO - SambaNova response for SQL query generation for smart_farming_crop_yield_2024: '```sql
SELECT 
  "crop_type",
  AVG("soil_moisture") AS "average_soil_moisture"
FROM 
  smart_farming_crop_yield_2024
GROUP BY 
  "crop_type"
ORDER BY...'
2025-05-22 10:44:23,735 - __main__ - INFO - Generated SQL for 'smart_farming_crop_yield_2024': SELECT 
  "crop_type",
  AVG("soil_moisture") AS "average_soil_moisture"
FROM 
  smart_farming_crop_yield_2024
GROUP BY 
  "crop_type"
ORDER BY 
  "average_soil_moisture" DESC
2025-05-22 10:44:23,735 - __main__ - INFO - Executing SQL: SELECT 
  "crop_type",
  AVG("soil_moisture") AS "average_soil_moisture"
FROM 
  smart_farming_crop_yield_2024
GROUP BY 
  "crop_type"
ORDER BY 
  "average_soil_moisture" DESC
2025-05-22 10:44:23,743 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: SQL result synthesis...
2025-05-22 10:44:25,160 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-22 10:44:25,161 - __main__ - INFO - SambaNova response for SQL result synthesis: 'Here is a comprehensive table illustrating the correlation between various crop types and their corresponding average soil moisture percentages:

| Cr...'
2025-05-22 10:44:25,161 - __main__ - INFO - --- SambaNova query finished. Source: SQL Query (SambaNova assisted) --- Status: Completed Successfully ---
2025-05-22 10:45:45,005 - __main__ - INFO - --- Starting SambaNova query: 'Give me an analysis on which is the best crop to be planted in North India and a reasoning for you a...' ---
2025-05-22 10:45:45,006 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query refinement...
2025-05-22 10:45:46,859 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-22 10:45:46,862 - __main__ - INFO - SambaNova response for query refinement: 'Analyze the suitability of various crops in North India, considering factors such as climate, soil type, and water availability, to determine the most...'
2025-05-22 10:45:46,862 - __main__ - INFO - Query refined by SambaNova to: 'Analyze the suitability of various crops in North India, considering factors such as climate, soil t...'
2025-05-22 10:45:46,865 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-22 10:45:47,885 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-22 10:45:47,887 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Complex/Reasoning (Text)", "confidence": 0.92}...'
2025-05-22 10:45:47,888 - __main__ - INFO - Query classified as 'Complex/Reasoning (Text)' with confidence 0.92
2025-05-22 10:45:47,889 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-22 10:46:34,156 - __main__ - INFO - --- Starting SambaNova query: 'Which is the best crop in North india?...' ---
2025-05-22 10:46:34,156 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query refinement...
2025-05-22 10:46:35,903 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-22 10:46:35,906 - __main__ - INFO - SambaNova response for query refinement: 'What is the most suitable crop to plant in North India, considering factors such as climate, soil type, and market demand?...'
2025-05-22 10:46:35,906 - __main__ - INFO - Query refined by SambaNova to: 'What is the most suitable crop to plant in North India, considering factors such as climate, soil ty...'
2025-05-22 10:46:35,908 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-22 10:46:36,942 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-22 10:46:36,944 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Complex/Reasoning (Text)", "confidence": 0.92}...'
2025-05-22 10:46:36,944 - __main__ - INFO - Query classified as 'Complex/Reasoning (Text)' with confidence 0.92
2025-05-22 10:46:36,945 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-22 10:46:48,372 - __main__ - INFO - --- Starting SambaNova query: 'What is most used crop in North india?...' ---
2025-05-22 10:46:48,373 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query refinement...
2025-05-22 10:46:50,254 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-22 10:46:50,257 - __main__ - INFO - SambaNova response for query refinement: 'What is the most widely cultivated or used crop in the North Indian region, considering factors such as climate, soil type, and market demand?...'
2025-05-22 10:46:50,257 - __main__ - INFO - Query refined by SambaNova to: 'What is the most widely cultivated or used crop in the North Indian region, considering factors such...'
2025-05-22 10:46:50,260 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-22 10:46:51,676 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-22 10:46:51,678 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Complex/Reasoning (Text)", "confidence": 0.92}...'
2025-05-22 10:46:51,679 - __main__ - INFO - Query classified as 'Complex/Reasoning (Text)' with confidence 0.92
2025-05-22 10:46:51,679 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-22 10:47:06,473 - __main__ - INFO - --- Starting SambaNova query: 'what is the most used crop type in North Inida...' ---
2025-05-22 10:47:06,473 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query refinement...
2025-05-22 10:47:08,157 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-22 10:47:08,160 - __main__ - INFO - SambaNova response for query refinement: 'What is the most widely cultivated or dominant crop type in the North Indian region, considering factors such as climate, soil, and agricultural pract...'
2025-05-22 10:47:08,160 - __main__ - INFO - Query refined by SambaNova to: 'What is the most widely cultivated or dominant crop type in the North Indian region, considering fac...'
2025-05-22 10:47:08,164 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-22 10:47:09,390 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-22 10:47:09,392 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Complex/Reasoning (Text)", "confidence": 0.92}...'
2025-05-22 10:47:09,393 - __main__ - INFO - Query classified as 'Complex/Reasoning (Text)' with confidence 0.92
2025-05-22 10:47:09,394 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-22 10:47:22,471 - __main__ - INFO - --- Starting SambaNova query: 'What is the most used crop type in South USA...' ---
2025-05-22 10:47:22,472 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query refinement...
2025-05-22 10:47:24,230 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-22 10:47:24,233 - __main__ - INFO - SambaNova response for query refinement: 'What are the predominant crop types cultivated in the Southern United States, considering factors such as climate, soil, and regional agricultural pra...'
2025-05-22 10:47:24,234 - __main__ - INFO - Query refined by SambaNova to: 'What are the predominant crop types cultivated in the Southern United States, considering factors su...'
2025-05-22 10:47:24,236 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-22 10:47:25,358 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-22 10:47:25,360 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Complex/Reasoning (Text)", "confidence": 0.92}...'
2025-05-22 10:47:25,360 - __main__ - INFO - Query classified as 'Complex/Reasoning (Text)' with confidence 0.92
2025-05-22 10:47:25,361 - __main__ - INFO - Proceeding with Text RAG using SambaNova.
2025-05-22 10:47:38,877 - __main__ - INFO - --- Starting SambaNova query: 'What is the average soil moisture in South USA...' ---
2025-05-22 10:47:38,878 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query refinement...
2025-05-22 10:47:40,613 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-22 10:47:40,615 - __main__ - INFO - SambaNova response for query refinement: 'What is the average soil moisture level in the Southern United States, considering factors such as climate, region, and time of year....'
2025-05-22 10:47:40,615 - __main__ - INFO - Query refined by SambaNova to: 'What is the average soil moisture level in the Southern United States, considering factors such as c...'
2025-05-22 10:47:40,618 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-22 10:47:41,637 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-22 10:47:41,640 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Structured Query (SQL)", "confidence": 0.95}...'
2025-05-22 10:47:41,644 - __main__ - INFO - Query classified as 'Structured Query (SQL)' with confidence 0.95
2025-05-22 10:47:41,645 - __main__ - INFO - Attempting SQL path with SambaNova assistance.
2025-05-22 10:47:41,646 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: SQL target table identification...
2025-05-22 10:47:42,762 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-22 10:47:42,765 - __main__ - INFO - SambaNova response for SQL target table identification: 'smart_farming_crop_yield_2024...'
2025-05-22 10:47:42,765 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: SQL query generation for smart_farming_crop_yield_2024...
2025-05-22 10:47:44,100 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-22 10:47:44,102 - __main__ - INFO - SambaNova response for SQL query generation for smart_farming_crop_yield_2024: '```sql
SELECT AVG("soil_moisture") 
FROM smart_farming_crop_yield_2024 
WHERE "region" = 'Southern United States';
```...'
2025-05-22 10:47:44,103 - __main__ - INFO - Generated SQL for 'smart_farming_crop_yield_2024': SELECT AVG("soil_moisture") 
FROM smart_farming_crop_yield_2024 
WHERE "region" = 'Southern United States'
2025-05-22 10:47:44,103 - __main__ - INFO - Executing SQL: SELECT AVG("soil_moisture") 
FROM smart_farming_crop_yield_2024 
WHERE "region" = 'Southern United States'
2025-05-22 10:47:44,107 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: SQL result synthesis...
2025-05-22 10:47:45,328 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-22 10:47:45,331 - __main__ - INFO - SambaNova response for SQL result synthesis: 'The average soil moisture level in the Southern United States cannot be determined as the data is incomplete, showing "None" as the result....'
2025-05-22 10:47:45,331 - __main__ - INFO - --- SambaNova query finished. Source: SQL Query (SambaNova assisted) --- Status: Completed Successfully ---
2025-05-22 11:17:12,938 - __main__ - INFO - --- Starting SambaNova query: 'Give me a table of regions vs crop type...' ---
2025-05-22 11:17:12,938 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query refinement...
2025-05-22 11:17:14,726 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-22 11:17:14,728 - __main__ - INFO - SambaNova response for query refinement: 'Provide a comprehensive table outlining the primary crop types cultivated in various regions, including North India, South USA, and other notable area...'
2025-05-22 11:17:14,728 - __main__ - INFO - Query refined by SambaNova to: 'Provide a comprehensive table outlining the primary crop types cultivated in various regions, includ...'
2025-05-22 11:17:14,731 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: query classification...
2025-05-22 11:17:15,756 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-22 11:17:15,759 - __main__ - INFO - SambaNova response for query classification: '{"classification": "Structured Query (SQL)", "confidence": 0.92}...'
2025-05-22 11:17:15,759 - __main__ - INFO - Query classified as 'Structured Query (SQL)' with confidence 0.92
2025-05-22 11:17:15,760 - __main__ - INFO - Attempting SQL path with SambaNova assistance.
2025-05-22 11:17:15,760 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: SQL target table identification...
2025-05-22 11:17:16,882 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-22 11:17:16,885 - __main__ - INFO - SambaNova response for SQL target table identification: 'smart_farming_crop_yield_2024...'
2025-05-22 11:17:16,886 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: SQL query generation for smart_farming_crop_yield_2024...
2025-05-22 11:17:18,321 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-22 11:17:18,324 - __main__ - INFO - SambaNova response for SQL query generation for smart_farming_crop_yield_2024: '```sql
SELECT 
  "region" AS "Region",
  "crop_type" AS "Primary Crop Type",
  COUNT("farm_id") AS "Number of Farms",
  AVG("yield_kg_per_hectare") AS...'
2025-05-22 11:17:18,324 - __main__ - INFO - Generated SQL for 'smart_farming_crop_yield_2024': SELECT 
  "region" AS "Region",
  "crop_type" AS "Primary Crop Type",
  COUNT("farm_id") AS "Number of Farms",
  AVG("yield_kg_per_hectare") AS "Average Yield (kg/ha)",
  MIN("yield_kg_per_hectare") AS "Minimum Yield (kg/ha)",
  MAX("yield_kg_per_hectare") AS "Maximum Yield (kg/ha)"
FROM 
  smart_farming_crop_yield_2024
GROUP BY 
  "region", "crop_type"
ORDER BY 
  "region", "crop_type"
2025-05-22 11:17:18,325 - __main__ - INFO - Executing SQL: SELECT 
  "region" AS "Region",
  "crop_type" AS "Primary Crop Type",
  COUNT("farm_id") AS "Number of Farms",
  AVG("yield_kg_per_hectare") AS "Average Yield (kg/ha)",
  MIN("yield_kg_per_hectare") AS "Minimum Yield (kg/ha)",
  MAX("yield_kg_per_hectare") AS "Maximum Yield (kg/ha)"
FROM 
  smart_farming_crop_yield_2024
GROUP BY 
  "region", "crop_type"
ORDER BY 
  "region", "crop_type"
2025-05-22 11:17:18,341 - __main__ - INFO - Calling SambaNova LLM (Meta-Llama-3.3-70B-Instruct) for task: SQL result synthesis...
2025-05-22 11:17:19,957 - httpx - INFO - HTTP Request: POST https://api.sambanova.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-22 11:17:19,959 - __main__ - INFO - SambaNova response for SQL result synthesis: 'Based on the provided data, here is a comprehensive table outlining the primary crop types cultivated in various regions:

The primary crop types in d...'
2025-05-22 11:17:19,960 - __main__ - INFO - --- SambaNova query finished. Source: SQL Query (SambaNova assisted) --- Status: Completed Successfully ---
